{"dependencies":[{"name":"../../handlersRegistry","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":24,"index":145},"end":{"line":7,"column":57,"index":178}}],"key":"ZaQ44tMlNi0uwwL9WSHpSUsXoLw=","exportNames":["*"],"imports":1}},{"name":"../../../RNGestureHandlerModule","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":53,"index":233},"end":{"line":8,"column":95,"index":275}}],"key":"RCDdIknCoffiRx5ELXjRDwUd78Y=","exportNames":["*"],"imports":1}},{"name":"../../utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":13,"index":291},"end":{"line":9,"column":35,"index":313}}],"key":"/gxgMVIBQIOS9WgzAWnJsYriGvM=","exportNames":["*"],"imports":1}},{"name":"../../../ActionType","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":18,"index":333},"end":{"line":10,"column":48,"index":363}}],"key":"gYYgg0THnWXWh/2KlF2llIoqsgE=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/index","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"55efhPHw3gz2FoQtoN2yI1VuhbM=","exportNames":["*"],"imports":1}},{"name":"../../../ghQueueMicrotask","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":12,"column":24,"index":433},"end":{"line":12,"column":60,"index":469}}],"key":"bloXnJQHwqvTb0wIEM895i4Wj90=","exportNames":["*"],"imports":1}},{"name":"./utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":13,"column":14,"index":485},"end":{"line":13,"column":32,"index":503}}],"key":"Arg6QRuIuy5D/jfcnxX1qJiHjX8=","exportNames":["*"],"imports":1}},{"name":"../../../mountRegistry","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":14,"column":21,"index":526},"end":{"line":14,"column":54,"index":559}}],"key":"EgFtYEHVZph/u3n2IoKpGlRcNgQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.attachHandlers = attachHandlers;\n  var _handlersRegistry = require(_dependencyMap[0], \"../../handlersRegistry\");\n  var _RNGestureHandlerModule = _interopRequireDefault(require(_dependencyMap[1], \"../../../RNGestureHandlerModule\"));\n  var _utils = require(_dependencyMap[2], \"../../utils\");\n  var _ActionType = require(_dependencyMap[3], \"../../../ActionType\");\n  var _reactNative = require(_dependencyMap[4], \"react-native-web/dist/index\");\n  var _ghQueueMicrotask = require(_dependencyMap[5], \"../../../ghQueueMicrotask\");\n  var _utils2 = require(_dependencyMap[6], \"./utils\");\n  var _mountRegistry = require(_dependencyMap[7], \"../../../mountRegistry\");\n  function _interopRequireDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function attachHandlers({\n    preparedGesture,\n    gestureConfig,\n    gesturesToAttach,\n    viewTag,\n    webEventHandlersRef\n  }) {\n    gestureConfig.initialize();\n\n    // Use queueMicrotask to extract handlerTags, because all refs should be initialized\n    // when it's ran\n    (0, _ghQueueMicrotask.ghQueueMicrotask)(() => {\n      if (!preparedGesture.isMounted) {\n        return;\n      }\n      gestureConfig.prepare();\n    });\n    for (const handler of gesturesToAttach) {\n      (0, _utils2.checkGestureCallbacksForWorklets)(handler);\n      _RNGestureHandlerModule.default.createGestureHandler(handler.handlerName, handler.handlerTag, (0, _utils.filterConfig)(handler.config, _utils2.ALLOWED_PROPS));\n      (0, _handlersRegistry.registerHandler)(handler.handlerTag, handler, handler.config.testId);\n    }\n\n    // Use queueMicrotask to extract handlerTags, because all refs should be initialized\n    // when it's ran\n    (0, _ghQueueMicrotask.ghQueueMicrotask)(() => {\n      if (!preparedGesture.isMounted) {\n        return;\n      }\n      for (const handler of gesturesToAttach) {\n        _RNGestureHandlerModule.default.updateGestureHandler(handler.handlerTag, (0, _utils.filterConfig)(handler.config, _utils2.ALLOWED_PROPS, (0, _utils2.extractGestureRelations)(handler)));\n      }\n      (0, _utils.scheduleFlushOperations)();\n    });\n    for (const gesture of gesturesToAttach) {\n      const actionType = gesture.shouldUseReanimated ? _ActionType.ActionType.REANIMATED_WORKLET : _ActionType.ActionType.JS_FUNCTION_NEW_API;\n      if (_reactNative.Platform.OS === 'web') {\n        _RNGestureHandlerModule.default.attachGestureHandler(gesture.handlerTag, viewTag, _ActionType.ActionType.JS_FUNCTION_OLD_API,\n        // Ignored on web\n        webEventHandlersRef);\n      } else {\n        _RNGestureHandlerModule.default.attachGestureHandler(gesture.handlerTag, viewTag, actionType);\n      }\n      _mountRegistry.MountRegistry.gestureWillMount(gesture);\n    }\n    preparedGesture.attachedGestures = gesturesToAttach;\n    if (preparedGesture.animatedHandlers) {\n      const isAnimatedGesture = g => g.shouldUseReanimated;\n      preparedGesture.animatedHandlers.value = gesturesToAttach.filter(isAnimatedGesture).map(g => g.handlers);\n    }\n  }\n});","lineCount":72,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"attachHandlers"],[7,24,6,22],[7,27,6,25,"attachHandlers"],[7,41,6,39],[8,2,7,0],[8,6,7,4,"_handlersRegistry"],[8,23,7,21],[8,26,7,24,"require"],[8,33,7,31],[8,34,7,31,"_dependencyMap"],[8,48,7,31],[8,77,7,56],[8,78,7,57],[9,2,8,0],[9,6,8,4,"_RNGestureHandlerModule"],[9,29,8,27],[9,32,8,30,"_interopRequireDefault"],[9,54,8,52],[9,55,8,53,"require"],[9,62,8,60],[9,63,8,60,"_dependencyMap"],[9,77,8,60],[9,115,8,94],[9,116,8,95],[9,117,8,96],[10,2,9,0],[10,6,9,4,"_utils"],[10,12,9,10],[10,15,9,13,"require"],[10,22,9,20],[10,23,9,20,"_dependencyMap"],[10,37,9,20],[10,55,9,34],[10,56,9,35],[11,2,10,0],[11,6,10,4,"_ActionType"],[11,17,10,15],[11,20,10,18,"require"],[11,27,10,25],[11,28,10,25,"_dependencyMap"],[11,42,10,25],[11,68,10,47],[11,69,10,48],[12,2,10,49],[12,6,10,49,"_reactNative"],[12,18,10,49],[12,21,10,49,"require"],[12,28,10,49],[12,29,10,49,"_dependencyMap"],[12,43,10,49],[13,2,12,0],[13,6,12,4,"_ghQueueMicrotask"],[13,23,12,21],[13,26,12,24,"require"],[13,33,12,31],[13,34,12,31,"_dependencyMap"],[13,48,12,31],[13,80,12,59],[13,81,12,60],[14,2,13,0],[14,6,13,4,"_utils2"],[14,13,13,11],[14,16,13,14,"require"],[14,23,13,21],[14,24,13,21,"_dependencyMap"],[14,38,13,21],[14,52,13,31],[14,53,13,32],[15,2,14,0],[15,6,14,4,"_mountRegistry"],[15,20,14,18],[15,23,14,21,"require"],[15,30,14,28],[15,31,14,28,"_dependencyMap"],[15,45,14,28],[15,74,14,53],[15,75,14,54],[16,2,15,0],[16,11,15,9,"_interopRequireDefault"],[16,33,15,31,"_interopRequireDefault"],[16,34,15,32,"e"],[16,35,15,33],[16,37,15,35],[17,4,15,37],[17,11,15,44,"e"],[17,12,15,45],[17,16,15,49,"e"],[17,17,15,50],[17,18,15,51,"__esModule"],[17,28,15,61],[17,31,15,64,"e"],[17,32,15,65],[17,35,15,68],[18,6,15,70,"default"],[18,13,15,77],[18,15,15,79,"e"],[19,4,15,81],[19,5,15,82],[20,2,15,84],[21,2,16,0],[21,11,16,9,"attachHandlers"],[21,25,16,23,"attachHandlers"],[21,26,16,24],[22,4,17,2,"preparedGesture"],[22,19,17,17],[23,4,18,2,"gestureConfig"],[23,17,18,15],[24,4,19,2,"gesturesToAttach"],[24,20,19,18],[25,4,20,2,"viewTag"],[25,11,20,9],[26,4,21,2,"webEventHandlersRef"],[27,2,22,0],[27,3,22,1],[27,5,22,3],[28,4,23,2,"gestureConfig"],[28,17,23,15],[28,18,23,16,"initialize"],[28,28,23,26],[28,29,23,27],[28,30,23,28],[30,4,25,2],[31,4,26,2],[32,4,27,2],[32,5,27,3],[32,6,27,4],[32,8,27,6,"_ghQueueMicrotask"],[32,25,27,23],[32,26,27,24,"ghQueueMicrotask"],[32,42,27,40],[32,44,27,42],[32,50,27,48],[33,6,28,4],[33,10,28,8],[33,11,28,9,"preparedGesture"],[33,26,28,24],[33,27,28,25,"isMounted"],[33,36,28,34],[33,38,28,36],[34,8,29,6],[35,6,30,4],[36,6,31,4,"gestureConfig"],[36,19,31,17],[36,20,31,18,"prepare"],[36,27,31,25],[36,28,31,26],[36,29,31,27],[37,4,32,2],[37,5,32,3],[37,6,32,4],[38,4,33,2],[38,9,33,7],[38,15,33,13,"handler"],[38,22,33,20],[38,26,33,24,"gesturesToAttach"],[38,42,33,40],[38,44,33,42],[39,6,34,4],[39,7,34,5],[39,8,34,6],[39,10,34,8,"_utils2"],[39,17,34,15],[39,18,34,16,"checkGestureCallbacksForWorklets"],[39,50,34,48],[39,52,34,50,"handler"],[39,59,34,57],[39,60,34,58],[40,6,35,4,"_RNGestureHandlerModule"],[40,29,35,27],[40,30,35,28,"default"],[40,37,35,35],[40,38,35,36,"createGestureHandler"],[40,58,35,56],[40,59,35,57,"handler"],[40,66,35,64],[40,67,35,65,"handlerName"],[40,78,35,76],[40,80,35,78,"handler"],[40,87,35,85],[40,88,35,86,"handlerTag"],[40,98,35,96],[40,100,35,98],[40,101,35,99],[40,102,35,100],[40,104,35,102,"_utils"],[40,110,35,108],[40,111,35,109,"filterConfig"],[40,123,35,121],[40,125,35,123,"handler"],[40,132,35,130],[40,133,35,131,"config"],[40,139,35,137],[40,141,35,139,"_utils2"],[40,148,35,146],[40,149,35,147,"ALLOWED_PROPS"],[40,162,35,160],[40,163,35,161],[40,164,35,162],[41,6,36,4],[41,7,36,5],[41,8,36,6],[41,10,36,8,"_handlersRegistry"],[41,27,36,25],[41,28,36,26,"registerHandler"],[41,43,36,41],[41,45,36,43,"handler"],[41,52,36,50],[41,53,36,51,"handlerTag"],[41,63,36,61],[41,65,36,63,"handler"],[41,72,36,70],[41,74,36,72,"handler"],[41,81,36,79],[41,82,36,80,"config"],[41,88,36,86],[41,89,36,87,"testId"],[41,95,36,93],[41,96,36,94],[42,4,37,2],[44,4,39,2],[45,4,40,2],[46,4,41,2],[46,5,41,3],[46,6,41,4],[46,8,41,6,"_ghQueueMicrotask"],[46,25,41,23],[46,26,41,24,"ghQueueMicrotask"],[46,42,41,40],[46,44,41,42],[46,50,41,48],[47,6,42,4],[47,10,42,8],[47,11,42,9,"preparedGesture"],[47,26,42,24],[47,27,42,25,"isMounted"],[47,36,42,34],[47,38,42,36],[48,8,43,6],[49,6,44,4],[50,6,45,4],[50,11,45,9],[50,17,45,15,"handler"],[50,24,45,22],[50,28,45,26,"gesturesToAttach"],[50,44,45,42],[50,46,45,44],[51,8,46,6,"_RNGestureHandlerModule"],[51,31,46,29],[51,32,46,30,"default"],[51,39,46,37],[51,40,46,38,"updateGestureHandler"],[51,60,46,58],[51,61,46,59,"handler"],[51,68,46,66],[51,69,46,67,"handlerTag"],[51,79,46,77],[51,81,46,79],[51,82,46,80],[51,83,46,81],[51,85,46,83,"_utils"],[51,91,46,89],[51,92,46,90,"filterConfig"],[51,104,46,102],[51,106,46,104,"handler"],[51,113,46,111],[51,114,46,112,"config"],[51,120,46,118],[51,122,46,120,"_utils2"],[51,129,46,127],[51,130,46,128,"ALLOWED_PROPS"],[51,143,46,141],[51,145,46,143],[51,146,46,144],[51,147,46,145],[51,149,46,147,"_utils2"],[51,156,46,154],[51,157,46,155,"extractGestureRelations"],[51,180,46,178],[51,182,46,180,"handler"],[51,189,46,187],[51,190,46,188],[51,191,46,189],[51,192,46,190],[52,6,47,4],[53,6,48,4],[53,7,48,5],[53,8,48,6],[53,10,48,8,"_utils"],[53,16,48,14],[53,17,48,15,"scheduleFlushOperations"],[53,40,48,38],[53,42,48,40],[53,43,48,41],[54,4,49,2],[54,5,49,3],[54,6,49,4],[55,4,50,2],[55,9,50,7],[55,15,50,13,"gesture"],[55,22,50,20],[55,26,50,24,"gesturesToAttach"],[55,42,50,40],[55,44,50,42],[56,6,51,4],[56,12,51,10,"actionType"],[56,22,51,20],[56,25,51,23,"gesture"],[56,32,51,30],[56,33,51,31,"shouldUseReanimated"],[56,52,51,50],[56,55,51,53,"_ActionType"],[56,66,51,64],[56,67,51,65,"ActionType"],[56,77,51,75],[56,78,51,76,"REANIMATED_WORKLET"],[56,96,51,94],[56,99,51,97,"_ActionType"],[56,110,51,108],[56,111,51,109,"ActionType"],[56,121,51,119],[56,122,51,120,"JS_FUNCTION_NEW_API"],[56,141,51,139],[57,6,52,4],[57,10,52,8,"_reactNative"],[57,22,52,20],[57,23,52,21,"Platform"],[57,31,52,29],[57,32,52,30,"OS"],[57,34,52,32],[57,39,52,37],[57,44,52,42],[57,46,52,44],[58,8,53,6,"_RNGestureHandlerModule"],[58,31,53,29],[58,32,53,30,"default"],[58,39,53,37],[58,40,53,38,"attachGestureHandler"],[58,60,53,58],[58,61,53,59,"gesture"],[58,68,53,66],[58,69,53,67,"handlerTag"],[58,79,53,77],[58,81,53,79,"viewTag"],[58,88,53,86],[58,90,53,88,"_ActionType"],[58,101,53,99],[58,102,53,100,"ActionType"],[58,112,53,110],[58,113,53,111,"JS_FUNCTION_OLD_API"],[58,132,53,130],[59,8,54,6],[60,8,55,6,"webEventHandlersRef"],[60,27,55,25],[60,28,55,26],[61,6,56,4],[61,7,56,5],[61,13,56,11],[62,8,57,6,"_RNGestureHandlerModule"],[62,31,57,29],[62,32,57,30,"default"],[62,39,57,37],[62,40,57,38,"attachGestureHandler"],[62,60,57,58],[62,61,57,59,"gesture"],[62,68,57,66],[62,69,57,67,"handlerTag"],[62,79,57,77],[62,81,57,79,"viewTag"],[62,88,57,86],[62,90,57,88,"actionType"],[62,100,57,98],[62,101,57,99],[63,6,58,4],[64,6,59,4,"_mountRegistry"],[64,20,59,18],[64,21,59,19,"MountRegistry"],[64,34,59,32],[64,35,59,33,"gestureWillMount"],[64,51,59,49],[64,52,59,50,"gesture"],[64,59,59,57],[64,60,59,58],[65,4,60,2],[66,4,61,2,"preparedGesture"],[66,19,61,17],[66,20,61,18,"attachedGestures"],[66,36,61,34],[66,39,61,37,"gesturesToAttach"],[66,55,61,53],[67,4,62,2],[67,8,62,6,"preparedGesture"],[67,23,62,21],[67,24,62,22,"animatedHandlers"],[67,40,62,38],[67,42,62,40],[68,6,63,4],[68,12,63,10,"isAnimatedGesture"],[68,29,63,27],[68,32,63,30,"g"],[68,33,63,31],[68,37,63,35,"g"],[68,38,63,36],[68,39,63,37,"shouldUseReanimated"],[68,58,63,56],[69,6,64,4,"preparedGesture"],[69,21,64,19],[69,22,64,20,"animatedHandlers"],[69,38,64,36],[69,39,64,37,"value"],[69,44,64,42],[69,47,64,45,"gesturesToAttach"],[69,63,64,61],[69,64,64,62,"filter"],[69,70,64,68],[69,71,64,69,"isAnimatedGesture"],[69,88,64,86],[69,89,64,87],[69,90,64,88,"map"],[69,93,64,91],[69,94,64,92,"g"],[69,95,64,93],[69,99,64,97,"g"],[69,100,64,98],[69,101,64,99,"handlers"],[69,109,64,107],[69,110,64,108],[70,4,65,2],[71,2,66,0],[72,0,66,1],[72,3]],"functionMap":{"names":["<global>","_interopRequireDefault","attachHandlers","<anonymous>","isAnimatedGesture","gesturesToAttach.filter.map$argument_0"],"mappings":"AAA;ACc,qFD;AEC;0CCW;GDK;0CCS;GDQ;8BEc,0BF;4FGC,eH;CFE"},"hasCjsExports":true},"type":"js/module"}]}