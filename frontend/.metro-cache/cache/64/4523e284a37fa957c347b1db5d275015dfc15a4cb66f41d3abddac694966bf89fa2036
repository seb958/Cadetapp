{"dependencies":[{"name":"./PlatformChecker.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":54,"index":69}}],"key":"6AA7RQghlqlrd3hVWNoLh/rI420=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"shareableMappingFlag\", {\n    enumerable: true,\n    get: function () {\n      return shareableMappingFlag;\n    }\n  });\n  Object.defineProperty(exports, \"shareableMappingCache\", {\n    enumerable: true,\n    get: function () {\n      return shareableMappingCache;\n    }\n  });\n  var _PlatformCheckerJs = require(_dependencyMap[0], \"./PlatformChecker.js\");\n  const SHOULD_BE_USE_WEB = (0, _PlatformCheckerJs.shouldBeUseWeb)();\n\n  /**\n   * This symbol is used to represent a mapping from the value to itself.\n   *\n   * It's used to prevent converting a shareable that's already converted - for\n   * example a Shared Value that's in worklet's closure.\n   */\n  const shareableMappingFlag = Symbol('shareable flag');\n\n  /*\n  During a fast refresh, React holds the same instance of a Mutable\n  (that's guaranteed by `useRef`) but `shareableCache` gets regenerated and thus\n  becoming empty. This happens when editing the file that contains the definition of this cache.\n  \n  Because of it, `makeShareableCloneRecursive` can't find given mapping\n  in `shareableCache` for the Mutable and tries to clone it as if it was a regular JS object.\n  During cloning we use `Object.entries` to iterate over the keys which throws an error on accessing `_value`.\n  For convenience we moved this cache to a separate file so it doesn't scare us with red squiggles.\n  */\n\n  const cache = SHOULD_BE_USE_WEB ? null : new WeakMap();\n  const shareableMappingCache = SHOULD_BE_USE_WEB ? {\n    set() {\n      // NOOP\n    },\n    get() {\n      return null;\n    }\n  } : {\n    set(shareable, shareableRef) {\n      cache.set(shareable, shareableRef || shareableMappingFlag);\n    },\n    get: cache.get.bind(cache)\n  };\n});","lineCount":55,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,12,0,"Object"],[7,8,12,0],[7,9,12,0,"defineProperty"],[7,23,12,0],[7,24,12,0,"exports"],[7,31,12,0],[8,4,12,0,"enumerable"],[8,14,12,0],[9,4,12,0,"get"],[9,7,12,0],[9,18,12,0,"get"],[9,19,12,0],[10,6,12,0],[10,13,12,0,"shareableMappingFlag"],[10,33,12,0],[11,4,12,0],[12,2,12,0],[13,2,26,0,"Object"],[13,8,26,0],[13,9,26,0,"defineProperty"],[13,23,26,0],[13,24,26,0,"exports"],[13,31,26,0],[14,4,26,0,"enumerable"],[14,14,26,0],[15,4,26,0,"get"],[15,7,26,0],[15,18,26,0,"get"],[15,19,26,0],[16,6,26,0],[16,13,26,0,"shareableMappingCache"],[16,34,26,0],[17,4,26,0],[18,2,26,0],[19,2,3,0],[19,6,3,0,"_PlatformCheckerJs"],[19,24,3,0],[19,27,3,0,"require"],[19,34,3,0],[19,35,3,0,"_dependencyMap"],[19,49,3,0],[20,2,4,0],[20,8,4,6,"SHOULD_BE_USE_WEB"],[20,25,4,23],[20,28,4,26],[20,32,4,26,"shouldBeUseWeb"],[20,50,4,40],[20,51,4,40,"shouldBeUseWeb"],[20,65,4,40],[20,67,4,41],[20,68,4,42],[22,2,6,0],[23,0,7,0],[24,0,8,0],[25,0,9,0],[26,0,10,0],[27,0,11,0],[28,2,12,7],[28,8,12,13,"shareableMappingFlag"],[28,28,12,33],[28,31,12,36,"Symbol"],[28,37,12,42],[28,38,12,43],[28,54,12,59],[28,55,12,60],[30,2,14,0],[31,0,15,0],[32,0,16,0],[33,0,17,0],[34,0,18,0],[35,0,19,0],[36,0,20,0],[37,0,21,0],[38,0,22,0],[39,0,23,0],[41,2,25,0],[41,8,25,6,"cache"],[41,13,25,11],[41,16,25,14,"SHOULD_BE_USE_WEB"],[41,33,25,31],[41,36,25,34],[41,40,25,38],[41,43,25,41],[41,47,25,45,"WeakMap"],[41,54,25,52],[41,55,25,53],[41,56,25,54],[42,2,26,7],[42,8,26,13,"shareableMappingCache"],[42,29,26,34],[42,32,26,37,"SHOULD_BE_USE_WEB"],[42,49,26,54],[42,52,26,57],[43,4,27,2,"set"],[43,7,27,5,"set"],[43,8,27,5],[43,10,27,8],[44,6,28,4],[45,4,28,4],[45,5,29,3],[46,4,30,2,"get"],[46,7,30,5,"get"],[46,8,30,5],[46,10,30,8],[47,6,31,4],[47,13,31,11],[47,17,31,15],[48,4,32,2],[49,2,33,0],[49,3,33,1],[49,6,33,4],[50,4,34,2,"set"],[50,7,34,5,"set"],[50,8,34,6,"shareable"],[50,17,34,15],[50,19,34,17,"shareableRef"],[50,31,34,29],[50,33,34,31],[51,6,35,4,"cache"],[51,11,35,9],[51,12,35,10,"set"],[51,15,35,13],[51,16,35,14,"shareable"],[51,25,35,23],[51,27,35,25,"shareableRef"],[51,39,35,37],[51,43,35,41,"shareableMappingFlag"],[51,63,35,61],[51,64,35,62],[52,4,36,2],[52,5,36,3],[53,4,37,2,"get"],[53,7,37,5],[53,9,37,7,"cache"],[53,14,37,12],[53,15,37,13,"get"],[53,18,37,16],[53,19,37,17,"bind"],[53,23,37,21],[53,24,37,22,"cache"],[53,29,37,27],[54,2,38,0],[54,3,38,1],[55,0,38,2],[55,3]],"functionMap":{"names":["<global>","set","get"],"mappings":"AAA;EC0B;GDE;EEC;GFE;ECE;GDE"},"hasCjsExports":false},"type":"js/module"}]}