{"dependencies":[{"name":"../../handlersRegistry","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"Q8MtNj8/mrt1iN8Kay94o881ERE=","exportNames":["*"],"imports":1}},{"name":"../../../RNGestureHandlerModule","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":69,"index":127}}],"key":"2BYIjnTRSFId8SRJ7sJFxLD1BD4=","exportNames":["*"],"imports":1}},{"name":"../../utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":128},"end":{"line":3,"column":68,"index":196}}],"key":"ByXat9lt9duIJLDmSeH0V+tRq1s=","exportNames":["*"],"imports":1}},{"name":"../../../ActionType","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":197},"end":{"line":4,"column":49,"index":246}}],"key":"HJ6ReZDVLtCQDFQShsuSOLiCtL0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"../../../ghQueueMicrotask","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":288},"end":{"line":6,"column":61,"index":349}}],"key":"6QYiO8x9sAoDBctSRJ19A8sqUNk=","exportNames":["*"],"imports":1}},{"name":"./utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":350},"end":{"line":7,"column":99,"index":449}}],"key":"fIqjJ6Rx8c7Khc/wm9kX7hQXC5I=","exportNames":["*"],"imports":1}},{"name":"../../../mountRegistry","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":450},"end":{"line":8,"column":55,"index":505}}],"key":"ZDu7aL2iuT3Od7iyX13y9sY9XZQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.attachHandlers = attachHandlers;\n  var _handlersRegistry = require(_dependencyMap[0], \"../../handlersRegistry\");\n  var _RNGestureHandlerModule = require(_dependencyMap[1], \"../../../RNGestureHandlerModule\");\n  var RNGestureHandlerModule = _interopDefault(_RNGestureHandlerModule);\n  var _utils = require(_dependencyMap[2], \"../../utils\");\n  var _ActionType = require(_dependencyMap[3], \"../../../ActionType\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[4], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _ghQueueMicrotask = require(_dependencyMap[5], \"../../../ghQueueMicrotask\");\n  var _utils2 = require(_dependencyMap[6], \"./utils\");\n  var _mountRegistry = require(_dependencyMap[7], \"../../../mountRegistry\");\n  function attachHandlers({\n    preparedGesture,\n    gestureConfig,\n    gesturesToAttach,\n    viewTag,\n    webEventHandlersRef\n  }) {\n    gestureConfig.initialize(); // Use queueMicrotask to extract handlerTags, because all refs should be initialized\n    // when it's ran\n\n    (0, _ghQueueMicrotask.ghQueueMicrotask)(() => {\n      if (!preparedGesture.isMounted) {\n        return;\n      }\n      gestureConfig.prepare();\n    });\n    for (const handler of gesturesToAttach) {\n      (0, _utils2.checkGestureCallbacksForWorklets)(handler);\n      RNGestureHandlerModule.default.createGestureHandler(handler.handlerName, handler.handlerTag, (0, _utils.filterConfig)(handler.config, _utils2.ALLOWED_PROPS));\n      (0, _handlersRegistry.registerHandler)(handler.handlerTag, handler, handler.config.testId);\n    } // Use queueMicrotask to extract handlerTags, because all refs should be initialized\n    // when it's ran\n\n    (0, _ghQueueMicrotask.ghQueueMicrotask)(() => {\n      if (!preparedGesture.isMounted) {\n        return;\n      }\n      for (const handler of gesturesToAttach) {\n        RNGestureHandlerModule.default.updateGestureHandler(handler.handlerTag, (0, _utils.filterConfig)(handler.config, _utils2.ALLOWED_PROPS, (0, _utils2.extractGestureRelations)(handler)));\n      }\n      (0, _utils.scheduleFlushOperations)();\n    });\n    for (const gesture of gesturesToAttach) {\n      const actionType = gesture.shouldUseReanimated ? _ActionType.ActionType.REANIMATED_WORKLET : _ActionType.ActionType.JS_FUNCTION_NEW_API;\n      if (Platform.default.OS === 'web') {\n        RNGestureHandlerModule.default.attachGestureHandler(gesture.handlerTag, viewTag, _ActionType.ActionType.JS_FUNCTION_OLD_API,\n        // Ignored on web\n        webEventHandlersRef);\n      } else {\n        RNGestureHandlerModule.default.attachGestureHandler(gesture.handlerTag, viewTag, actionType);\n      }\n      _mountRegistry.MountRegistry.gestureWillMount(gesture);\n    }\n    preparedGesture.attachedGestures = gesturesToAttach;\n    if (preparedGesture.animatedHandlers) {\n      const isAnimatedGesture = g => g.shouldUseReanimated;\n      preparedGesture.animatedHandlers.value = gesturesToAttach.filter(isAnimatedGesture).map(g => g.handlers);\n    }\n  }\n});","lineCount":72,"map":[[12,2,9,0,"exports"],[12,9,9,0],[12,10,9,0,"attachHandlers"],[12,24,9,0],[12,27,9,0,"attachHandlers"],[12,41,9,0],[13,2,1,0],[13,6,1,0,"_handlersRegistry"],[13,23,1,0],[13,26,1,0,"require"],[13,33,1,0],[13,34,1,0,"_dependencyMap"],[13,48,1,0],[14,2,2,0],[14,6,2,0,"_RNGestureHandlerModule"],[14,29,2,0],[14,32,2,0,"require"],[14,39,2,0],[14,40,2,0,"_dependencyMap"],[14,54,2,0],[15,2,2,0],[15,6,2,0,"RNGestureHandlerModule"],[15,28,2,0],[15,31,2,0,"_interopDefault"],[15,46,2,0],[15,47,2,0,"_RNGestureHandlerModule"],[15,70,2,0],[16,2,3,0],[16,6,3,0,"_utils"],[16,12,3,0],[16,15,3,0,"require"],[16,22,3,0],[16,23,3,0,"_dependencyMap"],[16,37,3,0],[17,2,4,0],[17,6,4,0,"_ActionType"],[17,17,4,0],[17,20,4,0,"require"],[17,27,4,0],[17,28,4,0,"_dependencyMap"],[17,42,4,0],[18,2,4,49],[18,6,4,49,"_reactNativeWebDistExportsPlatform"],[18,40,4,49],[18,43,4,49,"require"],[18,50,4,49],[18,51,4,49,"_dependencyMap"],[18,65,4,49],[19,2,4,49],[19,6,4,49,"Platform"],[19,14,4,49],[19,17,4,49,"_interopDefault"],[19,32,4,49],[19,33,4,49,"_reactNativeWebDistExportsPlatform"],[19,67,4,49],[20,2,6,0],[20,6,6,0,"_ghQueueMicrotask"],[20,23,6,0],[20,26,6,0,"require"],[20,33,6,0],[20,34,6,0,"_dependencyMap"],[20,48,6,0],[21,2,7,0],[21,6,7,0,"_utils2"],[21,13,7,0],[21,16,7,0,"require"],[21,23,7,0],[21,24,7,0,"_dependencyMap"],[21,38,7,0],[22,2,8,0],[22,6,8,0,"_mountRegistry"],[22,20,8,0],[22,23,8,0,"require"],[22,30,8,0],[22,31,8,0,"_dependencyMap"],[22,45,8,0],[23,2,9,7],[23,11,9,16,"attachHandlers"],[23,25,9,30,"attachHandlers"],[23,26,9,31],[24,4,10,2,"preparedGesture"],[24,19,10,17],[25,4,11,2,"gestureConfig"],[25,17,11,15],[26,4,12,2,"gesturesToAttach"],[26,20,12,18],[27,4,13,2,"viewTag"],[27,11,13,9],[28,4,14,2,"webEventHandlersRef"],[29,2,15,0],[29,3,15,1],[29,5,15,3],[30,4,16,2,"gestureConfig"],[30,17,16,15],[30,18,16,16,"initialize"],[30,28,16,26],[30,29,16,27],[30,30,16,28],[30,31,16,29],[30,32,16,30],[31,4,17,2],[33,4,19,2],[33,8,19,2,"ghQueueMicrotask"],[33,25,19,18],[33,26,19,18,"ghQueueMicrotask"],[33,42,19,18],[33,44,19,19],[33,50,19,25],[34,6,20,4],[34,10,20,8],[34,11,20,9,"preparedGesture"],[34,26,20,24],[34,27,20,25,"isMounted"],[34,36,20,34],[34,38,20,36],[35,8,21,6],[36,6,22,4],[37,6,24,4,"gestureConfig"],[37,19,24,17],[37,20,24,18,"prepare"],[37,27,24,25],[37,28,24,26],[37,29,24,27],[38,4,25,2],[38,5,25,3],[38,6,25,4],[39,4,27,2],[39,9,27,7],[39,15,27,13,"handler"],[39,22,27,20],[39,26,27,24,"gesturesToAttach"],[39,42,27,40],[39,44,27,42],[40,6,28,4],[40,10,28,4,"checkGestureCallbacksForWorklets"],[40,17,28,36],[40,18,28,36,"checkGestureCallbacksForWorklets"],[40,50,28,36],[40,52,28,37,"handler"],[40,59,28,44],[40,60,28,45],[41,6,29,4,"RNGestureHandlerModule"],[41,28,29,26],[41,29,29,26,"default"],[41,36,29,26],[41,37,29,27,"createGestureHandler"],[41,57,29,47],[41,58,29,48,"handler"],[41,65,29,55],[41,66,29,56,"handlerName"],[41,77,29,67],[41,79,29,69,"handler"],[41,86,29,76],[41,87,29,77,"handlerTag"],[41,97,29,87],[41,99,29,89],[41,103,29,89,"filterConfig"],[41,109,29,101],[41,110,29,101,"filterConfig"],[41,122,29,101],[41,124,29,102,"handler"],[41,131,29,109],[41,132,29,110,"config"],[41,138,29,116],[41,140,29,118,"ALLOWED_PROPS"],[41,147,29,131],[41,148,29,131,"ALLOWED_PROPS"],[41,161,29,131],[41,162,29,132],[41,163,29,133],[42,6,30,4],[42,10,30,4,"registerHandler"],[42,27,30,19],[42,28,30,19,"registerHandler"],[42,43,30,19],[42,45,30,20,"handler"],[42,52,30,27],[42,53,30,28,"handlerTag"],[42,63,30,38],[42,65,30,40,"handler"],[42,72,30,47],[42,74,30,49,"handler"],[42,81,30,56],[42,82,30,57,"config"],[42,88,30,63],[42,89,30,64,"testId"],[42,95,30,70],[42,96,30,71],[43,4,31,2],[43,5,31,3],[43,6,31,4],[44,4,32,2],[46,4,35,2],[46,8,35,2,"ghQueueMicrotask"],[46,25,35,18],[46,26,35,18,"ghQueueMicrotask"],[46,42,35,18],[46,44,35,19],[46,50,35,25],[47,6,36,4],[47,10,36,8],[47,11,36,9,"preparedGesture"],[47,26,36,24],[47,27,36,25,"isMounted"],[47,36,36,34],[47,38,36,36],[48,8,37,6],[49,6,38,4],[50,6,40,4],[50,11,40,9],[50,17,40,15,"handler"],[50,24,40,22],[50,28,40,26,"gesturesToAttach"],[50,44,40,42],[50,46,40,44],[51,8,41,6,"RNGestureHandlerModule"],[51,30,41,28],[51,31,41,28,"default"],[51,38,41,28],[51,39,41,29,"updateGestureHandler"],[51,59,41,49],[51,60,41,50,"handler"],[51,67,41,57],[51,68,41,58,"handlerTag"],[51,78,41,68],[51,80,41,70],[51,84,41,70,"filterConfig"],[51,90,41,82],[51,91,41,82,"filterConfig"],[51,103,41,82],[51,105,41,83,"handler"],[51,112,41,90],[51,113,41,91,"config"],[51,119,41,97],[51,121,41,99,"ALLOWED_PROPS"],[51,128,41,112],[51,129,41,112,"ALLOWED_PROPS"],[51,142,41,112],[51,144,41,114],[51,148,41,114,"extractGestureRelations"],[51,155,41,137],[51,156,41,137,"extractGestureRelations"],[51,179,41,137],[51,181,41,138,"handler"],[51,188,41,145],[51,189,41,146],[51,190,41,147],[51,191,41,148],[52,6,42,4],[53,6,44,4],[53,10,44,4,"scheduleFlushOperations"],[53,16,44,27],[53,17,44,27,"scheduleFlushOperations"],[53,40,44,27],[53,42,44,28],[53,43,44,29],[54,4,45,2],[54,5,45,3],[54,6,45,4],[55,4,47,2],[55,9,47,7],[55,15,47,13,"gesture"],[55,22,47,20],[55,26,47,24,"gesturesToAttach"],[55,42,47,40],[55,44,47,42],[56,6,48,4],[56,12,48,10,"actionType"],[56,22,48,20],[56,25,48,23,"gesture"],[56,32,48,30],[56,33,48,31,"shouldUseReanimated"],[56,52,48,50],[56,55,48,53,"ActionType"],[56,66,48,63],[56,67,48,63,"ActionType"],[56,77,48,63],[56,78,48,64,"REANIMATED_WORKLET"],[56,96,48,82],[56,99,48,85,"ActionType"],[56,110,48,95],[56,111,48,95,"ActionType"],[56,121,48,95],[56,122,48,96,"JS_FUNCTION_NEW_API"],[56,141,48,115],[57,6,50,4],[57,10,50,8,"Platform"],[57,18,50,16],[57,19,50,16,"default"],[57,26,50,16],[57,27,50,17,"OS"],[57,29,50,19],[57,34,50,24],[57,39,50,29],[57,41,50,31],[58,8,51,6,"RNGestureHandlerModule"],[58,30,51,28],[58,31,51,28,"default"],[58,38,51,28],[58,39,51,29,"attachGestureHandler"],[58,59,51,49],[58,60,51,50,"gesture"],[58,67,51,57],[58,68,51,58,"handlerTag"],[58,78,51,68],[58,80,51,70,"viewTag"],[58,87,51,77],[58,89,51,79,"ActionType"],[58,100,51,89],[58,101,51,89,"ActionType"],[58,111,51,89],[58,112,51,90,"JS_FUNCTION_OLD_API"],[58,131,51,109],[59,8,51,111],[60,8,52,6,"webEventHandlersRef"],[60,27,52,25],[60,28,52,26],[61,6,53,4],[61,7,53,5],[61,13,53,11],[62,8,54,6,"RNGestureHandlerModule"],[62,30,54,28],[62,31,54,28,"default"],[62,38,54,28],[62,39,54,29,"attachGestureHandler"],[62,59,54,49],[62,60,54,50,"gesture"],[62,67,54,57],[62,68,54,58,"handlerTag"],[62,78,54,68],[62,80,54,70,"viewTag"],[62,87,54,77],[62,89,54,79,"actionType"],[62,99,54,89],[62,100,54,90],[63,6,55,4],[64,6,57,4,"MountRegistry"],[64,20,57,17],[64,21,57,17,"MountRegistry"],[64,34,57,17],[64,35,57,18,"gestureWillMount"],[64,51,57,34],[64,52,57,35,"gesture"],[64,59,57,42],[64,60,57,43],[65,4,58,2],[66,4,60,2,"preparedGesture"],[66,19,60,17],[66,20,60,18,"attachedGestures"],[66,36,60,34],[66,39,60,37,"gesturesToAttach"],[66,55,60,53],[67,4,62,2],[67,8,62,6,"preparedGesture"],[67,23,62,21],[67,24,62,22,"animatedHandlers"],[67,40,62,38],[67,42,62,40],[68,6,63,4],[68,12,63,10,"isAnimatedGesture"],[68,29,63,27],[68,32,63,30,"g"],[68,33,63,31],[68,37,63,35,"g"],[68,38,63,36],[68,39,63,37,"shouldUseReanimated"],[68,58,63,56],[69,6,65,4,"preparedGesture"],[69,21,65,19],[69,22,65,20,"animatedHandlers"],[69,38,65,36],[69,39,65,37,"value"],[69,44,65,42],[69,47,65,45,"gesturesToAttach"],[69,63,65,61],[69,64,65,62,"filter"],[69,70,65,68],[69,71,65,69,"isAnimatedGesture"],[69,88,65,86],[69,89,65,87],[69,90,65,88,"map"],[69,93,65,91],[69,94,65,92,"g"],[69,95,65,93],[69,99,65,97,"g"],[69,100,65,98],[69,101,65,99,"handlers"],[69,109,65,107],[69,110,65,108],[70,4,66,2],[71,2,67,0],[72,0,67,1],[72,3]],"functionMap":{"names":["<global>","attachHandlers","ghQueueMicrotask$argument_0","isAnimatedGesture","gesturesToAttach.filter.map$argument_0"],"mappings":"AAA;OCQ;mBCU;GDM;mBCU;GDU;8BEkB,0BF;4FGE,eH;CDE"},"hasCjsExports":false},"type":"js/module"}]}