{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return InteractionManager;\n    }\n  });\n  class InteractionManager {\n    waitForRelations = new Map();\n    simultaneousRelations = new Map();\n    blocksHandlersRelations = new Map();\n\n    // Private becaues of singleton\n    // eslint-disable-next-line no-useless-constructor, @typescript-eslint/no-empty-function\n    constructor() {}\n    configureInteractions(handler, config) {\n      this.dropRelationsForHandlerWithTag(handler.handlerTag);\n      if (config.waitFor) {\n        const waitFor = [];\n        config.waitFor.forEach(otherHandler => {\n          // New API reference\n          if (typeof otherHandler === 'number') {\n            waitFor.push(otherHandler);\n          } else {\n            // Old API reference\n            waitFor.push(otherHandler.handlerTag);\n          }\n        });\n        this.waitForRelations.set(handler.handlerTag, waitFor);\n      }\n      if (config.simultaneousHandlers) {\n        const simultaneousHandlers = [];\n        config.simultaneousHandlers.forEach(otherHandler => {\n          if (typeof otherHandler === 'number') {\n            simultaneousHandlers.push(otherHandler);\n          } else {\n            simultaneousHandlers.push(otherHandler.handlerTag);\n          }\n        });\n        this.simultaneousRelations.set(handler.handlerTag, simultaneousHandlers);\n      }\n      if (config.blocksHandlers) {\n        const blocksHandlers = [];\n        config.blocksHandlers.forEach(otherHandler => {\n          if (typeof otherHandler === 'number') {\n            blocksHandlers.push(otherHandler);\n          } else {\n            blocksHandlers.push(otherHandler.handlerTag);\n          }\n        });\n        this.blocksHandlersRelations.set(handler.handlerTag, blocksHandlers);\n      }\n    }\n    shouldWaitForHandlerFailure(handler, otherHandler) {\n      const waitFor = this.waitForRelations.get(handler.handlerTag);\n      return waitFor?.find(tag => {\n        return tag === otherHandler.handlerTag;\n      }) !== undefined;\n    }\n    shouldRecognizeSimultaneously(handler, otherHandler) {\n      const simultaneousHandlers = this.simultaneousRelations.get(handler.handlerTag);\n      return simultaneousHandlers?.find(tag => {\n        return tag === otherHandler.handlerTag;\n      }) !== undefined;\n    }\n    shouldRequireHandlerToWaitForFailure(handler, otherHandler) {\n      const waitFor = this.blocksHandlersRelations.get(handler.handlerTag);\n      return waitFor?.find(tag => {\n        return tag === otherHandler.handlerTag;\n      }) !== undefined;\n    }\n    shouldHandlerBeCancelledBy(_handler, otherHandler) {\n      // We check constructor name instead of using `instanceof` in order do avoid circular dependencies\n      const isNativeHandler = otherHandler.constructor.name === 'NativeViewGestureHandler';\n      const isActive = otherHandler.active;\n      const isButton = otherHandler.isButton?.() === true;\n      return isNativeHandler && isActive && !isButton;\n    }\n    dropRelationsForHandlerWithTag(handlerTag) {\n      this.waitForRelations.delete(handlerTag);\n      this.simultaneousRelations.delete(handlerTag);\n      this.blocksHandlersRelations.delete(handlerTag);\n    }\n    reset() {\n      this.waitForRelations.clear();\n      this.simultaneousRelations.clear();\n      this.blocksHandlersRelations.clear();\n    }\n    static get instance() {\n      if (!this._instance) {\n        this._instance = new InteractionManager();\n      }\n      return this._instance;\n    }\n  }\n});","lineCount":101,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,3,15,"Object"],[7,8,3,15],[7,9,3,15,"defineProperty"],[7,23,3,15],[7,24,3,15,"exports"],[7,31,3,15],[8,4,3,15,"enumerable"],[8,14,3,15],[9,4,3,15,"get"],[9,7,3,15],[9,18,3,15,"get"],[9,19,3,15],[10,6,3,15],[10,13,3,15,"InteractionManager"],[10,31,3,15],[11,4,3,15],[12,2,3,15],[13,2,3,15],[13,8,3,21,"InteractionManager"],[13,26,3,39],[13,27,3,40],[14,4,4,2,"waitForRelations"],[14,20,4,18],[14,23,4,21],[14,27,4,25,"Map"],[14,30,4,28],[14,31,4,29],[14,32,4,30],[15,4,5,2,"simultaneousRelations"],[15,25,5,23],[15,28,5,26],[15,32,5,30,"Map"],[15,35,5,33],[15,36,5,34],[15,37,5,35],[16,4,6,2,"blocksHandlersRelations"],[16,27,6,25],[16,30,6,28],[16,34,6,32,"Map"],[16,37,6,35],[16,38,6,36],[16,39,6,37],[18,4,8,2],[19,4,9,2],[20,4,10,2,"constructor"],[20,15,10,13,"constructor"],[20,16,10,13],[20,18,10,16],[20,19,10,17],[21,4,11,2,"configureInteractions"],[21,25,11,23,"configureInteractions"],[21,26,11,24,"handler"],[21,33,11,31],[21,35,11,33,"config"],[21,41,11,39],[21,43,11,41],[22,6,12,4],[22,10,12,8],[22,11,12,9,"dropRelationsForHandlerWithTag"],[22,41,12,39],[22,42,12,40,"handler"],[22,49,12,47],[22,50,12,48,"handlerTag"],[22,60,12,58],[22,61,12,59],[23,6,13,4],[23,10,13,8,"config"],[23,16,13,14],[23,17,13,15,"waitFor"],[23,24,13,22],[23,26,13,24],[24,8,14,6],[24,14,14,12,"waitFor"],[24,21,14,19],[24,24,14,22],[24,26,14,24],[25,8,15,6,"config"],[25,14,15,12],[25,15,15,13,"waitFor"],[25,22,15,20],[25,23,15,21,"forEach"],[25,30,15,28],[25,31,15,29,"otherHandler"],[25,43,15,41],[25,47,15,45],[26,10,16,8],[27,10,17,8],[27,14,17,12],[27,21,17,19,"otherHandler"],[27,33,17,31],[27,38,17,36],[27,46,17,44],[27,48,17,46],[28,12,18,10,"waitFor"],[28,19,18,17],[28,20,18,18,"push"],[28,24,18,22],[28,25,18,23,"otherHandler"],[28,37,18,35],[28,38,18,36],[29,10,19,8],[29,11,19,9],[29,17,19,15],[30,12,20,10],[31,12,21,10,"waitFor"],[31,19,21,17],[31,20,21,18,"push"],[31,24,21,22],[31,25,21,23,"otherHandler"],[31,37,21,35],[31,38,21,36,"handlerTag"],[31,48,21,46],[31,49,21,47],[32,10,22,8],[33,8,23,6],[33,9,23,7],[33,10,23,8],[34,8,24,6],[34,12,24,10],[34,13,24,11,"waitForRelations"],[34,29,24,27],[34,30,24,28,"set"],[34,33,24,31],[34,34,24,32,"handler"],[34,41,24,39],[34,42,24,40,"handlerTag"],[34,52,24,50],[34,54,24,52,"waitFor"],[34,61,24,59],[34,62,24,60],[35,6,25,4],[36,6,26,4],[36,10,26,8,"config"],[36,16,26,14],[36,17,26,15,"simultaneousHandlers"],[36,37,26,35],[36,39,26,37],[37,8,27,6],[37,14,27,12,"simultaneousHandlers"],[37,34,27,32],[37,37,27,35],[37,39,27,37],[38,8,28,6,"config"],[38,14,28,12],[38,15,28,13,"simultaneousHandlers"],[38,35,28,33],[38,36,28,34,"forEach"],[38,43,28,41],[38,44,28,42,"otherHandler"],[38,56,28,54],[38,60,28,58],[39,10,29,8],[39,14,29,12],[39,21,29,19,"otherHandler"],[39,33,29,31],[39,38,29,36],[39,46,29,44],[39,48,29,46],[40,12,30,10,"simultaneousHandlers"],[40,32,30,30],[40,33,30,31,"push"],[40,37,30,35],[40,38,30,36,"otherHandler"],[40,50,30,48],[40,51,30,49],[41,10,31,8],[41,11,31,9],[41,17,31,15],[42,12,32,10,"simultaneousHandlers"],[42,32,32,30],[42,33,32,31,"push"],[42,37,32,35],[42,38,32,36,"otherHandler"],[42,50,32,48],[42,51,32,49,"handlerTag"],[42,61,32,59],[42,62,32,60],[43,10,33,8],[44,8,34,6],[44,9,34,7],[44,10,34,8],[45,8,35,6],[45,12,35,10],[45,13,35,11,"simultaneousRelations"],[45,34,35,32],[45,35,35,33,"set"],[45,38,35,36],[45,39,35,37,"handler"],[45,46,35,44],[45,47,35,45,"handlerTag"],[45,57,35,55],[45,59,35,57,"simultaneousHandlers"],[45,79,35,77],[45,80,35,78],[46,6,36,4],[47,6,37,4],[47,10,37,8,"config"],[47,16,37,14],[47,17,37,15,"blocksHandlers"],[47,31,37,29],[47,33,37,31],[48,8,38,6],[48,14,38,12,"blocksHandlers"],[48,28,38,26],[48,31,38,29],[48,33,38,31],[49,8,39,6,"config"],[49,14,39,12],[49,15,39,13,"blocksHandlers"],[49,29,39,27],[49,30,39,28,"forEach"],[49,37,39,35],[49,38,39,36,"otherHandler"],[49,50,39,48],[49,54,39,52],[50,10,40,8],[50,14,40,12],[50,21,40,19,"otherHandler"],[50,33,40,31],[50,38,40,36],[50,46,40,44],[50,48,40,46],[51,12,41,10,"blocksHandlers"],[51,26,41,24],[51,27,41,25,"push"],[51,31,41,29],[51,32,41,30,"otherHandler"],[51,44,41,42],[51,45,41,43],[52,10,42,8],[52,11,42,9],[52,17,42,15],[53,12,43,10,"blocksHandlers"],[53,26,43,24],[53,27,43,25,"push"],[53,31,43,29],[53,32,43,30,"otherHandler"],[53,44,43,42],[53,45,43,43,"handlerTag"],[53,55,43,53],[53,56,43,54],[54,10,44,8],[55,8,45,6],[55,9,45,7],[55,10,45,8],[56,8,46,6],[56,12,46,10],[56,13,46,11,"blocksHandlersRelations"],[56,36,46,34],[56,37,46,35,"set"],[56,40,46,38],[56,41,46,39,"handler"],[56,48,46,46],[56,49,46,47,"handlerTag"],[56,59,46,57],[56,61,46,59,"blocksHandlers"],[56,75,46,73],[56,76,46,74],[57,6,47,4],[58,4,48,2],[59,4,49,2,"shouldWaitForHandlerFailure"],[59,31,49,29,"shouldWaitForHandlerFailure"],[59,32,49,30,"handler"],[59,39,49,37],[59,41,49,39,"otherHandler"],[59,53,49,51],[59,55,49,53],[60,6,50,4],[60,12,50,10,"waitFor"],[60,19,50,17],[60,22,50,20],[60,26,50,24],[60,27,50,25,"waitForRelations"],[60,43,50,41],[60,44,50,42,"get"],[60,47,50,45],[60,48,50,46,"handler"],[60,55,50,53],[60,56,50,54,"handlerTag"],[60,66,50,64],[60,67,50,65],[61,6,51,4],[61,13,51,11,"waitFor"],[61,20,51,18],[61,22,51,20,"find"],[61,26,51,24],[61,27,51,25,"tag"],[61,30,51,28],[61,34,51,32],[62,8,52,6],[62,15,52,13,"tag"],[62,18,52,16],[62,23,52,21,"otherHandler"],[62,35,52,33],[62,36,52,34,"handlerTag"],[62,46,52,44],[63,6,53,4],[63,7,53,5],[63,8,53,6],[63,13,53,11,"undefined"],[63,22,53,20],[64,4,54,2],[65,4,55,2,"shouldRecognizeSimultaneously"],[65,33,55,31,"shouldRecognizeSimultaneously"],[65,34,55,32,"handler"],[65,41,55,39],[65,43,55,41,"otherHandler"],[65,55,55,53],[65,57,55,55],[66,6,56,4],[66,12,56,10,"simultaneousHandlers"],[66,32,56,30],[66,35,56,33],[66,39,56,37],[66,40,56,38,"simultaneousRelations"],[66,61,56,59],[66,62,56,60,"get"],[66,65,56,63],[66,66,56,64,"handler"],[66,73,56,71],[66,74,56,72,"handlerTag"],[66,84,56,82],[66,85,56,83],[67,6,57,4],[67,13,57,11,"simultaneousHandlers"],[67,33,57,31],[67,35,57,33,"find"],[67,39,57,37],[67,40,57,38,"tag"],[67,43,57,41],[67,47,57,45],[68,8,58,6],[68,15,58,13,"tag"],[68,18,58,16],[68,23,58,21,"otherHandler"],[68,35,58,33],[68,36,58,34,"handlerTag"],[68,46,58,44],[69,6,59,4],[69,7,59,5],[69,8,59,6],[69,13,59,11,"undefined"],[69,22,59,20],[70,4,60,2],[71,4,61,2,"shouldRequireHandlerToWaitForFailure"],[71,40,61,38,"shouldRequireHandlerToWaitForFailure"],[71,41,61,39,"handler"],[71,48,61,46],[71,50,61,48,"otherHandler"],[71,62,61,60],[71,64,61,62],[72,6,62,4],[72,12,62,10,"waitFor"],[72,19,62,17],[72,22,62,20],[72,26,62,24],[72,27,62,25,"blocksHandlersRelations"],[72,50,62,48],[72,51,62,49,"get"],[72,54,62,52],[72,55,62,53,"handler"],[72,62,62,60],[72,63,62,61,"handlerTag"],[72,73,62,71],[72,74,62,72],[73,6,63,4],[73,13,63,11,"waitFor"],[73,20,63,18],[73,22,63,20,"find"],[73,26,63,24],[73,27,63,25,"tag"],[73,30,63,28],[73,34,63,32],[74,8,64,6],[74,15,64,13,"tag"],[74,18,64,16],[74,23,64,21,"otherHandler"],[74,35,64,33],[74,36,64,34,"handlerTag"],[74,46,64,44],[75,6,65,4],[75,7,65,5],[75,8,65,6],[75,13,65,11,"undefined"],[75,22,65,20],[76,4,66,2],[77,4,67,2,"shouldHandlerBeCancelledBy"],[77,30,67,28,"shouldHandlerBeCancelledBy"],[77,31,67,29,"_handler"],[77,39,67,37],[77,41,67,39,"otherHandler"],[77,53,67,51],[77,55,67,53],[78,6,68,4],[79,6,69,4],[79,12,69,10,"isNativeHandler"],[79,27,69,25],[79,30,69,28,"otherHandler"],[79,42,69,40],[79,43,69,41,"constructor"],[79,54,69,52],[79,55,69,53,"name"],[79,59,69,57],[79,64,69,62],[79,90,69,88],[80,6,70,4],[80,12,70,10,"isActive"],[80,20,70,18],[80,23,70,21,"otherHandler"],[80,35,70,33],[80,36,70,34,"active"],[80,42,70,40],[81,6,71,4],[81,12,71,10,"isButton"],[81,20,71,18],[81,23,71,21,"otherHandler"],[81,35,71,33],[81,36,71,34,"isButton"],[81,44,71,42],[81,47,71,45],[81,48,71,46],[81,53,71,51],[81,57,71,55],[82,6,72,4],[82,13,72,11,"isNativeHandler"],[82,28,72,26],[82,32,72,30,"isActive"],[82,40,72,38],[82,44,72,42],[82,45,72,43,"isButton"],[82,53,72,51],[83,4,73,2],[84,4,74,2,"dropRelationsForHandlerWithTag"],[84,34,74,32,"dropRelationsForHandlerWithTag"],[84,35,74,33,"handlerTag"],[84,45,74,43],[84,47,74,45],[85,6,75,4],[85,10,75,8],[85,11,75,9,"waitForRelations"],[85,27,75,25],[85,28,75,26,"delete"],[85,34,75,32],[85,35,75,33,"handlerTag"],[85,45,75,43],[85,46,75,44],[86,6,76,4],[86,10,76,8],[86,11,76,9,"simultaneousRelations"],[86,32,76,30],[86,33,76,31,"delete"],[86,39,76,37],[86,40,76,38,"handlerTag"],[86,50,76,48],[86,51,76,49],[87,6,77,4],[87,10,77,8],[87,11,77,9,"blocksHandlersRelations"],[87,34,77,32],[87,35,77,33,"delete"],[87,41,77,39],[87,42,77,40,"handlerTag"],[87,52,77,50],[87,53,77,51],[88,4,78,2],[89,4,79,2,"reset"],[89,9,79,7,"reset"],[89,10,79,7],[89,12,79,10],[90,6,80,4],[90,10,80,8],[90,11,80,9,"waitForRelations"],[90,27,80,25],[90,28,80,26,"clear"],[90,33,80,31],[90,34,80,32],[90,35,80,33],[91,6,81,4],[91,10,81,8],[91,11,81,9,"simultaneousRelations"],[91,32,81,30],[91,33,81,31,"clear"],[91,38,81,36],[91,39,81,37],[91,40,81,38],[92,6,82,4],[92,10,82,8],[92,11,82,9,"blocksHandlersRelations"],[92,34,82,32],[92,35,82,33,"clear"],[92,40,82,38],[92,41,82,39],[92,42,82,40],[93,4,83,2],[94,4,84,2],[94,15,84,13,"instance"],[94,23,84,21,"instance"],[94,24,84,21],[94,26,84,24],[95,6,85,4],[95,10,85,8],[95,11,85,9],[95,15,85,13],[95,16,85,14,"_instance"],[95,25,85,23],[95,27,85,25],[96,8,86,6],[96,12,86,10],[96,13,86,11,"_instance"],[96,22,86,20],[96,25,86,23],[96,29,86,27,"InteractionManager"],[96,47,86,45],[96,48,86,46],[96,49,86,47],[97,6,87,4],[98,6,88,4],[98,13,88,11],[98,17,88,15],[98,18,88,16,"_instance"],[98,27,88,25],[99,4,89,2],[100,2,90,0],[101,0,90,1],[101,3]],"functionMap":{"names":["<global>","InteractionManager","constructor","configureInteractions","config.waitFor.forEach$argument_0","config.simultaneousHandlers.forEach$argument_0","config.blocksHandlers.forEach$argument_0","shouldWaitForHandlerFailure","waitFor.find$argument_0","shouldRecognizeSimultaneously","simultaneousHandlers.find$argument_0","shouldRequireHandlerToWaitForFailure","shouldHandlerBeCancelledBy","dropRelationsForHandlerWithTag","reset","get__instance"],"mappings":"AAA;eCE;ECO,gBD;EEC;6BCI;ODQ;0CEK;OFM;oCGK;OHM;GFG;EMC;yBCE;KDE;GNC;EQC;sCCE;KDE;GRC;EUC;yBHE;KGE;GVC;EWC;GXM;EYC;GZI;EaC;GbI;EcC;GdK;CDC"},"hasCjsExports":false},"type":"js/module"}]}