{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"PressableStateMachine\", {\n    enumerable: true,\n    get: function () {\n      return PressableStateMachine;\n    }\n  });\n  class PressableStateMachine {\n    constructor() {\n      this.states = null;\n      this.currentStepIndex = 0;\n      this.eventPayload = null;\n    }\n    setStates(states) {\n      this.states = states;\n    }\n    reset() {\n      this.currentStepIndex = 0;\n      this.eventPayload = null;\n    }\n    handleEvent(eventName, eventPayload) {\n      if (!this.states) {\n        return;\n      }\n      const step = this.states[this.currentStepIndex];\n      this.eventPayload = eventPayload || this.eventPayload;\n      if (step.eventName !== eventName) {\n        if (this.currentStepIndex > 0) {\n          // retry with position at index 0\n          this.reset();\n          this.handleEvent(eventName, eventPayload);\n        }\n        return;\n      }\n      if (this.eventPayload && step.callback) {\n        step.callback(this.eventPayload);\n      }\n      this.currentStepIndex++;\n      if (this.currentStepIndex === this.states.length) {\n        this.reset();\n      }\n    }\n  }\n});","lineCount":49,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,39,0,"Object"],[7,8,39,0],[7,9,39,0,"defineProperty"],[7,23,39,0],[7,24,39,0,"exports"],[7,31,39,0],[8,4,39,0,"enumerable"],[8,14,39,0],[9,4,39,0,"get"],[9,7,39,0],[9,18,39,0,"get"],[9,19,39,0],[10,6,39,0],[10,13,39,9,"PressableStateMachine"],[10,34,39,30],[11,4,39,30],[12,2,39,30],[13,2,3,0],[13,8,3,6,"PressableStateMachine"],[13,29,3,27],[13,30,3,28],[14,4,4,2,"constructor"],[14,15,4,13,"constructor"],[14,16,4,13],[14,18,4,16],[15,6,5,4],[15,10,5,8],[15,11,5,9,"states"],[15,17,5,15],[15,20,5,18],[15,24,5,22],[16,6,6,4],[16,10,6,8],[16,11,6,9,"currentStepIndex"],[16,27,6,25],[16,30,6,28],[16,31,6,29],[17,6,7,4],[17,10,7,8],[17,11,7,9,"eventPayload"],[17,23,7,21],[17,26,7,24],[17,30,7,28],[18,4,8,2],[19,4,9,2,"setStates"],[19,13,9,11,"setStates"],[19,14,9,12,"states"],[19,20,9,18],[19,22,9,20],[20,6,10,4],[20,10,10,8],[20,11,10,9,"states"],[20,17,10,15],[20,20,10,18,"states"],[20,26,10,24],[21,4,11,2],[22,4,12,2,"reset"],[22,9,12,7,"reset"],[22,10,12,7],[22,12,12,10],[23,6,13,4],[23,10,13,8],[23,11,13,9,"currentStepIndex"],[23,27,13,25],[23,30,13,28],[23,31,13,29],[24,6,14,4],[24,10,14,8],[24,11,14,9,"eventPayload"],[24,23,14,21],[24,26,14,24],[24,30,14,28],[25,4,15,2],[26,4,16,2,"handleEvent"],[26,15,16,13,"handleEvent"],[26,16,16,14,"eventName"],[26,25,16,23],[26,27,16,25,"eventPayload"],[26,39,16,37],[26,41,16,39],[27,6,17,4],[27,10,17,8],[27,11,17,9],[27,15,17,13],[27,16,17,14,"states"],[27,22,17,20],[27,24,17,22],[28,8,18,6],[29,6,19,4],[30,6,20,4],[30,12,20,10,"step"],[30,16,20,14],[30,19,20,17],[30,23,20,21],[30,24,20,22,"states"],[30,30,20,28],[30,31,20,29],[30,35,20,33],[30,36,20,34,"currentStepIndex"],[30,52,20,50],[30,53,20,51],[31,6,21,4],[31,10,21,8],[31,11,21,9,"eventPayload"],[31,23,21,21],[31,26,21,24,"eventPayload"],[31,38,21,36],[31,42,21,40],[31,46,21,44],[31,47,21,45,"eventPayload"],[31,59,21,57],[32,6,22,4],[32,10,22,8,"step"],[32,14,22,12],[32,15,22,13,"eventName"],[32,24,22,22],[32,29,22,27,"eventName"],[32,38,22,36],[32,40,22,38],[33,8,23,6],[33,12,23,10],[33,16,23,14],[33,17,23,15,"currentStepIndex"],[33,33,23,31],[33,36,23,34],[33,37,23,35],[33,39,23,37],[34,10,24,8],[35,10,25,8],[35,14,25,12],[35,15,25,13,"reset"],[35,20,25,18],[35,21,25,19],[35,22,25,20],[36,10,26,8],[36,14,26,12],[36,15,26,13,"handleEvent"],[36,26,26,24],[36,27,26,25,"eventName"],[36,36,26,34],[36,38,26,36,"eventPayload"],[36,50,26,48],[36,51,26,49],[37,8,27,6],[38,8,28,6],[39,6,29,4],[40,6,30,4],[40,10,30,8],[40,14,30,12],[40,15,30,13,"eventPayload"],[40,27,30,25],[40,31,30,29,"step"],[40,35,30,33],[40,36,30,34,"callback"],[40,44,30,42],[40,46,30,44],[41,8,31,6,"step"],[41,12,31,10],[41,13,31,11,"callback"],[41,21,31,19],[41,22,31,20],[41,26,31,24],[41,27,31,25,"eventPayload"],[41,39,31,37],[41,40,31,38],[42,6,32,4],[43,6,33,4],[43,10,33,8],[43,11,33,9,"currentStepIndex"],[43,27,33,25],[43,29,33,27],[44,6,34,4],[44,10,34,8],[44,14,34,12],[44,15,34,13,"currentStepIndex"],[44,31,34,29],[44,36,34,34],[44,40,34,38],[44,41,34,39,"states"],[44,47,34,45],[44,48,34,46,"length"],[44,54,34,52],[44,56,34,54],[45,8,35,6],[45,12,35,10],[45,13,35,11,"reset"],[45,18,35,16],[45,19,35,17],[45,20,35,18],[46,6,36,4],[47,4,37,2],[48,2,38,0],[49,0,38,1],[49,3]],"functionMap":{"names":["<global>","PressableStateMachine","PressableStateMachine#constructor","PressableStateMachine#setStates","PressableStateMachine#reset","PressableStateMachine#handleEvent"],"mappings":"AAA;ACE;ECC;GDI;EEC;GFE;EGC;GHG;EIC;GJqB;CDC"},"hasCjsExports":false},"type":"js/module"}]}