{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  class InteractionManager {\n    waitForRelations = new Map();\n    simultaneousRelations = new Map();\n    blocksHandlersRelations = new Map();\n\n    // Private becaues of singleton\n    // eslint-disable-next-line no-useless-constructor, @typescript-eslint/no-empty-function\n    constructor() {}\n    configureInteractions(handler, config) {\n      this.dropRelationsForHandlerWithTag(handler.handlerTag);\n      if (config.waitFor) {\n        const waitFor = [];\n        config.waitFor.forEach(otherHandler => {\n          // New API reference\n          if (typeof otherHandler === 'number') {\n            waitFor.push(otherHandler);\n          } else {\n            // Old API reference\n            waitFor.push(otherHandler.handlerTag);\n          }\n        });\n        this.waitForRelations.set(handler.handlerTag, waitFor);\n      }\n      if (config.simultaneousHandlers) {\n        const simultaneousHandlers = [];\n        config.simultaneousHandlers.forEach(otherHandler => {\n          if (typeof otherHandler === 'number') {\n            simultaneousHandlers.push(otherHandler);\n          } else {\n            simultaneousHandlers.push(otherHandler.handlerTag);\n          }\n        });\n        this.simultaneousRelations.set(handler.handlerTag, simultaneousHandlers);\n      }\n      if (config.blocksHandlers) {\n        const blocksHandlers = [];\n        config.blocksHandlers.forEach(otherHandler => {\n          if (typeof otherHandler === 'number') {\n            blocksHandlers.push(otherHandler);\n          } else {\n            blocksHandlers.push(otherHandler.handlerTag);\n          }\n        });\n        this.blocksHandlersRelations.set(handler.handlerTag, blocksHandlers);\n      }\n    }\n    shouldWaitForHandlerFailure(handler, otherHandler) {\n      const waitFor = this.waitForRelations.get(handler.handlerTag);\n      return waitFor?.find(tag => {\n        return tag === otherHandler.handlerTag;\n      }) !== undefined;\n    }\n    shouldRecognizeSimultaneously(handler, otherHandler) {\n      const simultaneousHandlers = this.simultaneousRelations.get(handler.handlerTag);\n      return simultaneousHandlers?.find(tag => {\n        return tag === otherHandler.handlerTag;\n      }) !== undefined;\n    }\n    shouldRequireHandlerToWaitForFailure(handler, otherHandler) {\n      const waitFor = this.blocksHandlersRelations.get(handler.handlerTag);\n      return waitFor?.find(tag => {\n        return tag === otherHandler.handlerTag;\n      }) !== undefined;\n    }\n    shouldHandlerBeCancelledBy(_handler, otherHandler) {\n      // We check constructor name instead of using `instanceof` in order do avoid circular dependencies\n      const isNativeHandler = otherHandler.constructor.name === 'NativeViewGestureHandler';\n      const isActive = otherHandler.active;\n      const isButton = otherHandler.isButton?.() === true;\n      return isNativeHandler && isActive && !isButton;\n    }\n    dropRelationsForHandlerWithTag(handlerTag) {\n      this.waitForRelations.delete(handlerTag);\n      this.simultaneousRelations.delete(handlerTag);\n      this.blocksHandlersRelations.delete(handlerTag);\n    }\n    reset() {\n      this.waitForRelations.clear();\n      this.simultaneousRelations.clear();\n      this.blocksHandlersRelations.clear();\n    }\n    static get instance() {\n      if (!this._instance) {\n        this._instance = new InteractionManager();\n      }\n      return this._instance;\n    }\n  }\n  exports.default = InteractionManager;\n});","lineCount":97,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"default"],[7,17,6,15],[7,20,6,18],[7,25,6,23],[7,26,6,24],[8,2,7,0],[8,8,7,6,"InteractionManager"],[8,26,7,24],[8,27,7,25],[9,4,8,2,"waitForRelations"],[9,20,8,18],[9,23,8,21],[9,27,8,25,"Map"],[9,30,8,28],[9,31,8,29],[9,32,8,30],[10,4,9,2,"simultaneousRelations"],[10,25,9,23],[10,28,9,26],[10,32,9,30,"Map"],[10,35,9,33],[10,36,9,34],[10,37,9,35],[11,4,10,2,"blocksHandlersRelations"],[11,27,10,25],[11,30,10,28],[11,34,10,32,"Map"],[11,37,10,35],[11,38,10,36],[11,39,10,37],[13,4,12,2],[14,4,13,2],[15,4,14,2,"constructor"],[15,15,14,13,"constructor"],[15,16,14,13],[15,18,14,16],[15,19,14,17],[16,4,15,2,"configureInteractions"],[16,25,15,23,"configureInteractions"],[16,26,15,24,"handler"],[16,33,15,31],[16,35,15,33,"config"],[16,41,15,39],[16,43,15,41],[17,6,16,4],[17,10,16,8],[17,11,16,9,"dropRelationsForHandlerWithTag"],[17,41,16,39],[17,42,16,40,"handler"],[17,49,16,47],[17,50,16,48,"handlerTag"],[17,60,16,58],[17,61,16,59],[18,6,17,4],[18,10,17,8,"config"],[18,16,17,14],[18,17,17,15,"waitFor"],[18,24,17,22],[18,26,17,24],[19,8,18,6],[19,14,18,12,"waitFor"],[19,21,18,19],[19,24,18,22],[19,26,18,24],[20,8,19,6,"config"],[20,14,19,12],[20,15,19,13,"waitFor"],[20,22,19,20],[20,23,19,21,"forEach"],[20,30,19,28],[20,31,19,29,"otherHandler"],[20,43,19,41],[20,47,19,45],[21,10,20,8],[22,10,21,8],[22,14,21,12],[22,21,21,19,"otherHandler"],[22,33,21,31],[22,38,21,36],[22,46,21,44],[22,48,21,46],[23,12,22,10,"waitFor"],[23,19,22,17],[23,20,22,18,"push"],[23,24,22,22],[23,25,22,23,"otherHandler"],[23,37,22,35],[23,38,22,36],[24,10,23,8],[24,11,23,9],[24,17,23,15],[25,12,24,10],[26,12,25,10,"waitFor"],[26,19,25,17],[26,20,25,18,"push"],[26,24,25,22],[26,25,25,23,"otherHandler"],[26,37,25,35],[26,38,25,36,"handlerTag"],[26,48,25,46],[26,49,25,47],[27,10,26,8],[28,8,27,6],[28,9,27,7],[28,10,27,8],[29,8,28,6],[29,12,28,10],[29,13,28,11,"waitForRelations"],[29,29,28,27],[29,30,28,28,"set"],[29,33,28,31],[29,34,28,32,"handler"],[29,41,28,39],[29,42,28,40,"handlerTag"],[29,52,28,50],[29,54,28,52,"waitFor"],[29,61,28,59],[29,62,28,60],[30,6,29,4],[31,6,30,4],[31,10,30,8,"config"],[31,16,30,14],[31,17,30,15,"simultaneousHandlers"],[31,37,30,35],[31,39,30,37],[32,8,31,6],[32,14,31,12,"simultaneousHandlers"],[32,34,31,32],[32,37,31,35],[32,39,31,37],[33,8,32,6,"config"],[33,14,32,12],[33,15,32,13,"simultaneousHandlers"],[33,35,32,33],[33,36,32,34,"forEach"],[33,43,32,41],[33,44,32,42,"otherHandler"],[33,56,32,54],[33,60,32,58],[34,10,33,8],[34,14,33,12],[34,21,33,19,"otherHandler"],[34,33,33,31],[34,38,33,36],[34,46,33,44],[34,48,33,46],[35,12,34,10,"simultaneousHandlers"],[35,32,34,30],[35,33,34,31,"push"],[35,37,34,35],[35,38,34,36,"otherHandler"],[35,50,34,48],[35,51,34,49],[36,10,35,8],[36,11,35,9],[36,17,35,15],[37,12,36,10,"simultaneousHandlers"],[37,32,36,30],[37,33,36,31,"push"],[37,37,36,35],[37,38,36,36,"otherHandler"],[37,50,36,48],[37,51,36,49,"handlerTag"],[37,61,36,59],[37,62,36,60],[38,10,37,8],[39,8,38,6],[39,9,38,7],[39,10,38,8],[40,8,39,6],[40,12,39,10],[40,13,39,11,"simultaneousRelations"],[40,34,39,32],[40,35,39,33,"set"],[40,38,39,36],[40,39,39,37,"handler"],[40,46,39,44],[40,47,39,45,"handlerTag"],[40,57,39,55],[40,59,39,57,"simultaneousHandlers"],[40,79,39,77],[40,80,39,78],[41,6,40,4],[42,6,41,4],[42,10,41,8,"config"],[42,16,41,14],[42,17,41,15,"blocksHandlers"],[42,31,41,29],[42,33,41,31],[43,8,42,6],[43,14,42,12,"blocksHandlers"],[43,28,42,26],[43,31,42,29],[43,33,42,31],[44,8,43,6,"config"],[44,14,43,12],[44,15,43,13,"blocksHandlers"],[44,29,43,27],[44,30,43,28,"forEach"],[44,37,43,35],[44,38,43,36,"otherHandler"],[44,50,43,48],[44,54,43,52],[45,10,44,8],[45,14,44,12],[45,21,44,19,"otherHandler"],[45,33,44,31],[45,38,44,36],[45,46,44,44],[45,48,44,46],[46,12,45,10,"blocksHandlers"],[46,26,45,24],[46,27,45,25,"push"],[46,31,45,29],[46,32,45,30,"otherHandler"],[46,44,45,42],[46,45,45,43],[47,10,46,8],[47,11,46,9],[47,17,46,15],[48,12,47,10,"blocksHandlers"],[48,26,47,24],[48,27,47,25,"push"],[48,31,47,29],[48,32,47,30,"otherHandler"],[48,44,47,42],[48,45,47,43,"handlerTag"],[48,55,47,53],[48,56,47,54],[49,10,48,8],[50,8,49,6],[50,9,49,7],[50,10,49,8],[51,8,50,6],[51,12,50,10],[51,13,50,11,"blocksHandlersRelations"],[51,36,50,34],[51,37,50,35,"set"],[51,40,50,38],[51,41,50,39,"handler"],[51,48,50,46],[51,49,50,47,"handlerTag"],[51,59,50,57],[51,61,50,59,"blocksHandlers"],[51,75,50,73],[51,76,50,74],[52,6,51,4],[53,4,52,2],[54,4,53,2,"shouldWaitForHandlerFailure"],[54,31,53,29,"shouldWaitForHandlerFailure"],[54,32,53,30,"handler"],[54,39,53,37],[54,41,53,39,"otherHandler"],[54,53,53,51],[54,55,53,53],[55,6,54,4],[55,12,54,10,"waitFor"],[55,19,54,17],[55,22,54,20],[55,26,54,24],[55,27,54,25,"waitForRelations"],[55,43,54,41],[55,44,54,42,"get"],[55,47,54,45],[55,48,54,46,"handler"],[55,55,54,53],[55,56,54,54,"handlerTag"],[55,66,54,64],[55,67,54,65],[56,6,55,4],[56,13,55,11,"waitFor"],[56,20,55,18],[56,22,55,20,"find"],[56,26,55,24],[56,27,55,25,"tag"],[56,30,55,28],[56,34,55,32],[57,8,56,6],[57,15,56,13,"tag"],[57,18,56,16],[57,23,56,21,"otherHandler"],[57,35,56,33],[57,36,56,34,"handlerTag"],[57,46,56,44],[58,6,57,4],[58,7,57,5],[58,8,57,6],[58,13,57,11,"undefined"],[58,22,57,20],[59,4,58,2],[60,4,59,2,"shouldRecognizeSimultaneously"],[60,33,59,31,"shouldRecognizeSimultaneously"],[60,34,59,32,"handler"],[60,41,59,39],[60,43,59,41,"otherHandler"],[60,55,59,53],[60,57,59,55],[61,6,60,4],[61,12,60,10,"simultaneousHandlers"],[61,32,60,30],[61,35,60,33],[61,39,60,37],[61,40,60,38,"simultaneousRelations"],[61,61,60,59],[61,62,60,60,"get"],[61,65,60,63],[61,66,60,64,"handler"],[61,73,60,71],[61,74,60,72,"handlerTag"],[61,84,60,82],[61,85,60,83],[62,6,61,4],[62,13,61,11,"simultaneousHandlers"],[62,33,61,31],[62,35,61,33,"find"],[62,39,61,37],[62,40,61,38,"tag"],[62,43,61,41],[62,47,61,45],[63,8,62,6],[63,15,62,13,"tag"],[63,18,62,16],[63,23,62,21,"otherHandler"],[63,35,62,33],[63,36,62,34,"handlerTag"],[63,46,62,44],[64,6,63,4],[64,7,63,5],[64,8,63,6],[64,13,63,11,"undefined"],[64,22,63,20],[65,4,64,2],[66,4,65,2,"shouldRequireHandlerToWaitForFailure"],[66,40,65,38,"shouldRequireHandlerToWaitForFailure"],[66,41,65,39,"handler"],[66,48,65,46],[66,50,65,48,"otherHandler"],[66,62,65,60],[66,64,65,62],[67,6,66,4],[67,12,66,10,"waitFor"],[67,19,66,17],[67,22,66,20],[67,26,66,24],[67,27,66,25,"blocksHandlersRelations"],[67,50,66,48],[67,51,66,49,"get"],[67,54,66,52],[67,55,66,53,"handler"],[67,62,66,60],[67,63,66,61,"handlerTag"],[67,73,66,71],[67,74,66,72],[68,6,67,4],[68,13,67,11,"waitFor"],[68,20,67,18],[68,22,67,20,"find"],[68,26,67,24],[68,27,67,25,"tag"],[68,30,67,28],[68,34,67,32],[69,8,68,6],[69,15,68,13,"tag"],[69,18,68,16],[69,23,68,21,"otherHandler"],[69,35,68,33],[69,36,68,34,"handlerTag"],[69,46,68,44],[70,6,69,4],[70,7,69,5],[70,8,69,6],[70,13,69,11,"undefined"],[70,22,69,20],[71,4,70,2],[72,4,71,2,"shouldHandlerBeCancelledBy"],[72,30,71,28,"shouldHandlerBeCancelledBy"],[72,31,71,29,"_handler"],[72,39,71,37],[72,41,71,39,"otherHandler"],[72,53,71,51],[72,55,71,53],[73,6,72,4],[74,6,73,4],[74,12,73,10,"isNativeHandler"],[74,27,73,25],[74,30,73,28,"otherHandler"],[74,42,73,40],[74,43,73,41,"constructor"],[74,54,73,52],[74,55,73,53,"name"],[74,59,73,57],[74,64,73,62],[74,90,73,88],[75,6,74,4],[75,12,74,10,"isActive"],[75,20,74,18],[75,23,74,21,"otherHandler"],[75,35,74,33],[75,36,74,34,"active"],[75,42,74,40],[76,6,75,4],[76,12,75,10,"isButton"],[76,20,75,18],[76,23,75,21,"otherHandler"],[76,35,75,33],[76,36,75,34,"isButton"],[76,44,75,42],[76,47,75,45],[76,48,75,46],[76,53,75,51],[76,57,75,55],[77,6,76,4],[77,13,76,11,"isNativeHandler"],[77,28,76,26],[77,32,76,30,"isActive"],[77,40,76,38],[77,44,76,42],[77,45,76,43,"isButton"],[77,53,76,51],[78,4,77,2],[79,4,78,2,"dropRelationsForHandlerWithTag"],[79,34,78,32,"dropRelationsForHandlerWithTag"],[79,35,78,33,"handlerTag"],[79,45,78,43],[79,47,78,45],[80,6,79,4],[80,10,79,8],[80,11,79,9,"waitForRelations"],[80,27,79,25],[80,28,79,26,"delete"],[80,34,79,32],[80,35,79,33,"handlerTag"],[80,45,79,43],[80,46,79,44],[81,6,80,4],[81,10,80,8],[81,11,80,9,"simultaneousRelations"],[81,32,80,30],[81,33,80,31,"delete"],[81,39,80,37],[81,40,80,38,"handlerTag"],[81,50,80,48],[81,51,80,49],[82,6,81,4],[82,10,81,8],[82,11,81,9,"blocksHandlersRelations"],[82,34,81,32],[82,35,81,33,"delete"],[82,41,81,39],[82,42,81,40,"handlerTag"],[82,52,81,50],[82,53,81,51],[83,4,82,2],[84,4,83,2,"reset"],[84,9,83,7,"reset"],[84,10,83,7],[84,12,83,10],[85,6,84,4],[85,10,84,8],[85,11,84,9,"waitForRelations"],[85,27,84,25],[85,28,84,26,"clear"],[85,33,84,31],[85,34,84,32],[85,35,84,33],[86,6,85,4],[86,10,85,8],[86,11,85,9,"simultaneousRelations"],[86,32,85,30],[86,33,85,31,"clear"],[86,38,85,36],[86,39,85,37],[86,40,85,38],[87,6,86,4],[87,10,86,8],[87,11,86,9,"blocksHandlersRelations"],[87,34,86,32],[87,35,86,33,"clear"],[87,40,86,38],[87,41,86,39],[87,42,86,40],[88,4,87,2],[89,4,88,2],[89,15,88,13,"instance"],[89,23,88,21,"instance"],[89,24,88,21],[89,26,88,24],[90,6,89,4],[90,10,89,8],[90,11,89,9],[90,15,89,13],[90,16,89,14,"_instance"],[90,25,89,23],[90,27,89,25],[91,8,90,6],[91,12,90,10],[91,13,90,11,"_instance"],[91,22,90,20],[91,25,90,23],[91,29,90,27,"InteractionManager"],[91,47,90,45],[91,48,90,46],[91,49,90,47],[92,6,91,4],[93,6,92,4],[93,13,92,11],[93,17,92,15],[93,18,92,16,"_instance"],[93,27,92,25],[94,4,93,2],[95,2,94,0],[96,2,95,0,"exports"],[96,9,95,7],[96,10,95,8,"default"],[96,17,95,15],[96,20,95,18,"InteractionManager"],[96,38,95,36],[97,0,95,37],[97,3]],"functionMap":{"names":["<global>","InteractionManager","constructor","configureInteractions","config.waitFor.forEach$argument_0","config.simultaneousHandlers.forEach$argument_0","config.blocksHandlers.forEach$argument_0","shouldWaitForHandlerFailure","waitFor.find$argument_0","shouldRecognizeSimultaneously","simultaneousHandlers.find$argument_0","shouldRequireHandlerToWaitForFailure","shouldHandlerBeCancelledBy","dropRelationsForHandlerWithTag","reset","get__instance"],"mappings":"AAA;ACM;ECO,gBD;EEC;6BCI;ODQ;0CEK;OFM;oCGK;OHM;GFG;EMC;yBCE;KDE;GNC;EQC;sCCE;KDE;GRC;EUC;yBHE;KGE;GVC;EWC;GXM;EYC;GZI;EaC;GbI;EcC;GdK;CDC"},"hasCjsExports":true},"type":"js/module"}]}