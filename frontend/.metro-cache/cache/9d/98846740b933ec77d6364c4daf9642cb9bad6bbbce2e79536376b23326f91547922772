{"dependencies":[{"name":"./EventManager","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":43,"index":149},"end":{"line":7,"column":68,"index":174}}],"key":"MV7P0qSLfUx3BNx3HVTE8QBpThU=","exportNames":["*"],"imports":1}},{"name":"../../handlers/gestureHandlerCommon","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":28,"index":205},"end":{"line":8,"column":74,"index":251}}],"key":"GQPrvY4HCjaS1W5ZY7JLzz5yZFQ=","exportNames":["*"],"imports":1}},{"name":"../interfaces","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":18,"index":271},"end":{"line":9,"column":42,"index":295}}],"key":"596k1m46J08d+Af0Max0usWU1VI=","exportNames":["*"],"imports":1}},{"name":"../utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":13,"index":310},"end":{"line":10,"column":32,"index":329}}],"key":"RFGtgFE/Tu4zdfnbMKbFHDM/T4I=","exportNames":["*"],"imports":1}},{"name":"../../PointerType","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":11,"column":19,"index":350},"end":{"line":11,"column":47,"index":378}}],"key":"GAwFf6ECEOo66Cd6tbX5TiUkJ2k=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _EventManager = _interopRequireDefault(require(_dependencyMap[0], \"./EventManager\"));\n  var _gestureHandlerCommon = require(_dependencyMap[1], \"../../handlers/gestureHandlerCommon\");\n  var _interfaces = require(_dependencyMap[2], \"../interfaces\");\n  var _utils = require(_dependencyMap[3], \"../utils\");\n  var _PointerType = require(_dependencyMap[4], \"../../PointerType\");\n  function _interopRequireDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  const POINTER_CAPTURE_EXCLUDE_LIST = new Set(['SELECT', 'INPUT']);\n  class PointerEventManager extends _EventManager.default {\n    trackedPointers = new Set();\n    mouseButtonsMapper = new Map();\n    constructor(view) {\n      super(view);\n      this.mouseButtonsMapper.set(0, _gestureHandlerCommon.MouseButton.LEFT);\n      this.mouseButtonsMapper.set(1, _gestureHandlerCommon.MouseButton.MIDDLE);\n      this.mouseButtonsMapper.set(2, _gestureHandlerCommon.MouseButton.RIGHT);\n      this.mouseButtonsMapper.set(3, _gestureHandlerCommon.MouseButton.BUTTON_4);\n      this.mouseButtonsMapper.set(4, _gestureHandlerCommon.MouseButton.BUTTON_5);\n      this.lastPosition = {\n        x: -Infinity,\n        y: -Infinity\n      };\n    }\n    pointerDownCallback = event => {\n      if (!(0, _utils.isPointerInBounds)(this.view, {\n        x: event.clientX,\n        y: event.clientY\n      })) {\n        return;\n      }\n      const adaptedEvent = this.mapEvent(event, _interfaces.EventTypes.DOWN);\n      const target = event.target;\n      if (!POINTER_CAPTURE_EXCLUDE_LIST.has(target.tagName)) {\n        target.setPointerCapture(adaptedEvent.pointerId);\n      }\n      this.markAsInBounds(adaptedEvent.pointerId);\n      this.trackedPointers.add(adaptedEvent.pointerId);\n      if (++this.activePointersCounter > 1) {\n        adaptedEvent.eventType = _interfaces.EventTypes.ADDITIONAL_POINTER_DOWN;\n        this.onPointerAdd(adaptedEvent);\n      } else {\n        this.onPointerDown(adaptedEvent);\n      }\n    };\n    pointerUpCallback = event => {\n      // When we call reset on gesture handlers, it also resets their event managers\n      // In some handlers (like RotationGestureHandler) reset is called before all pointers leave view\n      // This means, that activePointersCounter will be set to 0, while there are still remaining pointers on view\n      // Removing them will end in activePointersCounter going below 0, therefore handlers won't behave properly\n      if (this.activePointersCounter === 0) {\n        return;\n      }\n      const adaptedEvent = this.mapEvent(event, _interfaces.EventTypes.UP);\n      const target = event.target;\n      if (!POINTER_CAPTURE_EXCLUDE_LIST.has(target.tagName)) {\n        target.releasePointerCapture(adaptedEvent.pointerId);\n      }\n      this.markAsOutOfBounds(adaptedEvent.pointerId);\n      this.trackedPointers.delete(adaptedEvent.pointerId);\n      if (--this.activePointersCounter > 0) {\n        adaptedEvent.eventType = _interfaces.EventTypes.ADDITIONAL_POINTER_UP;\n        this.onPointerRemove(adaptedEvent);\n      } else {\n        this.onPointerUp(adaptedEvent);\n      }\n    };\n    pointerMoveCallback = event => {\n      const adaptedEvent = this.mapEvent(event, _interfaces.EventTypes.MOVE);\n      const target = event.target;\n\n      // You may be wondering why are we setting pointer capture here, when we\n      // already set it in `pointerdown` handler. Well, that's a great question,\n      // for which I don't have an answer. Specification (https://www.w3.org/TR/pointerevents2/#dom-element-setpointercapture)\n      // says that the requirement for `setPointerCapture` to work is that pointer\n      // must be in 'active buttons state`, otherwise it will fail silently, which\n      // is lovely. Obviously, when `pointerdown` is fired, one of the buttons\n      // (when using mouse) is pressed, but that doesn't mean that `setPointerCapture`\n      // will succeed, for some reason. Since it fails silently, we don't actually know\n      // if it worked or not (there's `gotpointercapture` event, but the complexity of\n      // incorporating it here seems stupid), so we just call it again here, every time\n      // pointer moves until it succeeds.\n      // God, I do love web development.\n      if (!target?.hasPointerCapture(event.pointerId) && !POINTER_CAPTURE_EXCLUDE_LIST.has(target.tagName)) {\n        target.setPointerCapture(event.pointerId);\n      }\n      const inBounds = (0, _utils.isPointerInBounds)(this.view, {\n        x: adaptedEvent.x,\n        y: adaptedEvent.y\n      });\n      const pointerIndex = this.pointersInBounds.indexOf(adaptedEvent.pointerId);\n      if (inBounds) {\n        if (pointerIndex < 0) {\n          adaptedEvent.eventType = _interfaces.EventTypes.ENTER;\n          this.onPointerEnter(adaptedEvent);\n          this.markAsInBounds(adaptedEvent.pointerId);\n        } else {\n          this.onPointerMove(adaptedEvent);\n        }\n      } else {\n        if (pointerIndex >= 0) {\n          adaptedEvent.eventType = _interfaces.EventTypes.LEAVE;\n          this.onPointerLeave(adaptedEvent);\n          this.markAsOutOfBounds(adaptedEvent.pointerId);\n        } else {\n          this.onPointerOutOfBounds(adaptedEvent);\n        }\n      }\n      this.lastPosition.x = event.x;\n      this.lastPosition.y = event.y;\n    };\n    pointerCancelCallback = event => {\n      const adaptedEvent = this.mapEvent(event, _interfaces.EventTypes.CANCEL);\n      this.onPointerCancel(adaptedEvent);\n      this.markAsOutOfBounds(adaptedEvent.pointerId);\n      this.activePointersCounter = 0;\n      this.trackedPointers.clear();\n    };\n    pointerEnterCallback = event => {\n      const adaptedEvent = this.mapEvent(event, _interfaces.EventTypes.ENTER);\n      this.onPointerMoveOver(adaptedEvent);\n    };\n    pointerLeaveCallback = event => {\n      const adaptedEvent = this.mapEvent(event, _interfaces.EventTypes.LEAVE);\n      this.onPointerMoveOut(adaptedEvent);\n    };\n    lostPointerCaptureCallback = event => {\n      const adaptedEvent = this.mapEvent(event, _interfaces.EventTypes.CANCEL);\n      if (this.trackedPointers.has(adaptedEvent.pointerId)) {\n        // In some cases the `pointerup` event is not fired, but `lostpointercapture` is.\n        // Here we simulate the `pointercancel` event to make sure the gesture handler stops tracking it.\n        this.onPointerCancel(adaptedEvent);\n        this.activePointersCounter = 0;\n        this.trackedPointers.clear();\n      }\n    };\n    registerListeners() {\n      this.view.addEventListener('pointerdown', this.pointerDownCallback);\n      this.view.addEventListener('pointerup', this.pointerUpCallback);\n      this.view.addEventListener('pointermove', this.pointerMoveCallback);\n      this.view.addEventListener('pointercancel', this.pointerCancelCallback);\n\n      // onPointerEnter and onPointerLeave are triggered by a custom logic responsible for\n      // handling shouldCancelWhenOutside flag, and are unreliable unless the pointer is down.\n      // We therefore use pointerenter and pointerleave events to handle the hover gesture,\n      // mapping them to onPointerMoveOver and onPointerMoveOut respectively.\n      this.view.addEventListener('pointerenter', this.pointerEnterCallback);\n      this.view.addEventListener('pointerleave', this.pointerLeaveCallback);\n      this.view.addEventListener('lostpointercapture', this.lostPointerCaptureCallback);\n    }\n    unregisterListeners() {\n      this.view.removeEventListener('pointerdown', this.pointerDownCallback);\n      this.view.removeEventListener('pointerup', this.pointerUpCallback);\n      this.view.removeEventListener('pointermove', this.pointerMoveCallback);\n      this.view.removeEventListener('pointercancel', this.pointerCancelCallback);\n      this.view.removeEventListener('pointerenter', this.pointerEnterCallback);\n      this.view.removeEventListener('pointerleave', this.pointerLeaveCallback);\n      this.view.removeEventListener('lostpointercapture', this.lostPointerCaptureCallback);\n    }\n    mapEvent(event, eventType) {\n      const rect = this.view.getBoundingClientRect();\n      const {\n        scaleX,\n        scaleY\n      } = (0, _utils.calculateViewScale)(this.view);\n      return {\n        x: event.clientX,\n        y: event.clientY,\n        offsetX: (event.clientX - rect.left) / scaleX,\n        offsetY: (event.clientY - rect.top) / scaleY,\n        pointerId: event.pointerId,\n        eventType: eventType,\n        pointerType: _utils.PointerTypeMapping.get(event.pointerType) ?? _PointerType.PointerType.OTHER,\n        button: this.mouseButtonsMapper.get(event.button),\n        time: event.timeStamp,\n        stylusData: (0, _utils.tryExtractStylusData)(event)\n      };\n    }\n    resetManager() {\n      super.resetManager();\n      this.trackedPointers.clear();\n    }\n  }\n  exports.default = PointerEventManager;\n});","lineCount":194,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"default"],[7,17,6,15],[7,20,6,18],[7,25,6,23],[7,26,6,24],[8,2,7,0],[8,6,7,4,"_EventManager"],[8,19,7,17],[8,22,7,20,"_interopRequireDefault"],[8,44,7,42],[8,45,7,43,"require"],[8,52,7,50],[8,53,7,50,"_dependencyMap"],[8,67,7,50],[8,88,7,67],[8,89,7,68],[8,90,7,69],[9,2,8,0],[9,6,8,4,"_gestureHandlerCommon"],[9,27,8,25],[9,30,8,28,"require"],[9,37,8,35],[9,38,8,35,"_dependencyMap"],[9,52,8,35],[9,94,8,73],[9,95,8,74],[10,2,9,0],[10,6,9,4,"_interfaces"],[10,17,9,15],[10,20,9,18,"require"],[10,27,9,25],[10,28,9,25,"_dependencyMap"],[10,42,9,25],[10,62,9,41],[10,63,9,42],[11,2,10,0],[11,6,10,4,"_utils"],[11,12,10,10],[11,15,10,13,"require"],[11,22,10,20],[11,23,10,20,"_dependencyMap"],[11,37,10,20],[11,52,10,31],[11,53,10,32],[12,2,11,0],[12,6,11,4,"_PointerType"],[12,18,11,16],[12,21,11,19,"require"],[12,28,11,26],[12,29,11,26,"_dependencyMap"],[12,43,11,26],[12,67,11,46],[12,68,11,47],[13,2,12,0],[13,11,12,9,"_interopRequireDefault"],[13,33,12,31,"_interopRequireDefault"],[13,34,12,32,"e"],[13,35,12,33],[13,37,12,35],[14,4,12,37],[14,11,12,44,"e"],[14,12,12,45],[14,16,12,49,"e"],[14,17,12,50],[14,18,12,51,"__esModule"],[14,28,12,61],[14,31,12,64,"e"],[14,32,12,65],[14,35,12,68],[15,6,12,70,"default"],[15,13,12,77],[15,15,12,79,"e"],[16,4,12,81],[16,5,12,82],[17,2,12,84],[18,2,13,0],[18,8,13,6,"POINTER_CAPTURE_EXCLUDE_LIST"],[18,36,13,34],[18,39,13,37],[18,43,13,41,"Set"],[18,46,13,44],[18,47,13,45],[18,48,13,46],[18,56,13,54],[18,58,13,56],[18,65,13,63],[18,66,13,64],[18,67,13,65],[19,2,14,0],[19,8,14,6,"PointerEventManager"],[19,27,14,25],[19,36,14,34,"_EventManager"],[19,49,14,47],[19,50,14,48,"default"],[19,57,14,55],[19,58,14,56],[20,4,15,2,"trackedPointers"],[20,19,15,17],[20,22,15,20],[20,26,15,24,"Set"],[20,29,15,27],[20,30,15,28],[20,31,15,29],[21,4,16,2,"mouseButtonsMapper"],[21,22,16,20],[21,25,16,23],[21,29,16,27,"Map"],[21,32,16,30],[21,33,16,31],[21,34,16,32],[22,4,17,2,"constructor"],[22,15,17,13,"constructor"],[22,16,17,14,"view"],[22,20,17,18],[22,22,17,20],[23,6,18,4],[23,11,18,9],[23,12,18,10,"view"],[23,16,18,14],[23,17,18,15],[24,6,19,4],[24,10,19,8],[24,11,19,9,"mouseButtonsMapper"],[24,29,19,27],[24,30,19,28,"set"],[24,33,19,31],[24,34,19,32],[24,35,19,33],[24,37,19,35,"_gestureHandlerCommon"],[24,58,19,56],[24,59,19,57,"MouseButton"],[24,70,19,68],[24,71,19,69,"LEFT"],[24,75,19,73],[24,76,19,74],[25,6,20,4],[25,10,20,8],[25,11,20,9,"mouseButtonsMapper"],[25,29,20,27],[25,30,20,28,"set"],[25,33,20,31],[25,34,20,32],[25,35,20,33],[25,37,20,35,"_gestureHandlerCommon"],[25,58,20,56],[25,59,20,57,"MouseButton"],[25,70,20,68],[25,71,20,69,"MIDDLE"],[25,77,20,75],[25,78,20,76],[26,6,21,4],[26,10,21,8],[26,11,21,9,"mouseButtonsMapper"],[26,29,21,27],[26,30,21,28,"set"],[26,33,21,31],[26,34,21,32],[26,35,21,33],[26,37,21,35,"_gestureHandlerCommon"],[26,58,21,56],[26,59,21,57,"MouseButton"],[26,70,21,68],[26,71,21,69,"RIGHT"],[26,76,21,74],[26,77,21,75],[27,6,22,4],[27,10,22,8],[27,11,22,9,"mouseButtonsMapper"],[27,29,22,27],[27,30,22,28,"set"],[27,33,22,31],[27,34,22,32],[27,35,22,33],[27,37,22,35,"_gestureHandlerCommon"],[27,58,22,56],[27,59,22,57,"MouseButton"],[27,70,22,68],[27,71,22,69,"BUTTON_4"],[27,79,22,77],[27,80,22,78],[28,6,23,4],[28,10,23,8],[28,11,23,9,"mouseButtonsMapper"],[28,29,23,27],[28,30,23,28,"set"],[28,33,23,31],[28,34,23,32],[28,35,23,33],[28,37,23,35,"_gestureHandlerCommon"],[28,58,23,56],[28,59,23,57,"MouseButton"],[28,70,23,68],[28,71,23,69,"BUTTON_5"],[28,79,23,77],[28,80,23,78],[29,6,24,4],[29,10,24,8],[29,11,24,9,"lastPosition"],[29,23,24,21],[29,26,24,24],[30,8,25,6,"x"],[30,9,25,7],[30,11,25,9],[30,12,25,10,"Infinity"],[30,20,25,18],[31,8,26,6,"y"],[31,9,26,7],[31,11,26,9],[31,12,26,10,"Infinity"],[32,6,27,4],[32,7,27,5],[33,4,28,2],[34,4,29,2,"pointerDownCallback"],[34,23,29,21],[34,26,29,24,"event"],[34,31,29,29],[34,35,29,33],[35,6,30,4],[35,10,30,8],[35,11,30,9],[35,12,30,10],[35,13,30,11],[35,15,30,13,"_utils"],[35,21,30,19],[35,22,30,20,"isPointerInBounds"],[35,39,30,37],[35,41,30,39],[35,45,30,43],[35,46,30,44,"view"],[35,50,30,48],[35,52,30,50],[36,8,31,6,"x"],[36,9,31,7],[36,11,31,9,"event"],[36,16,31,14],[36,17,31,15,"clientX"],[36,24,31,22],[37,8,32,6,"y"],[37,9,32,7],[37,11,32,9,"event"],[37,16,32,14],[37,17,32,15,"clientY"],[38,6,33,4],[38,7,33,5],[38,8,33,6],[38,10,33,8],[39,8,34,6],[40,6,35,4],[41,6,36,4],[41,12,36,10,"adaptedEvent"],[41,24,36,22],[41,27,36,25],[41,31,36,29],[41,32,36,30,"mapEvent"],[41,40,36,38],[41,41,36,39,"event"],[41,46,36,44],[41,48,36,46,"_interfaces"],[41,59,36,57],[41,60,36,58,"EventTypes"],[41,70,36,68],[41,71,36,69,"DOWN"],[41,75,36,73],[41,76,36,74],[42,6,37,4],[42,12,37,10,"target"],[42,18,37,16],[42,21,37,19,"event"],[42,26,37,24],[42,27,37,25,"target"],[42,33,37,31],[43,6,38,4],[43,10,38,8],[43,11,38,9,"POINTER_CAPTURE_EXCLUDE_LIST"],[43,39,38,37],[43,40,38,38,"has"],[43,43,38,41],[43,44,38,42,"target"],[43,50,38,48],[43,51,38,49,"tagName"],[43,58,38,56],[43,59,38,57],[43,61,38,59],[44,8,39,6,"target"],[44,14,39,12],[44,15,39,13,"setPointerCapture"],[44,32,39,30],[44,33,39,31,"adaptedEvent"],[44,45,39,43],[44,46,39,44,"pointerId"],[44,55,39,53],[44,56,39,54],[45,6,40,4],[46,6,41,4],[46,10,41,8],[46,11,41,9,"markAsInBounds"],[46,25,41,23],[46,26,41,24,"adaptedEvent"],[46,38,41,36],[46,39,41,37,"pointerId"],[46,48,41,46],[46,49,41,47],[47,6,42,4],[47,10,42,8],[47,11,42,9,"trackedPointers"],[47,26,42,24],[47,27,42,25,"add"],[47,30,42,28],[47,31,42,29,"adaptedEvent"],[47,43,42,41],[47,44,42,42,"pointerId"],[47,53,42,51],[47,54,42,52],[48,6,43,4],[48,10,43,8],[48,12,43,10],[48,16,43,14],[48,17,43,15,"activePointersCounter"],[48,38,43,36],[48,41,43,39],[48,42,43,40],[48,44,43,42],[49,8,44,6,"adaptedEvent"],[49,20,44,18],[49,21,44,19,"eventType"],[49,30,44,28],[49,33,44,31,"_interfaces"],[49,44,44,42],[49,45,44,43,"EventTypes"],[49,55,44,53],[49,56,44,54,"ADDITIONAL_POINTER_DOWN"],[49,79,44,77],[50,8,45,6],[50,12,45,10],[50,13,45,11,"onPointerAdd"],[50,25,45,23],[50,26,45,24,"adaptedEvent"],[50,38,45,36],[50,39,45,37],[51,6,46,4],[51,7,46,5],[51,13,46,11],[52,8,47,6],[52,12,47,10],[52,13,47,11,"onPointerDown"],[52,26,47,24],[52,27,47,25,"adaptedEvent"],[52,39,47,37],[52,40,47,38],[53,6,48,4],[54,4,49,2],[54,5,49,3],[55,4,50,2,"pointerUpCallback"],[55,21,50,19],[55,24,50,22,"event"],[55,29,50,27],[55,33,50,31],[56,6,51,4],[57,6,52,4],[58,6,53,4],[59,6,54,4],[60,6,55,4],[60,10,55,8],[60,14,55,12],[60,15,55,13,"activePointersCounter"],[60,36,55,34],[60,41,55,39],[60,42,55,40],[60,44,55,42],[61,8,56,6],[62,6,57,4],[63,6,58,4],[63,12,58,10,"adaptedEvent"],[63,24,58,22],[63,27,58,25],[63,31,58,29],[63,32,58,30,"mapEvent"],[63,40,58,38],[63,41,58,39,"event"],[63,46,58,44],[63,48,58,46,"_interfaces"],[63,59,58,57],[63,60,58,58,"EventTypes"],[63,70,58,68],[63,71,58,69,"UP"],[63,73,58,71],[63,74,58,72],[64,6,59,4],[64,12,59,10,"target"],[64,18,59,16],[64,21,59,19,"event"],[64,26,59,24],[64,27,59,25,"target"],[64,33,59,31],[65,6,60,4],[65,10,60,8],[65,11,60,9,"POINTER_CAPTURE_EXCLUDE_LIST"],[65,39,60,37],[65,40,60,38,"has"],[65,43,60,41],[65,44,60,42,"target"],[65,50,60,48],[65,51,60,49,"tagName"],[65,58,60,56],[65,59,60,57],[65,61,60,59],[66,8,61,6,"target"],[66,14,61,12],[66,15,61,13,"releasePointerCapture"],[66,36,61,34],[66,37,61,35,"adaptedEvent"],[66,49,61,47],[66,50,61,48,"pointerId"],[66,59,61,57],[66,60,61,58],[67,6,62,4],[68,6,63,4],[68,10,63,8],[68,11,63,9,"markAsOutOfBounds"],[68,28,63,26],[68,29,63,27,"adaptedEvent"],[68,41,63,39],[68,42,63,40,"pointerId"],[68,51,63,49],[68,52,63,50],[69,6,64,4],[69,10,64,8],[69,11,64,9,"trackedPointers"],[69,26,64,24],[69,27,64,25,"delete"],[69,33,64,31],[69,34,64,32,"adaptedEvent"],[69,46,64,44],[69,47,64,45,"pointerId"],[69,56,64,54],[69,57,64,55],[70,6,65,4],[70,10,65,8],[70,12,65,10],[70,16,65,14],[70,17,65,15,"activePointersCounter"],[70,38,65,36],[70,41,65,39],[70,42,65,40],[70,44,65,42],[71,8,66,6,"adaptedEvent"],[71,20,66,18],[71,21,66,19,"eventType"],[71,30,66,28],[71,33,66,31,"_interfaces"],[71,44,66,42],[71,45,66,43,"EventTypes"],[71,55,66,53],[71,56,66,54,"ADDITIONAL_POINTER_UP"],[71,77,66,75],[72,8,67,6],[72,12,67,10],[72,13,67,11,"onPointerRemove"],[72,28,67,26],[72,29,67,27,"adaptedEvent"],[72,41,67,39],[72,42,67,40],[73,6,68,4],[73,7,68,5],[73,13,68,11],[74,8,69,6],[74,12,69,10],[74,13,69,11,"onPointerUp"],[74,24,69,22],[74,25,69,23,"adaptedEvent"],[74,37,69,35],[74,38,69,36],[75,6,70,4],[76,4,71,2],[76,5,71,3],[77,4,72,2,"pointerMoveCallback"],[77,23,72,21],[77,26,72,24,"event"],[77,31,72,29],[77,35,72,33],[78,6,73,4],[78,12,73,10,"adaptedEvent"],[78,24,73,22],[78,27,73,25],[78,31,73,29],[78,32,73,30,"mapEvent"],[78,40,73,38],[78,41,73,39,"event"],[78,46,73,44],[78,48,73,46,"_interfaces"],[78,59,73,57],[78,60,73,58,"EventTypes"],[78,70,73,68],[78,71,73,69,"MOVE"],[78,75,73,73],[78,76,73,74],[79,6,74,4],[79,12,74,10,"target"],[79,18,74,16],[79,21,74,19,"event"],[79,26,74,24],[79,27,74,25,"target"],[79,33,74,31],[81,6,76,4],[82,6,77,4],[83,6,78,4],[84,6,79,4],[85,6,80,4],[86,6,81,4],[87,6,82,4],[88,6,83,4],[89,6,84,4],[90,6,85,4],[91,6,86,4],[92,6,87,4],[93,6,88,4],[93,10,88,8],[93,11,88,9,"target"],[93,17,88,15],[93,19,88,17,"hasPointerCapture"],[93,36,88,34],[93,37,88,35,"event"],[93,42,88,40],[93,43,88,41,"pointerId"],[93,52,88,50],[93,53,88,51],[93,57,88,55],[93,58,88,56,"POINTER_CAPTURE_EXCLUDE_LIST"],[93,86,88,84],[93,87,88,85,"has"],[93,90,88,88],[93,91,88,89,"target"],[93,97,88,95],[93,98,88,96,"tagName"],[93,105,88,103],[93,106,88,104],[93,108,88,106],[94,8,89,6,"target"],[94,14,89,12],[94,15,89,13,"setPointerCapture"],[94,32,89,30],[94,33,89,31,"event"],[94,38,89,36],[94,39,89,37,"pointerId"],[94,48,89,46],[94,49,89,47],[95,6,90,4],[96,6,91,4],[96,12,91,10,"inBounds"],[96,20,91,18],[96,23,91,21],[96,24,91,22],[96,25,91,23],[96,27,91,25,"_utils"],[96,33,91,31],[96,34,91,32,"isPointerInBounds"],[96,51,91,49],[96,53,91,51],[96,57,91,55],[96,58,91,56,"view"],[96,62,91,60],[96,64,91,62],[97,8,92,6,"x"],[97,9,92,7],[97,11,92,9,"adaptedEvent"],[97,23,92,21],[97,24,92,22,"x"],[97,25,92,23],[98,8,93,6,"y"],[98,9,93,7],[98,11,93,9,"adaptedEvent"],[98,23,93,21],[98,24,93,22,"y"],[99,6,94,4],[99,7,94,5],[99,8,94,6],[100,6,95,4],[100,12,95,10,"pointerIndex"],[100,24,95,22],[100,27,95,25],[100,31,95,29],[100,32,95,30,"pointersInBounds"],[100,48,95,46],[100,49,95,47,"indexOf"],[100,56,95,54],[100,57,95,55,"adaptedEvent"],[100,69,95,67],[100,70,95,68,"pointerId"],[100,79,95,77],[100,80,95,78],[101,6,96,4],[101,10,96,8,"inBounds"],[101,18,96,16],[101,20,96,18],[102,8,97,6],[102,12,97,10,"pointerIndex"],[102,24,97,22],[102,27,97,25],[102,28,97,26],[102,30,97,28],[103,10,98,8,"adaptedEvent"],[103,22,98,20],[103,23,98,21,"eventType"],[103,32,98,30],[103,35,98,33,"_interfaces"],[103,46,98,44],[103,47,98,45,"EventTypes"],[103,57,98,55],[103,58,98,56,"ENTER"],[103,63,98,61],[104,10,99,8],[104,14,99,12],[104,15,99,13,"onPointerEnter"],[104,29,99,27],[104,30,99,28,"adaptedEvent"],[104,42,99,40],[104,43,99,41],[105,10,100,8],[105,14,100,12],[105,15,100,13,"markAsInBounds"],[105,29,100,27],[105,30,100,28,"adaptedEvent"],[105,42,100,40],[105,43,100,41,"pointerId"],[105,52,100,50],[105,53,100,51],[106,8,101,6],[106,9,101,7],[106,15,101,13],[107,10,102,8],[107,14,102,12],[107,15,102,13,"onPointerMove"],[107,28,102,26],[107,29,102,27,"adaptedEvent"],[107,41,102,39],[107,42,102,40],[108,8,103,6],[109,6,104,4],[109,7,104,5],[109,13,104,11],[110,8,105,6],[110,12,105,10,"pointerIndex"],[110,24,105,22],[110,28,105,26],[110,29,105,27],[110,31,105,29],[111,10,106,8,"adaptedEvent"],[111,22,106,20],[111,23,106,21,"eventType"],[111,32,106,30],[111,35,106,33,"_interfaces"],[111,46,106,44],[111,47,106,45,"EventTypes"],[111,57,106,55],[111,58,106,56,"LEAVE"],[111,63,106,61],[112,10,107,8],[112,14,107,12],[112,15,107,13,"onPointerLeave"],[112,29,107,27],[112,30,107,28,"adaptedEvent"],[112,42,107,40],[112,43,107,41],[113,10,108,8],[113,14,108,12],[113,15,108,13,"markAsOutOfBounds"],[113,32,108,30],[113,33,108,31,"adaptedEvent"],[113,45,108,43],[113,46,108,44,"pointerId"],[113,55,108,53],[113,56,108,54],[114,8,109,6],[114,9,109,7],[114,15,109,13],[115,10,110,8],[115,14,110,12],[115,15,110,13,"onPointerOutOfBounds"],[115,35,110,33],[115,36,110,34,"adaptedEvent"],[115,48,110,46],[115,49,110,47],[116,8,111,6],[117,6,112,4],[118,6,113,4],[118,10,113,8],[118,11,113,9,"lastPosition"],[118,23,113,21],[118,24,113,22,"x"],[118,25,113,23],[118,28,113,26,"event"],[118,33,113,31],[118,34,113,32,"x"],[118,35,113,33],[119,6,114,4],[119,10,114,8],[119,11,114,9,"lastPosition"],[119,23,114,21],[119,24,114,22,"y"],[119,25,114,23],[119,28,114,26,"event"],[119,33,114,31],[119,34,114,32,"y"],[119,35,114,33],[120,4,115,2],[120,5,115,3],[121,4,116,2,"pointerCancelCallback"],[121,25,116,23],[121,28,116,26,"event"],[121,33,116,31],[121,37,116,35],[122,6,117,4],[122,12,117,10,"adaptedEvent"],[122,24,117,22],[122,27,117,25],[122,31,117,29],[122,32,117,30,"mapEvent"],[122,40,117,38],[122,41,117,39,"event"],[122,46,117,44],[122,48,117,46,"_interfaces"],[122,59,117,57],[122,60,117,58,"EventTypes"],[122,70,117,68],[122,71,117,69,"CANCEL"],[122,77,117,75],[122,78,117,76],[123,6,118,4],[123,10,118,8],[123,11,118,9,"onPointerCancel"],[123,26,118,24],[123,27,118,25,"adaptedEvent"],[123,39,118,37],[123,40,118,38],[124,6,119,4],[124,10,119,8],[124,11,119,9,"markAsOutOfBounds"],[124,28,119,26],[124,29,119,27,"adaptedEvent"],[124,41,119,39],[124,42,119,40,"pointerId"],[124,51,119,49],[124,52,119,50],[125,6,120,4],[125,10,120,8],[125,11,120,9,"activePointersCounter"],[125,32,120,30],[125,35,120,33],[125,36,120,34],[126,6,121,4],[126,10,121,8],[126,11,121,9,"trackedPointers"],[126,26,121,24],[126,27,121,25,"clear"],[126,32,121,30],[126,33,121,31],[126,34,121,32],[127,4,122,2],[127,5,122,3],[128,4,123,2,"pointerEnterCallback"],[128,24,123,22],[128,27,123,25,"event"],[128,32,123,30],[128,36,123,34],[129,6,124,4],[129,12,124,10,"adaptedEvent"],[129,24,124,22],[129,27,124,25],[129,31,124,29],[129,32,124,30,"mapEvent"],[129,40,124,38],[129,41,124,39,"event"],[129,46,124,44],[129,48,124,46,"_interfaces"],[129,59,124,57],[129,60,124,58,"EventTypes"],[129,70,124,68],[129,71,124,69,"ENTER"],[129,76,124,74],[129,77,124,75],[130,6,125,4],[130,10,125,8],[130,11,125,9,"onPointerMoveOver"],[130,28,125,26],[130,29,125,27,"adaptedEvent"],[130,41,125,39],[130,42,125,40],[131,4,126,2],[131,5,126,3],[132,4,127,2,"pointerLeaveCallback"],[132,24,127,22],[132,27,127,25,"event"],[132,32,127,30],[132,36,127,34],[133,6,128,4],[133,12,128,10,"adaptedEvent"],[133,24,128,22],[133,27,128,25],[133,31,128,29],[133,32,128,30,"mapEvent"],[133,40,128,38],[133,41,128,39,"event"],[133,46,128,44],[133,48,128,46,"_interfaces"],[133,59,128,57],[133,60,128,58,"EventTypes"],[133,70,128,68],[133,71,128,69,"LEAVE"],[133,76,128,74],[133,77,128,75],[134,6,129,4],[134,10,129,8],[134,11,129,9,"onPointerMoveOut"],[134,27,129,25],[134,28,129,26,"adaptedEvent"],[134,40,129,38],[134,41,129,39],[135,4,130,2],[135,5,130,3],[136,4,131,2,"lostPointerCaptureCallback"],[136,30,131,28],[136,33,131,31,"event"],[136,38,131,36],[136,42,131,40],[137,6,132,4],[137,12,132,10,"adaptedEvent"],[137,24,132,22],[137,27,132,25],[137,31,132,29],[137,32,132,30,"mapEvent"],[137,40,132,38],[137,41,132,39,"event"],[137,46,132,44],[137,48,132,46,"_interfaces"],[137,59,132,57],[137,60,132,58,"EventTypes"],[137,70,132,68],[137,71,132,69,"CANCEL"],[137,77,132,75],[137,78,132,76],[138,6,133,4],[138,10,133,8],[138,14,133,12],[138,15,133,13,"trackedPointers"],[138,30,133,28],[138,31,133,29,"has"],[138,34,133,32],[138,35,133,33,"adaptedEvent"],[138,47,133,45],[138,48,133,46,"pointerId"],[138,57,133,55],[138,58,133,56],[138,60,133,58],[139,8,134,6],[140,8,135,6],[141,8,136,6],[141,12,136,10],[141,13,136,11,"onPointerCancel"],[141,28,136,26],[141,29,136,27,"adaptedEvent"],[141,41,136,39],[141,42,136,40],[142,8,137,6],[142,12,137,10],[142,13,137,11,"activePointersCounter"],[142,34,137,32],[142,37,137,35],[142,38,137,36],[143,8,138,6],[143,12,138,10],[143,13,138,11,"trackedPointers"],[143,28,138,26],[143,29,138,27,"clear"],[143,34,138,32],[143,35,138,33],[143,36,138,34],[144,6,139,4],[145,4,140,2],[145,5,140,3],[146,4,141,2,"registerListeners"],[146,21,141,19,"registerListeners"],[146,22,141,19],[146,24,141,22],[147,6,142,4],[147,10,142,8],[147,11,142,9,"view"],[147,15,142,13],[147,16,142,14,"addEventListener"],[147,32,142,30],[147,33,142,31],[147,46,142,44],[147,48,142,46],[147,52,142,50],[147,53,142,51,"pointerDownCallback"],[147,72,142,70],[147,73,142,71],[148,6,143,4],[148,10,143,8],[148,11,143,9,"view"],[148,15,143,13],[148,16,143,14,"addEventListener"],[148,32,143,30],[148,33,143,31],[148,44,143,42],[148,46,143,44],[148,50,143,48],[148,51,143,49,"pointerUpCallback"],[148,68,143,66],[148,69,143,67],[149,6,144,4],[149,10,144,8],[149,11,144,9,"view"],[149,15,144,13],[149,16,144,14,"addEventListener"],[149,32,144,30],[149,33,144,31],[149,46,144,44],[149,48,144,46],[149,52,144,50],[149,53,144,51,"pointerMoveCallback"],[149,72,144,70],[149,73,144,71],[150,6,145,4],[150,10,145,8],[150,11,145,9,"view"],[150,15,145,13],[150,16,145,14,"addEventListener"],[150,32,145,30],[150,33,145,31],[150,48,145,46],[150,50,145,48],[150,54,145,52],[150,55,145,53,"pointerCancelCallback"],[150,76,145,74],[150,77,145,75],[152,6,147,4],[153,6,148,4],[154,6,149,4],[155,6,150,4],[156,6,151,4],[156,10,151,8],[156,11,151,9,"view"],[156,15,151,13],[156,16,151,14,"addEventListener"],[156,32,151,30],[156,33,151,31],[156,47,151,45],[156,49,151,47],[156,53,151,51],[156,54,151,52,"pointerEnterCallback"],[156,74,151,72],[156,75,151,73],[157,6,152,4],[157,10,152,8],[157,11,152,9,"view"],[157,15,152,13],[157,16,152,14,"addEventListener"],[157,32,152,30],[157,33,152,31],[157,47,152,45],[157,49,152,47],[157,53,152,51],[157,54,152,52,"pointerLeaveCallback"],[157,74,152,72],[157,75,152,73],[158,6,153,4],[158,10,153,8],[158,11,153,9,"view"],[158,15,153,13],[158,16,153,14,"addEventListener"],[158,32,153,30],[158,33,153,31],[158,53,153,51],[158,55,153,53],[158,59,153,57],[158,60,153,58,"lostPointerCaptureCallback"],[158,86,153,84],[158,87,153,85],[159,4,154,2],[160,4,155,2,"unregisterListeners"],[160,23,155,21,"unregisterListeners"],[160,24,155,21],[160,26,155,24],[161,6,156,4],[161,10,156,8],[161,11,156,9,"view"],[161,15,156,13],[161,16,156,14,"removeEventListener"],[161,35,156,33],[161,36,156,34],[161,49,156,47],[161,51,156,49],[161,55,156,53],[161,56,156,54,"pointerDownCallback"],[161,75,156,73],[161,76,156,74],[162,6,157,4],[162,10,157,8],[162,11,157,9,"view"],[162,15,157,13],[162,16,157,14,"removeEventListener"],[162,35,157,33],[162,36,157,34],[162,47,157,45],[162,49,157,47],[162,53,157,51],[162,54,157,52,"pointerUpCallback"],[162,71,157,69],[162,72,157,70],[163,6,158,4],[163,10,158,8],[163,11,158,9,"view"],[163,15,158,13],[163,16,158,14,"removeEventListener"],[163,35,158,33],[163,36,158,34],[163,49,158,47],[163,51,158,49],[163,55,158,53],[163,56,158,54,"pointerMoveCallback"],[163,75,158,73],[163,76,158,74],[164,6,159,4],[164,10,159,8],[164,11,159,9,"view"],[164,15,159,13],[164,16,159,14,"removeEventListener"],[164,35,159,33],[164,36,159,34],[164,51,159,49],[164,53,159,51],[164,57,159,55],[164,58,159,56,"pointerCancelCallback"],[164,79,159,77],[164,80,159,78],[165,6,160,4],[165,10,160,8],[165,11,160,9,"view"],[165,15,160,13],[165,16,160,14,"removeEventListener"],[165,35,160,33],[165,36,160,34],[165,50,160,48],[165,52,160,50],[165,56,160,54],[165,57,160,55,"pointerEnterCallback"],[165,77,160,75],[165,78,160,76],[166,6,161,4],[166,10,161,8],[166,11,161,9,"view"],[166,15,161,13],[166,16,161,14,"removeEventListener"],[166,35,161,33],[166,36,161,34],[166,50,161,48],[166,52,161,50],[166,56,161,54],[166,57,161,55,"pointerLeaveCallback"],[166,77,161,75],[166,78,161,76],[167,6,162,4],[167,10,162,8],[167,11,162,9,"view"],[167,15,162,13],[167,16,162,14,"removeEventListener"],[167,35,162,33],[167,36,162,34],[167,56,162,54],[167,58,162,56],[167,62,162,60],[167,63,162,61,"lostPointerCaptureCallback"],[167,89,162,87],[167,90,162,88],[168,4,163,2],[169,4,164,2,"mapEvent"],[169,12,164,10,"mapEvent"],[169,13,164,11,"event"],[169,18,164,16],[169,20,164,18,"eventType"],[169,29,164,27],[169,31,164,29],[170,6,165,4],[170,12,165,10,"rect"],[170,16,165,14],[170,19,165,17],[170,23,165,21],[170,24,165,22,"view"],[170,28,165,26],[170,29,165,27,"getBoundingClientRect"],[170,50,165,48],[170,51,165,49],[170,52,165,50],[171,6,166,4],[171,12,166,10],[172,8,167,6,"scaleX"],[172,14,167,12],[173,8,168,6,"scaleY"],[174,6,169,4],[174,7,169,5],[174,10,169,8],[174,11,169,9],[174,12,169,10],[174,14,169,12,"_utils"],[174,20,169,18],[174,21,169,19,"calculateViewScale"],[174,39,169,37],[174,41,169,39],[174,45,169,43],[174,46,169,44,"view"],[174,50,169,48],[174,51,169,49],[175,6,170,4],[175,13,170,11],[176,8,171,6,"x"],[176,9,171,7],[176,11,171,9,"event"],[176,16,171,14],[176,17,171,15,"clientX"],[176,24,171,22],[177,8,172,6,"y"],[177,9,172,7],[177,11,172,9,"event"],[177,16,172,14],[177,17,172,15,"clientY"],[177,24,172,22],[178,8,173,6,"offsetX"],[178,15,173,13],[178,17,173,15],[178,18,173,16,"event"],[178,23,173,21],[178,24,173,22,"clientX"],[178,31,173,29],[178,34,173,32,"rect"],[178,38,173,36],[178,39,173,37,"left"],[178,43,173,41],[178,47,173,45,"scaleX"],[178,53,173,51],[179,8,174,6,"offsetY"],[179,15,174,13],[179,17,174,15],[179,18,174,16,"event"],[179,23,174,21],[179,24,174,22,"clientY"],[179,31,174,29],[179,34,174,32,"rect"],[179,38,174,36],[179,39,174,37,"top"],[179,42,174,40],[179,46,174,44,"scaleY"],[179,52,174,50],[180,8,175,6,"pointerId"],[180,17,175,15],[180,19,175,17,"event"],[180,24,175,22],[180,25,175,23,"pointerId"],[180,34,175,32],[181,8,176,6,"eventType"],[181,17,176,15],[181,19,176,17,"eventType"],[181,28,176,26],[182,8,177,6,"pointerType"],[182,19,177,17],[182,21,177,19,"_utils"],[182,27,177,25],[182,28,177,26,"PointerTypeMapping"],[182,46,177,44],[182,47,177,45,"get"],[182,50,177,48],[182,51,177,49,"event"],[182,56,177,54],[182,57,177,55,"pointerType"],[182,68,177,66],[182,69,177,67],[182,73,177,71,"_PointerType"],[182,85,177,83],[182,86,177,84,"PointerType"],[182,97,177,95],[182,98,177,96,"OTHER"],[182,103,177,101],[183,8,178,6,"button"],[183,14,178,12],[183,16,178,14],[183,20,178,18],[183,21,178,19,"mouseButtonsMapper"],[183,39,178,37],[183,40,178,38,"get"],[183,43,178,41],[183,44,178,42,"event"],[183,49,178,47],[183,50,178,48,"button"],[183,56,178,54],[183,57,178,55],[184,8,179,6,"time"],[184,12,179,10],[184,14,179,12,"event"],[184,19,179,17],[184,20,179,18,"timeStamp"],[184,29,179,27],[185,8,180,6,"stylusData"],[185,18,180,16],[185,20,180,18],[185,21,180,19],[185,22,180,20],[185,24,180,22,"_utils"],[185,30,180,28],[185,31,180,29,"tryExtractStylusData"],[185,51,180,49],[185,53,180,51,"event"],[185,58,180,56],[186,6,181,4],[186,7,181,5],[187,4,182,2],[188,4,183,2,"resetManager"],[188,16,183,14,"resetManager"],[188,17,183,14],[188,19,183,17],[189,6,184,4],[189,11,184,9],[189,12,184,10,"resetManager"],[189,24,184,22],[189,25,184,23],[189,26,184,24],[190,6,185,4],[190,10,185,8],[190,11,185,9,"trackedPointers"],[190,26,185,24],[190,27,185,25,"clear"],[190,32,185,30],[190,33,185,31],[190,34,185,32],[191,4,186,2],[192,2,187,0],[193,2,188,0,"exports"],[193,9,188,7],[193,10,188,8,"default"],[193,17,188,15],[193,20,188,18,"PointerEventManager"],[193,39,188,37],[194,0,188,38],[194,3]],"functionMap":{"names":["<global>","_interopRequireDefault","PointerEventManager","constructor","pointerDownCallback","pointerUpCallback","pointerMoveCallback","pointerCancelCallback","pointerEnterCallback","pointerLeaveCallback","lostPointerCaptureCallback","registerListeners","unregisterListeners","mapEvent","resetManager"],"mappings":"AAA;ACW,qFD;AEE;ECG;GDW;wBEC;GFoB;sBGC;GHqB;wBIC;GJ2C;0BKC;GLM;yBMC;GNG;yBOC;GPG;+BQC;GRS;ESC;GTa;EUC;GVQ;EWC;GXkB;EYC;GZG;CFC"},"hasCjsExports":true},"type":"js/module"}]}