{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.PressableStateMachine = void 0;\n  class PressableStateMachine {\n    constructor() {\n      this.states = null;\n      this.currentStepIndex = 0;\n      this.eventPayload = null;\n    }\n    setStates(states) {\n      this.states = states;\n    }\n    reset() {\n      this.currentStepIndex = 0;\n      this.eventPayload = null;\n    }\n    handleEvent(eventName, eventPayload) {\n      if (!this.states) {\n        return;\n      }\n      const step = this.states[this.currentStepIndex];\n      this.eventPayload = eventPayload || this.eventPayload;\n      if (step.eventName !== eventName) {\n        if (this.currentStepIndex > 0) {\n          // retry with position at index 0\n          this.reset();\n          this.handleEvent(eventName, eventPayload);\n        }\n        return;\n      }\n      if (this.eventPayload && step.callback) {\n        step.callback(this.eventPayload);\n      }\n      this.currentStepIndex++;\n      if (this.currentStepIndex === this.states.length) {\n        this.reset();\n      }\n    }\n  }\n  exports.PressableStateMachine = PressableStateMachine;\n});","lineCount":45,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"PressableStateMachine"],[7,31,6,29],[7,34,6,32],[7,39,6,37],[7,40,6,38],[8,2,7,0],[8,8,7,6,"PressableStateMachine"],[8,29,7,27],[8,30,7,28],[9,4,8,2,"constructor"],[9,15,8,13,"constructor"],[9,16,8,13],[9,18,8,16],[10,6,9,4],[10,10,9,8],[10,11,9,9,"states"],[10,17,9,15],[10,20,9,18],[10,24,9,22],[11,6,10,4],[11,10,10,8],[11,11,10,9,"currentStepIndex"],[11,27,10,25],[11,30,10,28],[11,31,10,29],[12,6,11,4],[12,10,11,8],[12,11,11,9,"eventPayload"],[12,23,11,21],[12,26,11,24],[12,30,11,28],[13,4,12,2],[14,4,13,2,"setStates"],[14,13,13,11,"setStates"],[14,14,13,12,"states"],[14,20,13,18],[14,22,13,20],[15,6,14,4],[15,10,14,8],[15,11,14,9,"states"],[15,17,14,15],[15,20,14,18,"states"],[15,26,14,24],[16,4,15,2],[17,4,16,2,"reset"],[17,9,16,7,"reset"],[17,10,16,7],[17,12,16,10],[18,6,17,4],[18,10,17,8],[18,11,17,9,"currentStepIndex"],[18,27,17,25],[18,30,17,28],[18,31,17,29],[19,6,18,4],[19,10,18,8],[19,11,18,9,"eventPayload"],[19,23,18,21],[19,26,18,24],[19,30,18,28],[20,4,19,2],[21,4,20,2,"handleEvent"],[21,15,20,13,"handleEvent"],[21,16,20,14,"eventName"],[21,25,20,23],[21,27,20,25,"eventPayload"],[21,39,20,37],[21,41,20,39],[22,6,21,4],[22,10,21,8],[22,11,21,9],[22,15,21,13],[22,16,21,14,"states"],[22,22,21,20],[22,24,21,22],[23,8,22,6],[24,6,23,4],[25,6,24,4],[25,12,24,10,"step"],[25,16,24,14],[25,19,24,17],[25,23,24,21],[25,24,24,22,"states"],[25,30,24,28],[25,31,24,29],[25,35,24,33],[25,36,24,34,"currentStepIndex"],[25,52,24,50],[25,53,24,51],[26,6,25,4],[26,10,25,8],[26,11,25,9,"eventPayload"],[26,23,25,21],[26,26,25,24,"eventPayload"],[26,38,25,36],[26,42,25,40],[26,46,25,44],[26,47,25,45,"eventPayload"],[26,59,25,57],[27,6,26,4],[27,10,26,8,"step"],[27,14,26,12],[27,15,26,13,"eventName"],[27,24,26,22],[27,29,26,27,"eventName"],[27,38,26,36],[27,40,26,38],[28,8,27,6],[28,12,27,10],[28,16,27,14],[28,17,27,15,"currentStepIndex"],[28,33,27,31],[28,36,27,34],[28,37,27,35],[28,39,27,37],[29,10,28,8],[30,10,29,8],[30,14,29,12],[30,15,29,13,"reset"],[30,20,29,18],[30,21,29,19],[30,22,29,20],[31,10,30,8],[31,14,30,12],[31,15,30,13,"handleEvent"],[31,26,30,24],[31,27,30,25,"eventName"],[31,36,30,34],[31,38,30,36,"eventPayload"],[31,50,30,48],[31,51,30,49],[32,8,31,6],[33,8,32,6],[34,6,33,4],[35,6,34,4],[35,10,34,8],[35,14,34,12],[35,15,34,13,"eventPayload"],[35,27,34,25],[35,31,34,29,"step"],[35,35,34,33],[35,36,34,34,"callback"],[35,44,34,42],[35,46,34,44],[36,8,35,6,"step"],[36,12,35,10],[36,13,35,11,"callback"],[36,21,35,19],[36,22,35,20],[36,26,35,24],[36,27,35,25,"eventPayload"],[36,39,35,37],[36,40,35,38],[37,6,36,4],[38,6,37,4],[38,10,37,8],[38,11,37,9,"currentStepIndex"],[38,27,37,25],[38,29,37,27],[39,6,38,4],[39,10,38,8],[39,14,38,12],[39,15,38,13,"currentStepIndex"],[39,31,38,29],[39,36,38,34],[39,40,38,38],[39,41,38,39,"states"],[39,47,38,45],[39,48,38,46,"length"],[39,54,38,52],[39,56,38,54],[40,8,39,6],[40,12,39,10],[40,13,39,11,"reset"],[40,18,39,16],[40,19,39,17],[40,20,39,18],[41,6,40,4],[42,4,41,2],[43,2,42,0],[44,2,43,0,"exports"],[44,9,43,7],[44,10,43,8,"PressableStateMachine"],[44,31,43,29],[44,34,43,32,"PressableStateMachine"],[44,55,43,53],[45,0,43,54],[45,3]],"functionMap":{"names":["<global>","PressableStateMachine","PressableStateMachine#constructor","PressableStateMachine#setStates","PressableStateMachine#reset","PressableStateMachine#handleEvent"],"mappings":"AAA;ACM;ECC;GDI;EEC;GFE;EGC;GHG;EIC;GJqB;CDC"},"hasCjsExports":true},"type":"js/module"}]}