{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":13,"index":142},"end":{"line":7,"column":29,"index":158}}],"key":"XN65eZP/QkNMzaBAXbG/zPyidpY=","exportNames":["*"],"imports":1}},{"name":"./attachHandlers","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":22,"index":182},"end":{"line":8,"column":49,"index":209}}],"key":"oeQTfrxJjWrqujOnmkexkfP2thU=","exportNames":["*"],"imports":1}},{"name":"./updateHandlers","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":22,"index":233},"end":{"line":9,"column":49,"index":260}}],"key":"uYyZ77KwBF3ocB2CWB+S5Fh30eM=","exportNames":["*"],"imports":1}},{"name":"./needsToReattach","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":23,"index":285},"end":{"line":10,"column":51,"index":313}}],"key":"uhh1Qd4kAot/H/F9XNve/I2Qlu0=","exportNames":["*"],"imports":1}},{"name":"./dropHandlers","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":11,"column":20,"index":335},"end":{"line":11,"column":45,"index":360}}],"key":"pc/an299aDD5JxGTf3pYOYBgHuw=","exportNames":["*"],"imports":1}},{"name":"./utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":12,"column":13,"index":375},"end":{"line":12,"column":31,"index":393}}],"key":"Arg6QRuIuy5D/jfcnxX1qJiHjX8=","exportNames":["*"],"imports":1}},{"name":"../../../findNodeHandle","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":13,"column":45,"index":440},"end":{"line":13,"column":79,"index":474}}],"key":"a+XNRBzAwRb1cOdipqWWj9NE1pA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useDetectorUpdater = useDetectorUpdater;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _attachHandlers = require(_dependencyMap[1], \"./attachHandlers\");\n  var _updateHandlers = require(_dependencyMap[2], \"./updateHandlers\");\n  var _needsToReattach = require(_dependencyMap[3], \"./needsToReattach\");\n  var _dropHandlers = require(_dependencyMap[4], \"./dropHandlers\");\n  var _utils = require(_dependencyMap[5], \"./utils\");\n  var _findNodeHandle = _interopRequireDefault(require(_dependencyMap[6], \"../../../findNodeHandle\"));\n  function _interopRequireDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  // Returns a function that's responsible for updating the attached gestures\n  // If the view has changed, it will reattach the handlers to the new view\n  // If the view remains the same, it will update the handlers with the new config\n  function useDetectorUpdater(state, preparedGesture, gesturesToAttach, gestureConfig, webEventHandlersRef) {\n    const forceRender = (0, _utils.useForceRender)();\n    const updateAttachedGestures = (0, _react.useCallback)(\n    // skipConfigUpdate is used to prevent unnecessary updates when only checking if the view has changed\n    skipConfigUpdate => {\n      // If the underlying view has changed we need to reattach handlers to the new view\n      const viewTag = (0, _findNodeHandle.default)(state.viewRef);\n      const didUnderlyingViewChange = viewTag !== state.previousViewTag;\n      if (didUnderlyingViewChange || (0, _needsToReattach.needsToReattach)(preparedGesture, gesturesToAttach)) {\n        (0, _utils.validateDetectorChildren)(state.viewRef);\n        (0, _dropHandlers.dropHandlers)(preparedGesture);\n        (0, _attachHandlers.attachHandlers)({\n          preparedGesture,\n          gestureConfig,\n          gesturesToAttach,\n          webEventHandlersRef,\n          viewTag\n        });\n        if (didUnderlyingViewChange) {\n          state.previousViewTag = viewTag;\n          state.forceRebuildReanimatedEvent = true;\n          forceRender();\n        }\n      } else if (!skipConfigUpdate) {\n        (0, _updateHandlers.updateHandlers)(preparedGesture, gestureConfig, gesturesToAttach);\n      }\n    }, [forceRender, gestureConfig, gesturesToAttach, preparedGesture, state, webEventHandlersRef]);\n    return updateAttachedGestures;\n  }\n});","lineCount":52,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"useDetectorUpdater"],[7,28,6,26],[7,31,6,29,"useDetectorUpdater"],[7,49,6,47],[8,2,7,0],[8,6,7,4,"_react"],[8,12,7,10],[8,15,7,13,"require"],[8,22,7,20],[8,23,7,20,"_dependencyMap"],[8,37,7,20],[8,49,7,28],[8,50,7,29],[9,2,8,0],[9,6,8,4,"_attachHandlers"],[9,21,8,19],[9,24,8,22,"require"],[9,31,8,29],[9,32,8,29,"_dependencyMap"],[9,46,8,29],[9,69,8,48],[9,70,8,49],[10,2,9,0],[10,6,9,4,"_updateHandlers"],[10,21,9,19],[10,24,9,22,"require"],[10,31,9,29],[10,32,9,29,"_dependencyMap"],[10,46,9,29],[10,69,9,48],[10,70,9,49],[11,2,10,0],[11,6,10,4,"_needsToReattach"],[11,22,10,20],[11,25,10,23,"require"],[11,32,10,30],[11,33,10,30,"_dependencyMap"],[11,47,10,30],[11,71,10,50],[11,72,10,51],[12,2,11,0],[12,6,11,4,"_dropHandlers"],[12,19,11,17],[12,22,11,20,"require"],[12,29,11,27],[12,30,11,27,"_dependencyMap"],[12,44,11,27],[12,65,11,44],[12,66,11,45],[13,2,12,0],[13,6,12,4,"_utils"],[13,12,12,10],[13,15,12,13,"require"],[13,22,12,20],[13,23,12,20,"_dependencyMap"],[13,37,12,20],[13,51,12,30],[13,52,12,31],[14,2,13,0],[14,6,13,4,"_findNodeHandle"],[14,21,13,19],[14,24,13,22,"_interopRequireDefault"],[14,46,13,44],[14,47,13,45,"require"],[14,54,13,52],[14,55,13,52,"_dependencyMap"],[14,69,13,52],[14,99,13,78],[14,100,13,79],[14,101,13,80],[15,2,14,0],[15,11,14,9,"_interopRequireDefault"],[15,33,14,31,"_interopRequireDefault"],[15,34,14,32,"e"],[15,35,14,33],[15,37,14,35],[16,4,14,37],[16,11,14,44,"e"],[16,12,14,45],[16,16,14,49,"e"],[16,17,14,50],[16,18,14,51,"__esModule"],[16,28,14,61],[16,31,14,64,"e"],[16,32,14,65],[16,35,14,68],[17,6,14,70,"default"],[17,13,14,77],[17,15,14,79,"e"],[18,4,14,81],[18,5,14,82],[19,2,14,84],[20,2,15,0],[21,2,16,0],[22,2,17,0],[23,2,18,0],[23,11,18,9,"useDetectorUpdater"],[23,29,18,27,"useDetectorUpdater"],[23,30,18,28,"state"],[23,35,18,33],[23,37,18,35,"preparedGesture"],[23,52,18,50],[23,54,18,52,"gesturesToAttach"],[23,70,18,68],[23,72,18,70,"gestureConfig"],[23,85,18,83],[23,87,18,85,"webEventHandlersRef"],[23,106,18,104],[23,108,18,106],[24,4,19,2],[24,10,19,8,"forceRender"],[24,21,19,19],[24,24,19,22],[24,25,19,23],[24,26,19,24],[24,28,19,26,"_utils"],[24,34,19,32],[24,35,19,33,"useForceRender"],[24,49,19,47],[24,51,19,49],[24,52,19,50],[25,4,20,2],[25,10,20,8,"updateAttachedGestures"],[25,32,20,30],[25,35,20,33],[25,36,20,34],[25,37,20,35],[25,39,20,37,"_react"],[25,45,20,43],[25,46,20,44,"useCallback"],[25,57,20,55],[26,4,21,2],[27,4,22,2,"skipConfigUpdate"],[27,20,22,18],[27,24,22,22],[28,6,23,4],[29,6,24,4],[29,12,24,10,"viewTag"],[29,19,24,17],[29,22,24,20],[29,23,24,21],[29,24,24,22],[29,26,24,24,"_findNodeHandle"],[29,41,24,39],[29,42,24,40,"default"],[29,49,24,47],[29,51,24,49,"state"],[29,56,24,54],[29,57,24,55,"viewRef"],[29,64,24,62],[29,65,24,63],[30,6,25,4],[30,12,25,10,"didUnderlyingViewChange"],[30,35,25,33],[30,38,25,36,"viewTag"],[30,45,25,43],[30,50,25,48,"state"],[30,55,25,53],[30,56,25,54,"previousViewTag"],[30,71,25,69],[31,6,26,4],[31,10,26,8,"didUnderlyingViewChange"],[31,33,26,31],[31,37,26,35],[31,38,26,36],[31,39,26,37],[31,41,26,39,"_needsToReattach"],[31,57,26,55],[31,58,26,56,"needsToReattach"],[31,73,26,71],[31,75,26,73,"preparedGesture"],[31,90,26,88],[31,92,26,90,"gesturesToAttach"],[31,108,26,106],[31,109,26,107],[31,111,26,109],[32,8,27,6],[32,9,27,7],[32,10,27,8],[32,12,27,10,"_utils"],[32,18,27,16],[32,19,27,17,"validateDetectorChildren"],[32,43,27,41],[32,45,27,43,"state"],[32,50,27,48],[32,51,27,49,"viewRef"],[32,58,27,56],[32,59,27,57],[33,8,28,6],[33,9,28,7],[33,10,28,8],[33,12,28,10,"_dropHandlers"],[33,25,28,23],[33,26,28,24,"dropHandlers"],[33,38,28,36],[33,40,28,38,"preparedGesture"],[33,55,28,53],[33,56,28,54],[34,8,29,6],[34,9,29,7],[34,10,29,8],[34,12,29,10,"_attachHandlers"],[34,27,29,25],[34,28,29,26,"attachHandlers"],[34,42,29,40],[34,44,29,42],[35,10,30,8,"preparedGesture"],[35,25,30,23],[36,10,31,8,"gestureConfig"],[36,23,31,21],[37,10,32,8,"gesturesToAttach"],[37,26,32,24],[38,10,33,8,"webEventHandlersRef"],[38,29,33,27],[39,10,34,8,"viewTag"],[40,8,35,6],[40,9,35,7],[40,10,35,8],[41,8,36,6],[41,12,36,10,"didUnderlyingViewChange"],[41,35,36,33],[41,37,36,35],[42,10,37,8,"state"],[42,15,37,13],[42,16,37,14,"previousViewTag"],[42,31,37,29],[42,34,37,32,"viewTag"],[42,41,37,39],[43,10,38,8,"state"],[43,15,38,13],[43,16,38,14,"forceRebuildReanimatedEvent"],[43,43,38,41],[43,46,38,44],[43,50,38,48],[44,10,39,8,"forceRender"],[44,21,39,19],[44,22,39,20],[44,23,39,21],[45,8,40,6],[46,6,41,4],[46,7,41,5],[46,13,41,11],[46,17,41,15],[46,18,41,16,"skipConfigUpdate"],[46,34,41,32],[46,36,41,34],[47,8,42,6],[47,9,42,7],[47,10,42,8],[47,12,42,10,"_updateHandlers"],[47,27,42,25],[47,28,42,26,"updateHandlers"],[47,42,42,40],[47,44,42,42,"preparedGesture"],[47,59,42,57],[47,61,42,59,"gestureConfig"],[47,74,42,72],[47,76,42,74,"gesturesToAttach"],[47,92,42,90],[47,93,42,91],[48,6,43,4],[49,4,44,2],[49,5,44,3],[49,7,44,5],[49,8,44,6,"forceRender"],[49,19,44,17],[49,21,44,19,"gestureConfig"],[49,34,44,32],[49,36,44,34,"gesturesToAttach"],[49,52,44,50],[49,54,44,52,"preparedGesture"],[49,69,44,67],[49,71,44,69,"state"],[49,76,44,74],[49,78,44,76,"webEventHandlersRef"],[49,97,44,95],[49,98,44,96],[49,99,44,97],[50,4,45,2],[50,11,45,9,"updateAttachedGestures"],[50,33,45,31],[51,2,46,0],[52,0,46,1],[52,3]],"functionMap":{"names":["<global>","_interopRequireDefault","useDetectorUpdater","<anonymous>"],"mappings":"AAA;ACa,qFD;AEI;ECI;GDsB;CFE"},"hasCjsExports":true},"type":"js/module"}]}