{"dependencies":[{"name":"../../handlersRegistry","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":57,"index":72}}],"key":"Q8MtNj8/mrt1iN8Kay94o881ERE=","exportNames":["*"],"imports":1}},{"name":"../../../RNGestureHandlerModule","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":73},"end":{"line":4,"column":69,"index":142}}],"key":"2BYIjnTRSFId8SRJ7sJFxLD1BD4=","exportNames":["*"],"imports":1}},{"name":"../../utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":143},"end":{"line":5,"column":68,"index":211}}],"key":"ByXat9lt9duIJLDmSeH0V+tRq1s=","exportNames":["*"],"imports":1}},{"name":"../../../ActionType","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":212},"end":{"line":6,"column":49,"index":261}}],"key":"HJ6ReZDVLtCQDFQShsuSOLiCtL0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"../../../ghQueueMicrotask","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":303},"end":{"line":8,"column":61,"index":364}}],"key":"6QYiO8x9sAoDBctSRJ19A8sqUNk=","exportNames":["*"],"imports":1}},{"name":"./utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":365},"end":{"line":9,"column":99,"index":464}}],"key":"fIqjJ6Rx8c7Khc/wm9kX7hQXC5I=","exportNames":["*"],"imports":1}},{"name":"../../../mountRegistry","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":465},"end":{"line":10,"column":55,"index":520}}],"key":"ZDu7aL2iuT3Od7iyX13y9sY9XZQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.attachHandlers = attachHandlers;\n  var _handlersRegistry = require(_dependencyMap[0], \"../../handlersRegistry\");\n  var _RNGestureHandlerModule = require(_dependencyMap[1], \"../../../RNGestureHandlerModule\");\n  var RNGestureHandlerModule = _interopDefault(_RNGestureHandlerModule);\n  var _utils = require(_dependencyMap[2], \"../../utils\");\n  var _ActionType = require(_dependencyMap[3], \"../../../ActionType\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[4], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _ghQueueMicrotask = require(_dependencyMap[5], \"../../../ghQueueMicrotask\");\n  var _utils2 = require(_dependencyMap[6], \"./utils\");\n  var _mountRegistry = require(_dependencyMap[7], \"../../../mountRegistry\");\n  function attachHandlers({\n    preparedGesture,\n    gestureConfig,\n    gesturesToAttach,\n    viewTag,\n    webEventHandlersRef\n  }) {\n    gestureConfig.initialize();\n\n    // Use queueMicrotask to extract handlerTags, because all refs should be initialized\n    // when it's ran\n    (0, _ghQueueMicrotask.ghQueueMicrotask)(() => {\n      if (!preparedGesture.isMounted) {\n        return;\n      }\n      gestureConfig.prepare();\n    });\n    for (const handler of gesturesToAttach) {\n      (0, _utils2.checkGestureCallbacksForWorklets)(handler);\n      RNGestureHandlerModule.default.createGestureHandler(handler.handlerName, handler.handlerTag, (0, _utils.filterConfig)(handler.config, _utils2.ALLOWED_PROPS));\n      (0, _handlersRegistry.registerHandler)(handler.handlerTag, handler, handler.config.testId);\n    }\n\n    // Use queueMicrotask to extract handlerTags, because all refs should be initialized\n    // when it's ran\n    (0, _ghQueueMicrotask.ghQueueMicrotask)(() => {\n      if (!preparedGesture.isMounted) {\n        return;\n      }\n      for (const handler of gesturesToAttach) {\n        RNGestureHandlerModule.default.updateGestureHandler(handler.handlerTag, (0, _utils.filterConfig)(handler.config, _utils2.ALLOWED_PROPS, (0, _utils2.extractGestureRelations)(handler)));\n      }\n      (0, _utils.scheduleFlushOperations)();\n    });\n    for (const gesture of gesturesToAttach) {\n      const actionType = gesture.shouldUseReanimated ? _ActionType.ActionType.REANIMATED_WORKLET : _ActionType.ActionType.JS_FUNCTION_NEW_API;\n      if (Platform.default.OS === 'web') {\n        RNGestureHandlerModule.default.attachGestureHandler(gesture.handlerTag, viewTag, _ActionType.ActionType.JS_FUNCTION_OLD_API,\n        // Ignored on web\n        webEventHandlersRef);\n      } else {\n        RNGestureHandlerModule.default.attachGestureHandler(gesture.handlerTag, viewTag, actionType);\n      }\n      _mountRegistry.MountRegistry.gestureWillMount(gesture);\n    }\n    preparedGesture.attachedGestures = gesturesToAttach;\n    if (preparedGesture.animatedHandlers) {\n      const isAnimatedGesture = g => g.shouldUseReanimated;\n      preparedGesture.animatedHandlers.value = gesturesToAttach.filter(isAnimatedGesture).map(g => g.handlers);\n    }\n  }\n});","lineCount":74,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopDefault"],[7,27,1,13,"e"],[7,28,1,13],[8,4,1,13],[8,11,1,13,"e"],[8,12,1,13],[8,16,1,13,"e"],[8,17,1,13],[8,18,1,13,"__esModule"],[8,28,1,13],[8,31,1,13,"e"],[8,32,1,13],[9,6,1,13,"default"],[9,13,1,13],[9,15,1,13,"e"],[10,4,1,13],[11,2,1,13],[12,2,11,0,"exports"],[12,9,11,0],[12,10,11,0,"attachHandlers"],[12,24,11,0],[12,27,11,0,"attachHandlers"],[12,41,11,0],[13,2,3,0],[13,6,3,0,"_handlersRegistry"],[13,23,3,0],[13,26,3,0,"require"],[13,33,3,0],[13,34,3,0,"_dependencyMap"],[13,48,3,0],[14,2,4,0],[14,6,4,0,"_RNGestureHandlerModule"],[14,29,4,0],[14,32,4,0,"require"],[14,39,4,0],[14,40,4,0,"_dependencyMap"],[14,54,4,0],[15,2,4,0],[15,6,4,0,"RNGestureHandlerModule"],[15,28,4,0],[15,31,4,0,"_interopDefault"],[15,46,4,0],[15,47,4,0,"_RNGestureHandlerModule"],[15,70,4,0],[16,2,5,0],[16,6,5,0,"_utils"],[16,12,5,0],[16,15,5,0,"require"],[16,22,5,0],[16,23,5,0,"_dependencyMap"],[16,37,5,0],[17,2,6,0],[17,6,6,0,"_ActionType"],[17,17,6,0],[17,20,6,0,"require"],[17,27,6,0],[17,28,6,0,"_dependencyMap"],[17,42,6,0],[18,2,6,49],[18,6,6,49,"_reactNativeWebDistExportsPlatform"],[18,40,6,49],[18,43,6,49,"require"],[18,50,6,49],[18,51,6,49,"_dependencyMap"],[18,65,6,49],[19,2,6,49],[19,6,6,49,"Platform"],[19,14,6,49],[19,17,6,49,"_interopDefault"],[19,32,6,49],[19,33,6,49,"_reactNativeWebDistExportsPlatform"],[19,67,6,49],[20,2,8,0],[20,6,8,0,"_ghQueueMicrotask"],[20,23,8,0],[20,26,8,0,"require"],[20,33,8,0],[20,34,8,0,"_dependencyMap"],[20,48,8,0],[21,2,9,0],[21,6,9,0,"_utils2"],[21,13,9,0],[21,16,9,0,"require"],[21,23,9,0],[21,24,9,0,"_dependencyMap"],[21,38,9,0],[22,2,10,0],[22,6,10,0,"_mountRegistry"],[22,20,10,0],[22,23,10,0,"require"],[22,30,10,0],[22,31,10,0,"_dependencyMap"],[22,45,10,0],[23,2,11,7],[23,11,11,16,"attachHandlers"],[23,25,11,30,"attachHandlers"],[23,26,11,31],[24,4,12,2,"preparedGesture"],[24,19,12,17],[25,4,13,2,"gestureConfig"],[25,17,13,15],[26,4,14,2,"gesturesToAttach"],[26,20,14,18],[27,4,15,2,"viewTag"],[27,11,15,9],[28,4,16,2,"webEventHandlersRef"],[29,2,17,0],[29,3,17,1],[29,5,17,3],[30,4,18,2,"gestureConfig"],[30,17,18,15],[30,18,18,16,"initialize"],[30,28,18,26],[30,29,18,27],[30,30,18,28],[32,4,20,2],[33,4,21,2],[34,4,22,2],[34,8,22,2,"ghQueueMicrotask"],[34,25,22,18],[34,26,22,18,"ghQueueMicrotask"],[34,42,22,18],[34,44,22,19],[34,50,22,25],[35,6,23,4],[35,10,23,8],[35,11,23,9,"preparedGesture"],[35,26,23,24],[35,27,23,25,"isMounted"],[35,36,23,34],[35,38,23,36],[36,8,24,6],[37,6,25,4],[38,6,26,4,"gestureConfig"],[38,19,26,17],[38,20,26,18,"prepare"],[38,27,26,25],[38,28,26,26],[38,29,26,27],[39,4,27,2],[39,5,27,3],[39,6,27,4],[40,4,28,2],[40,9,28,7],[40,15,28,13,"handler"],[40,22,28,20],[40,26,28,24,"gesturesToAttach"],[40,42,28,40],[40,44,28,42],[41,6,29,4],[41,10,29,4,"checkGestureCallbacksForWorklets"],[41,17,29,36],[41,18,29,36,"checkGestureCallbacksForWorklets"],[41,50,29,36],[41,52,29,37,"handler"],[41,59,29,44],[41,60,29,45],[42,6,30,4,"RNGestureHandlerModule"],[42,28,30,26],[42,29,30,26,"default"],[42,36,30,26],[42,37,30,27,"createGestureHandler"],[42,57,30,47],[42,58,30,48,"handler"],[42,65,30,55],[42,66,30,56,"handlerName"],[42,77,30,67],[42,79,30,69,"handler"],[42,86,30,76],[42,87,30,77,"handlerTag"],[42,97,30,87],[42,99,30,89],[42,103,30,89,"filterConfig"],[42,109,30,101],[42,110,30,101,"filterConfig"],[42,122,30,101],[42,124,30,102,"handler"],[42,131,30,109],[42,132,30,110,"config"],[42,138,30,116],[42,140,30,118,"ALLOWED_PROPS"],[42,147,30,131],[42,148,30,131,"ALLOWED_PROPS"],[42,161,30,131],[42,162,30,132],[42,163,30,133],[43,6,31,4],[43,10,31,4,"registerHandler"],[43,27,31,19],[43,28,31,19,"registerHandler"],[43,43,31,19],[43,45,31,20,"handler"],[43,52,31,27],[43,53,31,28,"handlerTag"],[43,63,31,38],[43,65,31,40,"handler"],[43,72,31,47],[43,74,31,49,"handler"],[43,81,31,56],[43,82,31,57,"config"],[43,88,31,63],[43,89,31,64,"testId"],[43,95,31,70],[43,96,31,71],[44,4,32,2],[46,4,34,2],[47,4,35,2],[48,4,36,2],[48,8,36,2,"ghQueueMicrotask"],[48,25,36,18],[48,26,36,18,"ghQueueMicrotask"],[48,42,36,18],[48,44,36,19],[48,50,36,25],[49,6,37,4],[49,10,37,8],[49,11,37,9,"preparedGesture"],[49,26,37,24],[49,27,37,25,"isMounted"],[49,36,37,34],[49,38,37,36],[50,8,38,6],[51,6,39,4],[52,6,40,4],[52,11,40,9],[52,17,40,15,"handler"],[52,24,40,22],[52,28,40,26,"gesturesToAttach"],[52,44,40,42],[52,46,40,44],[53,8,41,6,"RNGestureHandlerModule"],[53,30,41,28],[53,31,41,28,"default"],[53,38,41,28],[53,39,41,29,"updateGestureHandler"],[53,59,41,49],[53,60,41,50,"handler"],[53,67,41,57],[53,68,41,58,"handlerTag"],[53,78,41,68],[53,80,41,70],[53,84,41,70,"filterConfig"],[53,90,41,82],[53,91,41,82,"filterConfig"],[53,103,41,82],[53,105,41,83,"handler"],[53,112,41,90],[53,113,41,91,"config"],[53,119,41,97],[53,121,41,99,"ALLOWED_PROPS"],[53,128,41,112],[53,129,41,112,"ALLOWED_PROPS"],[53,142,41,112],[53,144,41,114],[53,148,41,114,"extractGestureRelations"],[53,155,41,137],[53,156,41,137,"extractGestureRelations"],[53,179,41,137],[53,181,41,138,"handler"],[53,188,41,145],[53,189,41,146],[53,190,41,147],[53,191,41,148],[54,6,42,4],[55,6,43,4],[55,10,43,4,"scheduleFlushOperations"],[55,16,43,27],[55,17,43,27,"scheduleFlushOperations"],[55,40,43,27],[55,42,43,28],[55,43,43,29],[56,4,44,2],[56,5,44,3],[56,6,44,4],[57,4,45,2],[57,9,45,7],[57,15,45,13,"gesture"],[57,22,45,20],[57,26,45,24,"gesturesToAttach"],[57,42,45,40],[57,44,45,42],[58,6,46,4],[58,12,46,10,"actionType"],[58,22,46,20],[58,25,46,23,"gesture"],[58,32,46,30],[58,33,46,31,"shouldUseReanimated"],[58,52,46,50],[58,55,46,53,"ActionType"],[58,66,46,63],[58,67,46,63,"ActionType"],[58,77,46,63],[58,78,46,64,"REANIMATED_WORKLET"],[58,96,46,82],[58,99,46,85,"ActionType"],[58,110,46,95],[58,111,46,95,"ActionType"],[58,121,46,95],[58,122,46,96,"JS_FUNCTION_NEW_API"],[58,141,46,115],[59,6,47,4],[59,10,47,8,"Platform"],[59,18,47,16],[59,19,47,16,"default"],[59,26,47,16],[59,27,47,17,"OS"],[59,29,47,19],[59,34,47,24],[59,39,47,29],[59,41,47,31],[60,8,48,6,"RNGestureHandlerModule"],[60,30,48,28],[60,31,48,28,"default"],[60,38,48,28],[60,39,48,29,"attachGestureHandler"],[60,59,48,49],[60,60,48,50,"gesture"],[60,67,48,57],[60,68,48,58,"handlerTag"],[60,78,48,68],[60,80,48,70,"viewTag"],[60,87,48,77],[60,89,48,79,"ActionType"],[60,100,48,89],[60,101,48,89,"ActionType"],[60,111,48,89],[60,112,48,90,"JS_FUNCTION_OLD_API"],[60,131,48,109],[61,8,49,6],[62,8,50,6,"webEventHandlersRef"],[62,27,50,25],[62,28,50,26],[63,6,51,4],[63,7,51,5],[63,13,51,11],[64,8,52,6,"RNGestureHandlerModule"],[64,30,52,28],[64,31,52,28,"default"],[64,38,52,28],[64,39,52,29,"attachGestureHandler"],[64,59,52,49],[64,60,52,50,"gesture"],[64,67,52,57],[64,68,52,58,"handlerTag"],[64,78,52,68],[64,80,52,70,"viewTag"],[64,87,52,77],[64,89,52,79,"actionType"],[64,99,52,89],[64,100,52,90],[65,6,53,4],[66,6,54,4,"MountRegistry"],[66,20,54,17],[66,21,54,17,"MountRegistry"],[66,34,54,17],[66,35,54,18,"gestureWillMount"],[66,51,54,34],[66,52,54,35,"gesture"],[66,59,54,42],[66,60,54,43],[67,4,55,2],[68,4,56,2,"preparedGesture"],[68,19,56,17],[68,20,56,18,"attachedGestures"],[68,36,56,34],[68,39,56,37,"gesturesToAttach"],[68,55,56,53],[69,4,57,2],[69,8,57,6,"preparedGesture"],[69,23,57,21],[69,24,57,22,"animatedHandlers"],[69,40,57,38],[69,42,57,40],[70,6,58,4],[70,12,58,10,"isAnimatedGesture"],[70,29,58,27],[70,32,58,30,"g"],[70,33,58,31],[70,37,58,35,"g"],[70,38,58,36],[70,39,58,37,"shouldUseReanimated"],[70,58,58,56],[71,6,59,4,"preparedGesture"],[71,21,59,19],[71,22,59,20,"animatedHandlers"],[71,38,59,36],[71,39,59,37,"value"],[71,44,59,42],[71,47,59,45,"gesturesToAttach"],[71,63,59,61],[71,64,59,62,"filter"],[71,70,59,68],[71,71,59,69,"isAnimatedGesture"],[71,88,59,86],[71,89,59,87],[71,90,59,88,"map"],[71,93,59,91],[71,94,59,92,"g"],[71,95,59,93],[71,99,59,97,"g"],[71,100,59,98],[71,101,59,99,"handlers"],[71,109,59,107],[71,110,59,108],[72,4,60,2],[73,2,61,0],[74,0,61,1],[74,3]],"functionMap":{"names":["<global>","attachHandlers","ghQueueMicrotask$argument_0","isAnimatedGesture","gesturesToAttach.filter.map$argument_0"],"mappings":"AAA;OCU;mBCW;GDK;mBCS;GDQ;8BEc,0BF;4FGC,eH;CDE"},"hasCjsExports":false},"type":"js/module"}]}