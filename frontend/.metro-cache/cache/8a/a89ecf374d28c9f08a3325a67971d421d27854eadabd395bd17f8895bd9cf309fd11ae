{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"./Sensor","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":141},"end":{"line":10,"column":30,"index":171}}],"key":"jCsiDNYCRGC49K/Yw6RxNrvQaN8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"SensorContainer\", {\n    enumerable: true,\n    get: function () {\n      return SensorContainer;\n    }\n  });\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _Sensor = require(_dependencyMap[2], \"./Sensor\");\n  var Sensor = _interopDefault(_Sensor);\n  var SensorContainer = /*#__PURE__*/function () {\n    function SensorContainer() {\n      (0, _classCallCheck.default)(this, SensorContainer);\n      this.nativeSensors = new Map();\n    }\n    return (0, _createClass.default)(SensorContainer, [{\n      key: \"getSensorId\",\n      value: function getSensorId(sensorType, config) {\n        return sensorType * 100 + config.iosReferenceFrame * 10 + Number(config.adjustToInterfaceOrientation);\n      }\n    }, {\n      key: \"initializeSensor\",\n      value: function initializeSensor(sensorType, config) {\n        var sensorId = this.getSensorId(sensorType, config);\n        if (!this.nativeSensors.has(sensorId)) {\n          var newSensor = new Sensor.default(sensorType, config);\n          this.nativeSensors.set(sensorId, newSensor);\n        }\n        var sensor = this.nativeSensors.get(sensorId);\n        return sensor.getSharedValue();\n      }\n    }, {\n      key: \"registerSensor\",\n      value: function registerSensor(sensorType, config, handler) {\n        var sensorId = this.getSensorId(sensorType, config);\n        if (!this.nativeSensors.has(sensorId)) {\n          return -1;\n        }\n        var sensor = this.nativeSensors.get(sensorId);\n        if (sensor && sensor.isAvailable() && (sensor.isRunning() || sensor.register(handler))) {\n          sensor.listenersNumber++;\n          return sensorId;\n        }\n        return -1;\n      }\n    }, {\n      key: \"unregisterSensor\",\n      value: function unregisterSensor(sensorId) {\n        if (this.nativeSensors.has(sensorId)) {\n          var sensor = this.nativeSensors.get(sensorId);\n          if (sensor && sensor.isRunning()) {\n            sensor.listenersNumber--;\n            if (sensor.listenersNumber === 0) {\n              sensor.unregister();\n            }\n          }\n        }\n      }\n    }]);\n  }();\n});","lineCount":74,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopDefault"],[7,27,1,13,"e"],[7,28,1,13],[8,4,1,13],[8,11,1,13,"e"],[8,12,1,13],[8,16,1,13,"e"],[8,17,1,13],[8,18,1,13,"__esModule"],[8,28,1,13],[8,31,1,13,"e"],[8,32,1,13],[9,6,1,13,"default"],[9,13,1,13],[9,15,1,13,"e"],[10,4,1,13],[11,2,1,13],[12,2,12,0,"Object"],[12,8,12,0],[12,9,12,0,"defineProperty"],[12,23,12,0],[12,24,12,0,"exports"],[12,31,12,0],[13,4,12,0,"enumerable"],[13,14,12,0],[14,4,12,0,"get"],[14,7,12,0],[14,18,12,0,"get"],[14,19,12,0],[15,6,12,0],[15,13,12,0,"SensorContainer"],[15,28,12,0],[16,4,12,0],[17,2,12,0],[18,2,72,1],[18,6,72,1,"_babelRuntimeHelpersClassCallCheck"],[18,40,72,1],[18,43,72,1,"require"],[18,50,72,1],[18,51,72,1,"_dependencyMap"],[18,65,72,1],[19,2,72,1],[19,6,72,1,"_classCallCheck"],[19,21,72,1],[19,24,72,1,"_interopDefault"],[19,39,72,1],[19,40,72,1,"_babelRuntimeHelpersClassCallCheck"],[19,74,72,1],[20,2,72,1],[20,6,72,1,"_babelRuntimeHelpersCreateClass"],[20,37,72,1],[20,40,72,1,"require"],[20,47,72,1],[20,48,72,1,"_dependencyMap"],[20,62,72,1],[21,2,72,1],[21,6,72,1,"_createClass"],[21,18,72,1],[21,21,72,1,"_interopDefault"],[21,36,72,1],[21,37,72,1,"_babelRuntimeHelpersCreateClass"],[21,68,72,1],[22,2,10,0],[22,6,10,0,"_Sensor"],[22,13,10,0],[22,16,10,0,"require"],[22,23,10,0],[22,24,10,0,"_dependencyMap"],[22,38,10,0],[23,2,10,0],[23,6,10,0,"Sensor"],[23,12,10,0],[23,15,10,0,"_interopDefault"],[23,30,10,0],[23,31,10,0,"_Sensor"],[23,38,10,0],[24,2,10,30],[24,6,12,13,"SensorContainer"],[24,21,12,28],[25,4,12,28],[25,13,12,28,"SensorContainer"],[25,29,12,28],[26,6,12,28],[26,10,12,28,"_classCallCheck"],[26,25,12,28],[26,26,12,28,"default"],[26,33,12,28],[26,41,12,28,"SensorContainer"],[26,56,12,28],[27,6,12,28],[27,11,13,10,"nativeSensors"],[27,24,13,23],[27,27,13,47],[27,31,13,51,"Map"],[27,34,13,54],[27,35,13,55],[27,36,13,56],[28,4,13,56],[29,4,13,56],[29,15,13,56,"_createClass"],[29,27,13,56],[29,28,13,56,"default"],[29,35,13,56],[29,37,13,56,"SensorContainer"],[29,52,13,56],[30,6,13,56,"key"],[30,9,13,56],[31,6,13,56,"value"],[31,11,13,56],[31,13,15,2],[31,22,15,2,"getSensorId"],[31,33,15,13,"getSensorId"],[31,34,15,14,"sensorType"],[31,44,15,36],[31,46,15,38,"config"],[31,52,15,58],[31,54,15,60],[32,8,16,4],[32,15,17,6,"sensorType"],[32,25,17,16],[32,28,17,19],[32,31,17,22],[32,34,18,6,"config"],[32,40,18,12],[32,41,18,13,"iosReferenceFrame"],[32,58,18,30],[32,61,18,33],[32,63,18,35],[32,66,19,6,"Number"],[32,72,19,12],[32,73,19,13,"config"],[32,79,19,19],[32,80,19,20,"adjustToInterfaceOrientation"],[32,108,19,48],[32,109,19,49],[33,6,21,2],[34,4,21,3],[35,6,21,3,"key"],[35,9,21,3],[36,6,21,3,"value"],[36,11,21,3],[36,13,23,2],[36,22,23,2,"initializeSensor"],[36,38,23,18,"initializeSensor"],[36,39,24,4,"sensorType"],[36,49,24,26],[36,51,25,4,"config"],[36,57,25,24],[36,59,26,42],[37,8,27,4],[37,12,27,10,"sensorId"],[37,20,27,18],[37,23,27,21],[37,27,27,25],[37,28,27,26,"getSensorId"],[37,39,27,37],[37,40,27,38,"sensorType"],[37,50,27,48],[37,52,27,50,"config"],[37,58,27,56],[37,59,27,57],[38,8,29,4],[38,12,29,8],[38,13,29,9],[38,17,29,13],[38,18,29,14,"nativeSensors"],[38,31,29,27],[38,32,29,28,"has"],[38,35,29,31],[38,36,29,32,"sensorId"],[38,44,29,40],[38,45,29,41],[38,47,29,43],[39,10,30,6],[39,14,30,12,"newSensor"],[39,23,30,21],[39,26,30,24],[39,30,30,28,"Sensor"],[39,36,30,34],[39,37,30,34,"default"],[39,44,30,34],[39,45,30,35,"sensorType"],[39,55,30,45],[39,57,30,47,"config"],[39,63,30,53],[39,64,30,54],[40,10,31,6],[40,14,31,10],[40,15,31,11,"nativeSensors"],[40,28,31,24],[40,29,31,25,"set"],[40,32,31,28],[40,33,31,29,"sensorId"],[40,41,31,37],[40,43,31,39,"newSensor"],[40,52,31,48],[40,53,31,49],[41,8,32,4],[42,8,34,4],[42,12,34,10,"sensor"],[42,18,34,16],[42,21,34,19],[42,25,34,23],[42,26,34,24,"nativeSensors"],[42,39,34,37],[42,40,34,38,"get"],[42,43,34,41],[42,44,34,42,"sensorId"],[42,52,34,50],[42,53,34,51],[43,8,35,4],[43,15,35,11,"sensor"],[43,21,35,17],[43,22,35,19,"getSharedValue"],[43,36,35,33],[43,37,35,34],[43,38,35,35],[44,6,36,2],[45,4,36,3],[46,6,36,3,"key"],[46,9,36,3],[47,6,36,3,"value"],[47,11,36,3],[47,13,38,2],[47,22,38,2,"registerSensor"],[47,36,38,16,"registerSensor"],[47,37,39,4,"sensorType"],[47,47,39,26],[47,49,40,4,"config"],[47,55,40,24],[47,57,41,4,"handler"],[47,64,41,66],[47,66,42,12],[48,8,43,4],[48,12,43,10,"sensorId"],[48,20,43,18],[48,23,43,21],[48,27,43,25],[48,28,43,26,"getSensorId"],[48,39,43,37],[48,40,43,38,"sensorType"],[48,50,43,48],[48,52,43,50,"config"],[48,58,43,56],[48,59,43,57],[49,8,45,4],[49,12,45,8],[49,13,45,9],[49,17,45,13],[49,18,45,14,"nativeSensors"],[49,31,45,27],[49,32,45,28,"has"],[49,35,45,31],[49,36,45,32,"sensorId"],[49,44,45,40],[49,45,45,41],[49,47,45,43],[50,10,46,6],[50,17,46,13],[50,18,46,14],[50,19,46,15],[51,8,47,4],[52,8,49,4],[52,12,49,10,"sensor"],[52,18,49,16],[52,21,49,19],[52,25,49,23],[52,26,49,24,"nativeSensors"],[52,39,49,37],[52,40,49,38,"get"],[52,43,49,41],[52,44,49,42,"sensorId"],[52,52,49,50],[52,53,49,51],[53,8,50,4],[53,12,51,6,"sensor"],[53,18,51,12],[53,22,52,6,"sensor"],[53,28,52,12],[53,29,52,13,"isAvailable"],[53,40,52,24],[53,41,52,25],[53,42,52,26],[53,47,53,7,"sensor"],[53,53,53,13],[53,54,53,14,"isRunning"],[53,63,53,23],[53,64,53,24],[53,65,53,25],[53,69,53,29,"sensor"],[53,75,53,35],[53,76,53,36,"register"],[53,84,53,44],[53,85,53,45,"handler"],[53,92,53,52],[53,93,53,53],[53,94,53,54],[53,96,54,6],[54,10,55,6,"sensor"],[54,16,55,12],[54,17,55,13,"listenersNumber"],[54,32,55,28],[54,34,55,30],[55,10,56,6],[55,17,56,13,"sensorId"],[55,25,56,21],[56,8,57,4],[57,8,58,4],[57,15,58,11],[57,16,58,12],[57,17,58,13],[58,6,59,2],[59,4,59,3],[60,6,59,3,"key"],[60,9,59,3],[61,6,59,3,"value"],[61,11,59,3],[61,13,61,2],[61,22,61,2,"unregisterSensor"],[61,38,61,18,"unregisterSensor"],[61,39,61,19,"sensorId"],[61,47,61,35],[61,49,61,37],[62,8,62,4],[62,12,62,8],[62,16,62,12],[62,17,62,13,"nativeSensors"],[62,30,62,26],[62,31,62,27,"has"],[62,34,62,30],[62,35,62,31,"sensorId"],[62,43,62,39],[62,44,62,40],[62,46,62,42],[63,10,63,6],[63,14,63,12,"sensor"],[63,20,63,18],[63,23,63,21],[63,27,63,25],[63,28,63,26,"nativeSensors"],[63,41,63,39],[63,42,63,40,"get"],[63,45,63,43],[63,46,63,44,"sensorId"],[63,54,63,52],[63,55,63,53],[64,10,64,6],[64,14,64,10,"sensor"],[64,20,64,16],[64,24,64,20,"sensor"],[64,30,64,26],[64,31,64,27,"isRunning"],[64,40,64,36],[64,41,64,37],[64,42,64,38],[64,44,64,40],[65,12,65,8,"sensor"],[65,18,65,14],[65,19,65,15,"listenersNumber"],[65,34,65,30],[65,36,65,32],[66,12,66,8],[66,16,66,12,"sensor"],[66,22,66,18],[66,23,66,19,"listenersNumber"],[66,38,66,34],[66,43,66,39],[66,44,66,40],[66,46,66,42],[67,14,67,10,"sensor"],[67,20,67,16],[67,21,67,17,"unregister"],[67,31,67,27],[67,32,67,28],[67,33,67,29],[68,12,68,8],[69,10,69,6],[70,8,70,4],[71,6,71,2],[72,4,71,3],[73,2,71,3],[74,0,71,3],[74,3]],"functionMap":{"names":["<global>","SensorContainer","getSensorId","initializeSensor","registerSensor","unregisterSensor"],"mappings":"AAA;OCW;ECG;GDM;EEE;GFa;EGE;GHqB;EIE;GJU;CDC"},"hasCjsExports":false},"type":"js/module"}]}