{"dependencies":[{"name":"./EventManager","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":42,"index":57}}],"key":"+tTRfUGWY5rcrw6ZVLEgvlFTMQc=","exportNames":["*"],"imports":1}},{"name":"../../handlers/gestureHandlerCommon","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":58},"end":{"line":4,"column":66,"index":124}}],"key":"xaaqCODkGxAwJpzGKT+4pXLUAXk=","exportNames":["*"],"imports":1}},{"name":"../interfaces","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":125},"end":{"line":5,"column":43,"index":168}}],"key":"GMKh3a5g5xNaAog15vl07v6pG2U=","exportNames":["*"],"imports":1}},{"name":"../utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":169},"end":{"line":6,"column":107,"index":276}}],"key":"mL7nJyZhzUYx+zMcIt1cBzVuRps=","exportNames":["*"],"imports":1}},{"name":"../../PointerType","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":277},"end":{"line":7,"column":48,"index":325}}],"key":"PNpP2j+zRZwLQ3w6ZmXPMJNakiU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return PointerEventManager;\n    }\n  });\n  var _EventManager = require(_dependencyMap[0], \"./EventManager\");\n  var EventManager = _interopDefault(_EventManager);\n  var _handlersGestureHandlerCommon = require(_dependencyMap[1], \"../../handlers/gestureHandlerCommon\");\n  var _interfaces = require(_dependencyMap[2], \"../interfaces\");\n  var _utils = require(_dependencyMap[3], \"../utils\");\n  var _PointerType = require(_dependencyMap[4], \"../../PointerType\");\n  const POINTER_CAPTURE_EXCLUDE_LIST = new Set(['SELECT', 'INPUT']);\n  class PointerEventManager extends EventManager.default {\n    trackedPointers = new Set();\n    mouseButtonsMapper = new Map();\n    constructor(view) {\n      super(view);\n      this.mouseButtonsMapper.set(0, _handlersGestureHandlerCommon.MouseButton.LEFT);\n      this.mouseButtonsMapper.set(1, _handlersGestureHandlerCommon.MouseButton.MIDDLE);\n      this.mouseButtonsMapper.set(2, _handlersGestureHandlerCommon.MouseButton.RIGHT);\n      this.mouseButtonsMapper.set(3, _handlersGestureHandlerCommon.MouseButton.BUTTON_4);\n      this.mouseButtonsMapper.set(4, _handlersGestureHandlerCommon.MouseButton.BUTTON_5);\n      this.lastPosition = {\n        x: -Infinity,\n        y: -Infinity\n      };\n    }\n    pointerDownCallback = event => {\n      if (!(0, _utils.isPointerInBounds)(this.view, {\n        x: event.clientX,\n        y: event.clientY\n      })) {\n        return;\n      }\n      const adaptedEvent = this.mapEvent(event, _interfaces.EventTypes.DOWN);\n      const target = event.target;\n      if (!POINTER_CAPTURE_EXCLUDE_LIST.has(target.tagName)) {\n        target.setPointerCapture(adaptedEvent.pointerId);\n      }\n      this.markAsInBounds(adaptedEvent.pointerId);\n      this.trackedPointers.add(adaptedEvent.pointerId);\n      if (++this.activePointersCounter > 1) {\n        adaptedEvent.eventType = _interfaces.EventTypes.ADDITIONAL_POINTER_DOWN;\n        this.onPointerAdd(adaptedEvent);\n      } else {\n        this.onPointerDown(adaptedEvent);\n      }\n    };\n    pointerUpCallback = event => {\n      // When we call reset on gesture handlers, it also resets their event managers\n      // In some handlers (like RotationGestureHandler) reset is called before all pointers leave view\n      // This means, that activePointersCounter will be set to 0, while there are still remaining pointers on view\n      // Removing them will end in activePointersCounter going below 0, therefore handlers won't behave properly\n      if (this.activePointersCounter === 0) {\n        return;\n      }\n      const adaptedEvent = this.mapEvent(event, _interfaces.EventTypes.UP);\n      const target = event.target;\n      if (!POINTER_CAPTURE_EXCLUDE_LIST.has(target.tagName)) {\n        target.releasePointerCapture(adaptedEvent.pointerId);\n      }\n      this.markAsOutOfBounds(adaptedEvent.pointerId);\n      this.trackedPointers.delete(adaptedEvent.pointerId);\n      if (--this.activePointersCounter > 0) {\n        adaptedEvent.eventType = _interfaces.EventTypes.ADDITIONAL_POINTER_UP;\n        this.onPointerRemove(adaptedEvent);\n      } else {\n        this.onPointerUp(adaptedEvent);\n      }\n    };\n    pointerMoveCallback = event => {\n      const adaptedEvent = this.mapEvent(event, _interfaces.EventTypes.MOVE);\n      const target = event.target;\n\n      // You may be wondering why are we setting pointer capture here, when we\n      // already set it in `pointerdown` handler. Well, that's a great question,\n      // for which I don't have an answer. Specification (https://www.w3.org/TR/pointerevents2/#dom-element-setpointercapture)\n      // says that the requirement for `setPointerCapture` to work is that pointer\n      // must be in 'active buttons state`, otherwise it will fail silently, which\n      // is lovely. Obviously, when `pointerdown` is fired, one of the buttons\n      // (when using mouse) is pressed, but that doesn't mean that `setPointerCapture`\n      // will succeed, for some reason. Since it fails silently, we don't actually know\n      // if it worked or not (there's `gotpointercapture` event, but the complexity of\n      // incorporating it here seems stupid), so we just call it again here, every time\n      // pointer moves until it succeeds.\n      // God, I do love web development.\n      if (!target?.hasPointerCapture(event.pointerId) && !POINTER_CAPTURE_EXCLUDE_LIST.has(target.tagName)) {\n        target.setPointerCapture(event.pointerId);\n      }\n      const inBounds = (0, _utils.isPointerInBounds)(this.view, {\n        x: adaptedEvent.x,\n        y: adaptedEvent.y\n      });\n      const pointerIndex = this.pointersInBounds.indexOf(adaptedEvent.pointerId);\n      if (inBounds) {\n        if (pointerIndex < 0) {\n          adaptedEvent.eventType = _interfaces.EventTypes.ENTER;\n          this.onPointerEnter(adaptedEvent);\n          this.markAsInBounds(adaptedEvent.pointerId);\n        } else {\n          this.onPointerMove(adaptedEvent);\n        }\n      } else {\n        if (pointerIndex >= 0) {\n          adaptedEvent.eventType = _interfaces.EventTypes.LEAVE;\n          this.onPointerLeave(adaptedEvent);\n          this.markAsOutOfBounds(adaptedEvent.pointerId);\n        } else {\n          this.onPointerOutOfBounds(adaptedEvent);\n        }\n      }\n      this.lastPosition.x = event.x;\n      this.lastPosition.y = event.y;\n    };\n    pointerCancelCallback = event => {\n      const adaptedEvent = this.mapEvent(event, _interfaces.EventTypes.CANCEL);\n      this.onPointerCancel(adaptedEvent);\n      this.markAsOutOfBounds(adaptedEvent.pointerId);\n      this.activePointersCounter = 0;\n      this.trackedPointers.clear();\n    };\n    pointerEnterCallback = event => {\n      const adaptedEvent = this.mapEvent(event, _interfaces.EventTypes.ENTER);\n      this.onPointerMoveOver(adaptedEvent);\n    };\n    pointerLeaveCallback = event => {\n      const adaptedEvent = this.mapEvent(event, _interfaces.EventTypes.LEAVE);\n      this.onPointerMoveOut(adaptedEvent);\n    };\n    lostPointerCaptureCallback = event => {\n      const adaptedEvent = this.mapEvent(event, _interfaces.EventTypes.CANCEL);\n      if (this.trackedPointers.has(adaptedEvent.pointerId)) {\n        // In some cases the `pointerup` event is not fired, but `lostpointercapture` is.\n        // Here we simulate the `pointercancel` event to make sure the gesture handler stops tracking it.\n        this.onPointerCancel(adaptedEvent);\n        this.activePointersCounter = 0;\n        this.trackedPointers.clear();\n      }\n    };\n    registerListeners() {\n      this.view.addEventListener('pointerdown', this.pointerDownCallback);\n      this.view.addEventListener('pointerup', this.pointerUpCallback);\n      this.view.addEventListener('pointermove', this.pointerMoveCallback);\n      this.view.addEventListener('pointercancel', this.pointerCancelCallback);\n\n      // onPointerEnter and onPointerLeave are triggered by a custom logic responsible for\n      // handling shouldCancelWhenOutside flag, and are unreliable unless the pointer is down.\n      // We therefore use pointerenter and pointerleave events to handle the hover gesture,\n      // mapping them to onPointerMoveOver and onPointerMoveOut respectively.\n      this.view.addEventListener('pointerenter', this.pointerEnterCallback);\n      this.view.addEventListener('pointerleave', this.pointerLeaveCallback);\n      this.view.addEventListener('lostpointercapture', this.lostPointerCaptureCallback);\n    }\n    unregisterListeners() {\n      this.view.removeEventListener('pointerdown', this.pointerDownCallback);\n      this.view.removeEventListener('pointerup', this.pointerUpCallback);\n      this.view.removeEventListener('pointermove', this.pointerMoveCallback);\n      this.view.removeEventListener('pointercancel', this.pointerCancelCallback);\n      this.view.removeEventListener('pointerenter', this.pointerEnterCallback);\n      this.view.removeEventListener('pointerleave', this.pointerLeaveCallback);\n      this.view.removeEventListener('lostpointercapture', this.lostPointerCaptureCallback);\n    }\n    mapEvent(event, eventType) {\n      const rect = this.view.getBoundingClientRect();\n      const {\n        scaleX,\n        scaleY\n      } = (0, _utils.calculateViewScale)(this.view);\n      return {\n        x: event.clientX,\n        y: event.clientY,\n        offsetX: (event.clientX - rect.left) / scaleX,\n        offsetY: (event.clientY - rect.top) / scaleY,\n        pointerId: event.pointerId,\n        eventType: eventType,\n        pointerType: _utils.PointerTypeMapping.get(event.pointerType) ?? _PointerType.PointerType.OTHER,\n        button: this.mouseButtonsMapper.get(event.button),\n        time: event.timeStamp,\n        stylusData: (0, _utils.tryExtractStylusData)(event)\n      };\n    }\n    resetManager() {\n      super.resetManager();\n      this.trackedPointers.clear();\n    }\n  }\n});","lineCount":199,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopDefault"],[7,27,1,13,"e"],[7,28,1,13],[8,4,1,13],[8,11,1,13,"e"],[8,12,1,13],[8,16,1,13,"e"],[8,17,1,13],[8,18,1,13,"__esModule"],[8,28,1,13],[8,31,1,13,"e"],[8,32,1,13],[9,6,1,13,"default"],[9,13,1,13],[9,15,1,13,"e"],[10,4,1,13],[11,2,1,13],[12,2,9,15,"Object"],[12,8,9,15],[12,9,9,15,"defineProperty"],[12,23,9,15],[12,24,9,15,"exports"],[12,31,9,15],[13,4,9,15,"enumerable"],[13,14,9,15],[14,4,9,15,"get"],[14,7,9,15],[14,18,9,15,"get"],[14,19,9,15],[15,6,9,15],[15,13,9,15,"PointerEventManager"],[15,32,9,15],[16,4,9,15],[17,2,9,15],[18,2,3,0],[18,6,3,0,"_EventManager"],[18,19,3,0],[18,22,3,0,"require"],[18,29,3,0],[18,30,3,0,"_dependencyMap"],[18,44,3,0],[19,2,3,0],[19,6,3,0,"EventManager"],[19,18,3,0],[19,21,3,0,"_interopDefault"],[19,36,3,0],[19,37,3,0,"_EventManager"],[19,50,3,0],[20,2,4,0],[20,6,4,0,"_handlersGestureHandlerCommon"],[20,35,4,0],[20,38,4,0,"require"],[20,45,4,0],[20,46,4,0,"_dependencyMap"],[20,60,4,0],[21,2,5,0],[21,6,5,0,"_interfaces"],[21,17,5,0],[21,20,5,0,"require"],[21,27,5,0],[21,28,5,0,"_dependencyMap"],[21,42,5,0],[22,2,6,0],[22,6,6,0,"_utils"],[22,12,6,0],[22,15,6,0,"require"],[22,22,6,0],[22,23,6,0,"_dependencyMap"],[22,37,6,0],[23,2,7,0],[23,6,7,0,"_PointerType"],[23,18,7,0],[23,21,7,0,"require"],[23,28,7,0],[23,29,7,0,"_dependencyMap"],[23,43,7,0],[24,2,8,0],[24,8,8,6,"POINTER_CAPTURE_EXCLUDE_LIST"],[24,36,8,34],[24,39,8,37],[24,43,8,41,"Set"],[24,46,8,44],[24,47,8,45],[24,48,8,46],[24,56,8,54],[24,58,8,56],[24,65,8,63],[24,66,8,64],[24,67,8,65],[25,2,9,15],[25,8,9,21,"PointerEventManager"],[25,27,9,40],[25,36,9,49,"EventManager"],[25,48,9,61],[25,49,9,61,"default"],[25,56,9,61],[25,57,9,62],[26,4,10,2,"trackedPointers"],[26,19,10,17],[26,22,10,20],[26,26,10,24,"Set"],[26,29,10,27],[26,30,10,28],[26,31,10,29],[27,4,11,2,"mouseButtonsMapper"],[27,22,11,20],[27,25,11,23],[27,29,11,27,"Map"],[27,32,11,30],[27,33,11,31],[27,34,11,32],[28,4,12,2,"constructor"],[28,15,12,13,"constructor"],[28,16,12,14,"view"],[28,20,12,18],[28,22,12,20],[29,6,13,4],[29,11,13,9],[29,12,13,10,"view"],[29,16,13,14],[29,17,13,15],[30,6,14,4],[30,10,14,8],[30,11,14,9,"mouseButtonsMapper"],[30,29,14,27],[30,30,14,28,"set"],[30,33,14,31],[30,34,14,32],[30,35,14,33],[30,37,14,35,"MouseButton"],[30,66,14,46],[30,67,14,46,"MouseButton"],[30,78,14,46],[30,79,14,47,"LEFT"],[30,83,14,51],[30,84,14,52],[31,6,15,4],[31,10,15,8],[31,11,15,9,"mouseButtonsMapper"],[31,29,15,27],[31,30,15,28,"set"],[31,33,15,31],[31,34,15,32],[31,35,15,33],[31,37,15,35,"MouseButton"],[31,66,15,46],[31,67,15,46,"MouseButton"],[31,78,15,46],[31,79,15,47,"MIDDLE"],[31,85,15,53],[31,86,15,54],[32,6,16,4],[32,10,16,8],[32,11,16,9,"mouseButtonsMapper"],[32,29,16,27],[32,30,16,28,"set"],[32,33,16,31],[32,34,16,32],[32,35,16,33],[32,37,16,35,"MouseButton"],[32,66,16,46],[32,67,16,46,"MouseButton"],[32,78,16,46],[32,79,16,47,"RIGHT"],[32,84,16,52],[32,85,16,53],[33,6,17,4],[33,10,17,8],[33,11,17,9,"mouseButtonsMapper"],[33,29,17,27],[33,30,17,28,"set"],[33,33,17,31],[33,34,17,32],[33,35,17,33],[33,37,17,35,"MouseButton"],[33,66,17,46],[33,67,17,46,"MouseButton"],[33,78,17,46],[33,79,17,47,"BUTTON_4"],[33,87,17,55],[33,88,17,56],[34,6,18,4],[34,10,18,8],[34,11,18,9,"mouseButtonsMapper"],[34,29,18,27],[34,30,18,28,"set"],[34,33,18,31],[34,34,18,32],[34,35,18,33],[34,37,18,35,"MouseButton"],[34,66,18,46],[34,67,18,46,"MouseButton"],[34,78,18,46],[34,79,18,47,"BUTTON_5"],[34,87,18,55],[34,88,18,56],[35,6,19,4],[35,10,19,8],[35,11,19,9,"lastPosition"],[35,23,19,21],[35,26,19,24],[36,8,20,6,"x"],[36,9,20,7],[36,11,20,9],[36,12,20,10,"Infinity"],[36,20,20,18],[37,8,21,6,"y"],[37,9,21,7],[37,11,21,9],[37,12,21,10,"Infinity"],[38,6,22,4],[38,7,22,5],[39,4,23,2],[40,4,24,2,"pointerDownCallback"],[40,23,24,21],[40,26,24,24,"event"],[40,31,24,29],[40,35,24,33],[41,6,25,4],[41,10,25,8],[41,11,25,9],[41,15,25,9,"isPointerInBounds"],[41,21,25,26],[41,22,25,26,"isPointerInBounds"],[41,39,25,26],[41,41,25,27],[41,45,25,31],[41,46,25,32,"view"],[41,50,25,36],[41,52,25,38],[42,8,26,6,"x"],[42,9,26,7],[42,11,26,9,"event"],[42,16,26,14],[42,17,26,15,"clientX"],[42,24,26,22],[43,8,27,6,"y"],[43,9,27,7],[43,11,27,9,"event"],[43,16,27,14],[43,17,27,15,"clientY"],[44,6,28,4],[44,7,28,5],[44,8,28,6],[44,10,28,8],[45,8,29,6],[46,6,30,4],[47,6,31,4],[47,12,31,10,"adaptedEvent"],[47,24,31,22],[47,27,31,25],[47,31,31,29],[47,32,31,30,"mapEvent"],[47,40,31,38],[47,41,31,39,"event"],[47,46,31,44],[47,48,31,46,"EventTypes"],[47,59,31,56],[47,60,31,56,"EventTypes"],[47,70,31,56],[47,71,31,57,"DOWN"],[47,75,31,61],[47,76,31,62],[48,6,32,4],[48,12,32,10,"target"],[48,18,32,16],[48,21,32,19,"event"],[48,26,32,24],[48,27,32,25,"target"],[48,33,32,31],[49,6,33,4],[49,10,33,8],[49,11,33,9,"POINTER_CAPTURE_EXCLUDE_LIST"],[49,39,33,37],[49,40,33,38,"has"],[49,43,33,41],[49,44,33,42,"target"],[49,50,33,48],[49,51,33,49,"tagName"],[49,58,33,56],[49,59,33,57],[49,61,33,59],[50,8,34,6,"target"],[50,14,34,12],[50,15,34,13,"setPointerCapture"],[50,32,34,30],[50,33,34,31,"adaptedEvent"],[50,45,34,43],[50,46,34,44,"pointerId"],[50,55,34,53],[50,56,34,54],[51,6,35,4],[52,6,36,4],[52,10,36,8],[52,11,36,9,"markAsInBounds"],[52,25,36,23],[52,26,36,24,"adaptedEvent"],[52,38,36,36],[52,39,36,37,"pointerId"],[52,48,36,46],[52,49,36,47],[53,6,37,4],[53,10,37,8],[53,11,37,9,"trackedPointers"],[53,26,37,24],[53,27,37,25,"add"],[53,30,37,28],[53,31,37,29,"adaptedEvent"],[53,43,37,41],[53,44,37,42,"pointerId"],[53,53,37,51],[53,54,37,52],[54,6,38,4],[54,10,38,8],[54,12,38,10],[54,16,38,14],[54,17,38,15,"activePointersCounter"],[54,38,38,36],[54,41,38,39],[54,42,38,40],[54,44,38,42],[55,8,39,6,"adaptedEvent"],[55,20,39,18],[55,21,39,19,"eventType"],[55,30,39,28],[55,33,39,31,"EventTypes"],[55,44,39,41],[55,45,39,41,"EventTypes"],[55,55,39,41],[55,56,39,42,"ADDITIONAL_POINTER_DOWN"],[55,79,39,65],[56,8,40,6],[56,12,40,10],[56,13,40,11,"onPointerAdd"],[56,25,40,23],[56,26,40,24,"adaptedEvent"],[56,38,40,36],[56,39,40,37],[57,6,41,4],[57,7,41,5],[57,13,41,11],[58,8,42,6],[58,12,42,10],[58,13,42,11,"onPointerDown"],[58,26,42,24],[58,27,42,25,"adaptedEvent"],[58,39,42,37],[58,40,42,38],[59,6,43,4],[60,4,44,2],[60,5,44,3],[61,4,45,2,"pointerUpCallback"],[61,21,45,19],[61,24,45,22,"event"],[61,29,45,27],[61,33,45,31],[62,6,46,4],[63,6,47,4],[64,6,48,4],[65,6,49,4],[66,6,50,4],[66,10,50,8],[66,14,50,12],[66,15,50,13,"activePointersCounter"],[66,36,50,34],[66,41,50,39],[66,42,50,40],[66,44,50,42],[67,8,51,6],[68,6,52,4],[69,6,53,4],[69,12,53,10,"adaptedEvent"],[69,24,53,22],[69,27,53,25],[69,31,53,29],[69,32,53,30,"mapEvent"],[69,40,53,38],[69,41,53,39,"event"],[69,46,53,44],[69,48,53,46,"EventTypes"],[69,59,53,56],[69,60,53,56,"EventTypes"],[69,70,53,56],[69,71,53,57,"UP"],[69,73,53,59],[69,74,53,60],[70,6,54,4],[70,12,54,10,"target"],[70,18,54,16],[70,21,54,19,"event"],[70,26,54,24],[70,27,54,25,"target"],[70,33,54,31],[71,6,55,4],[71,10,55,8],[71,11,55,9,"POINTER_CAPTURE_EXCLUDE_LIST"],[71,39,55,37],[71,40,55,38,"has"],[71,43,55,41],[71,44,55,42,"target"],[71,50,55,48],[71,51,55,49,"tagName"],[71,58,55,56],[71,59,55,57],[71,61,55,59],[72,8,56,6,"target"],[72,14,56,12],[72,15,56,13,"releasePointerCapture"],[72,36,56,34],[72,37,56,35,"adaptedEvent"],[72,49,56,47],[72,50,56,48,"pointerId"],[72,59,56,57],[72,60,56,58],[73,6,57,4],[74,6,58,4],[74,10,58,8],[74,11,58,9,"markAsOutOfBounds"],[74,28,58,26],[74,29,58,27,"adaptedEvent"],[74,41,58,39],[74,42,58,40,"pointerId"],[74,51,58,49],[74,52,58,50],[75,6,59,4],[75,10,59,8],[75,11,59,9,"trackedPointers"],[75,26,59,24],[75,27,59,25,"delete"],[75,33,59,31],[75,34,59,32,"adaptedEvent"],[75,46,59,44],[75,47,59,45,"pointerId"],[75,56,59,54],[75,57,59,55],[76,6,60,4],[76,10,60,8],[76,12,60,10],[76,16,60,14],[76,17,60,15,"activePointersCounter"],[76,38,60,36],[76,41,60,39],[76,42,60,40],[76,44,60,42],[77,8,61,6,"adaptedEvent"],[77,20,61,18],[77,21,61,19,"eventType"],[77,30,61,28],[77,33,61,31,"EventTypes"],[77,44,61,41],[77,45,61,41,"EventTypes"],[77,55,61,41],[77,56,61,42,"ADDITIONAL_POINTER_UP"],[77,77,61,63],[78,8,62,6],[78,12,62,10],[78,13,62,11,"onPointerRemove"],[78,28,62,26],[78,29,62,27,"adaptedEvent"],[78,41,62,39],[78,42,62,40],[79,6,63,4],[79,7,63,5],[79,13,63,11],[80,8,64,6],[80,12,64,10],[80,13,64,11,"onPointerUp"],[80,24,64,22],[80,25,64,23,"adaptedEvent"],[80,37,64,35],[80,38,64,36],[81,6,65,4],[82,4,66,2],[82,5,66,3],[83,4,67,2,"pointerMoveCallback"],[83,23,67,21],[83,26,67,24,"event"],[83,31,67,29],[83,35,67,33],[84,6,68,4],[84,12,68,10,"adaptedEvent"],[84,24,68,22],[84,27,68,25],[84,31,68,29],[84,32,68,30,"mapEvent"],[84,40,68,38],[84,41,68,39,"event"],[84,46,68,44],[84,48,68,46,"EventTypes"],[84,59,68,56],[84,60,68,56,"EventTypes"],[84,70,68,56],[84,71,68,57,"MOVE"],[84,75,68,61],[84,76,68,62],[85,6,69,4],[85,12,69,10,"target"],[85,18,69,16],[85,21,69,19,"event"],[85,26,69,24],[85,27,69,25,"target"],[85,33,69,31],[87,6,71,4],[88,6,72,4],[89,6,73,4],[90,6,74,4],[91,6,75,4],[92,6,76,4],[93,6,77,4],[94,6,78,4],[95,6,79,4],[96,6,80,4],[97,6,81,4],[98,6,82,4],[99,6,83,4],[99,10,83,8],[99,11,83,9,"target"],[99,17,83,15],[99,19,83,17,"hasPointerCapture"],[99,36,83,34],[99,37,83,35,"event"],[99,42,83,40],[99,43,83,41,"pointerId"],[99,52,83,50],[99,53,83,51],[99,57,83,55],[99,58,83,56,"POINTER_CAPTURE_EXCLUDE_LIST"],[99,86,83,84],[99,87,83,85,"has"],[99,90,83,88],[99,91,83,89,"target"],[99,97,83,95],[99,98,83,96,"tagName"],[99,105,83,103],[99,106,83,104],[99,108,83,106],[100,8,84,6,"target"],[100,14,84,12],[100,15,84,13,"setPointerCapture"],[100,32,84,30],[100,33,84,31,"event"],[100,38,84,36],[100,39,84,37,"pointerId"],[100,48,84,46],[100,49,84,47],[101,6,85,4],[102,6,86,4],[102,12,86,10,"inBounds"],[102,20,86,18],[102,23,86,21],[102,27,86,21,"isPointerInBounds"],[102,33,86,38],[102,34,86,38,"isPointerInBounds"],[102,51,86,38],[102,53,86,39],[102,57,86,43],[102,58,86,44,"view"],[102,62,86,48],[102,64,86,50],[103,8,87,6,"x"],[103,9,87,7],[103,11,87,9,"adaptedEvent"],[103,23,87,21],[103,24,87,22,"x"],[103,25,87,23],[104,8,88,6,"y"],[104,9,88,7],[104,11,88,9,"adaptedEvent"],[104,23,88,21],[104,24,88,22,"y"],[105,6,89,4],[105,7,89,5],[105,8,89,6],[106,6,90,4],[106,12,90,10,"pointerIndex"],[106,24,90,22],[106,27,90,25],[106,31,90,29],[106,32,90,30,"pointersInBounds"],[106,48,90,46],[106,49,90,47,"indexOf"],[106,56,90,54],[106,57,90,55,"adaptedEvent"],[106,69,90,67],[106,70,90,68,"pointerId"],[106,79,90,77],[106,80,90,78],[107,6,91,4],[107,10,91,8,"inBounds"],[107,18,91,16],[107,20,91,18],[108,8,92,6],[108,12,92,10,"pointerIndex"],[108,24,92,22],[108,27,92,25],[108,28,92,26],[108,30,92,28],[109,10,93,8,"adaptedEvent"],[109,22,93,20],[109,23,93,21,"eventType"],[109,32,93,30],[109,35,93,33,"EventTypes"],[109,46,93,43],[109,47,93,43,"EventTypes"],[109,57,93,43],[109,58,93,44,"ENTER"],[109,63,93,49],[110,10,94,8],[110,14,94,12],[110,15,94,13,"onPointerEnter"],[110,29,94,27],[110,30,94,28,"adaptedEvent"],[110,42,94,40],[110,43,94,41],[111,10,95,8],[111,14,95,12],[111,15,95,13,"markAsInBounds"],[111,29,95,27],[111,30,95,28,"adaptedEvent"],[111,42,95,40],[111,43,95,41,"pointerId"],[111,52,95,50],[111,53,95,51],[112,8,96,6],[112,9,96,7],[112,15,96,13],[113,10,97,8],[113,14,97,12],[113,15,97,13,"onPointerMove"],[113,28,97,26],[113,29,97,27,"adaptedEvent"],[113,41,97,39],[113,42,97,40],[114,8,98,6],[115,6,99,4],[115,7,99,5],[115,13,99,11],[116,8,100,6],[116,12,100,10,"pointerIndex"],[116,24,100,22],[116,28,100,26],[116,29,100,27],[116,31,100,29],[117,10,101,8,"adaptedEvent"],[117,22,101,20],[117,23,101,21,"eventType"],[117,32,101,30],[117,35,101,33,"EventTypes"],[117,46,101,43],[117,47,101,43,"EventTypes"],[117,57,101,43],[117,58,101,44,"LEAVE"],[117,63,101,49],[118,10,102,8],[118,14,102,12],[118,15,102,13,"onPointerLeave"],[118,29,102,27],[118,30,102,28,"adaptedEvent"],[118,42,102,40],[118,43,102,41],[119,10,103,8],[119,14,103,12],[119,15,103,13,"markAsOutOfBounds"],[119,32,103,30],[119,33,103,31,"adaptedEvent"],[119,45,103,43],[119,46,103,44,"pointerId"],[119,55,103,53],[119,56,103,54],[120,8,104,6],[120,9,104,7],[120,15,104,13],[121,10,105,8],[121,14,105,12],[121,15,105,13,"onPointerOutOfBounds"],[121,35,105,33],[121,36,105,34,"adaptedEvent"],[121,48,105,46],[121,49,105,47],[122,8,106,6],[123,6,107,4],[124,6,108,4],[124,10,108,8],[124,11,108,9,"lastPosition"],[124,23,108,21],[124,24,108,22,"x"],[124,25,108,23],[124,28,108,26,"event"],[124,33,108,31],[124,34,108,32,"x"],[124,35,108,33],[125,6,109,4],[125,10,109,8],[125,11,109,9,"lastPosition"],[125,23,109,21],[125,24,109,22,"y"],[125,25,109,23],[125,28,109,26,"event"],[125,33,109,31],[125,34,109,32,"y"],[125,35,109,33],[126,4,110,2],[126,5,110,3],[127,4,111,2,"pointerCancelCallback"],[127,25,111,23],[127,28,111,26,"event"],[127,33,111,31],[127,37,111,35],[128,6,112,4],[128,12,112,10,"adaptedEvent"],[128,24,112,22],[128,27,112,25],[128,31,112,29],[128,32,112,30,"mapEvent"],[128,40,112,38],[128,41,112,39,"event"],[128,46,112,44],[128,48,112,46,"EventTypes"],[128,59,112,56],[128,60,112,56,"EventTypes"],[128,70,112,56],[128,71,112,57,"CANCEL"],[128,77,112,63],[128,78,112,64],[129,6,113,4],[129,10,113,8],[129,11,113,9,"onPointerCancel"],[129,26,113,24],[129,27,113,25,"adaptedEvent"],[129,39,113,37],[129,40,113,38],[130,6,114,4],[130,10,114,8],[130,11,114,9,"markAsOutOfBounds"],[130,28,114,26],[130,29,114,27,"adaptedEvent"],[130,41,114,39],[130,42,114,40,"pointerId"],[130,51,114,49],[130,52,114,50],[131,6,115,4],[131,10,115,8],[131,11,115,9,"activePointersCounter"],[131,32,115,30],[131,35,115,33],[131,36,115,34],[132,6,116,4],[132,10,116,8],[132,11,116,9,"trackedPointers"],[132,26,116,24],[132,27,116,25,"clear"],[132,32,116,30],[132,33,116,31],[132,34,116,32],[133,4,117,2],[133,5,117,3],[134,4,118,2,"pointerEnterCallback"],[134,24,118,22],[134,27,118,25,"event"],[134,32,118,30],[134,36,118,34],[135,6,119,4],[135,12,119,10,"adaptedEvent"],[135,24,119,22],[135,27,119,25],[135,31,119,29],[135,32,119,30,"mapEvent"],[135,40,119,38],[135,41,119,39,"event"],[135,46,119,44],[135,48,119,46,"EventTypes"],[135,59,119,56],[135,60,119,56,"EventTypes"],[135,70,119,56],[135,71,119,57,"ENTER"],[135,76,119,62],[135,77,119,63],[136,6,120,4],[136,10,120,8],[136,11,120,9,"onPointerMoveOver"],[136,28,120,26],[136,29,120,27,"adaptedEvent"],[136,41,120,39],[136,42,120,40],[137,4,121,2],[137,5,121,3],[138,4,122,2,"pointerLeaveCallback"],[138,24,122,22],[138,27,122,25,"event"],[138,32,122,30],[138,36,122,34],[139,6,123,4],[139,12,123,10,"adaptedEvent"],[139,24,123,22],[139,27,123,25],[139,31,123,29],[139,32,123,30,"mapEvent"],[139,40,123,38],[139,41,123,39,"event"],[139,46,123,44],[139,48,123,46,"EventTypes"],[139,59,123,56],[139,60,123,56,"EventTypes"],[139,70,123,56],[139,71,123,57,"LEAVE"],[139,76,123,62],[139,77,123,63],[140,6,124,4],[140,10,124,8],[140,11,124,9,"onPointerMoveOut"],[140,27,124,25],[140,28,124,26,"adaptedEvent"],[140,40,124,38],[140,41,124,39],[141,4,125,2],[141,5,125,3],[142,4,126,2,"lostPointerCaptureCallback"],[142,30,126,28],[142,33,126,31,"event"],[142,38,126,36],[142,42,126,40],[143,6,127,4],[143,12,127,10,"adaptedEvent"],[143,24,127,22],[143,27,127,25],[143,31,127,29],[143,32,127,30,"mapEvent"],[143,40,127,38],[143,41,127,39,"event"],[143,46,127,44],[143,48,127,46,"EventTypes"],[143,59,127,56],[143,60,127,56,"EventTypes"],[143,70,127,56],[143,71,127,57,"CANCEL"],[143,77,127,63],[143,78,127,64],[144,6,128,4],[144,10,128,8],[144,14,128,12],[144,15,128,13,"trackedPointers"],[144,30,128,28],[144,31,128,29,"has"],[144,34,128,32],[144,35,128,33,"adaptedEvent"],[144,47,128,45],[144,48,128,46,"pointerId"],[144,57,128,55],[144,58,128,56],[144,60,128,58],[145,8,129,6],[146,8,130,6],[147,8,131,6],[147,12,131,10],[147,13,131,11,"onPointerCancel"],[147,28,131,26],[147,29,131,27,"adaptedEvent"],[147,41,131,39],[147,42,131,40],[148,8,132,6],[148,12,132,10],[148,13,132,11,"activePointersCounter"],[148,34,132,32],[148,37,132,35],[148,38,132,36],[149,8,133,6],[149,12,133,10],[149,13,133,11,"trackedPointers"],[149,28,133,26],[149,29,133,27,"clear"],[149,34,133,32],[149,35,133,33],[149,36,133,34],[150,6,134,4],[151,4,135,2],[151,5,135,3],[152,4,136,2,"registerListeners"],[152,21,136,19,"registerListeners"],[152,22,136,19],[152,24,136,22],[153,6,137,4],[153,10,137,8],[153,11,137,9,"view"],[153,15,137,13],[153,16,137,14,"addEventListener"],[153,32,137,30],[153,33,137,31],[153,46,137,44],[153,48,137,46],[153,52,137,50],[153,53,137,51,"pointerDownCallback"],[153,72,137,70],[153,73,137,71],[154,6,138,4],[154,10,138,8],[154,11,138,9,"view"],[154,15,138,13],[154,16,138,14,"addEventListener"],[154,32,138,30],[154,33,138,31],[154,44,138,42],[154,46,138,44],[154,50,138,48],[154,51,138,49,"pointerUpCallback"],[154,68,138,66],[154,69,138,67],[155,6,139,4],[155,10,139,8],[155,11,139,9,"view"],[155,15,139,13],[155,16,139,14,"addEventListener"],[155,32,139,30],[155,33,139,31],[155,46,139,44],[155,48,139,46],[155,52,139,50],[155,53,139,51,"pointerMoveCallback"],[155,72,139,70],[155,73,139,71],[156,6,140,4],[156,10,140,8],[156,11,140,9,"view"],[156,15,140,13],[156,16,140,14,"addEventListener"],[156,32,140,30],[156,33,140,31],[156,48,140,46],[156,50,140,48],[156,54,140,52],[156,55,140,53,"pointerCancelCallback"],[156,76,140,74],[156,77,140,75],[158,6,142,4],[159,6,143,4],[160,6,144,4],[161,6,145,4],[162,6,146,4],[162,10,146,8],[162,11,146,9,"view"],[162,15,146,13],[162,16,146,14,"addEventListener"],[162,32,146,30],[162,33,146,31],[162,47,146,45],[162,49,146,47],[162,53,146,51],[162,54,146,52,"pointerEnterCallback"],[162,74,146,72],[162,75,146,73],[163,6,147,4],[163,10,147,8],[163,11,147,9,"view"],[163,15,147,13],[163,16,147,14,"addEventListener"],[163,32,147,30],[163,33,147,31],[163,47,147,45],[163,49,147,47],[163,53,147,51],[163,54,147,52,"pointerLeaveCallback"],[163,74,147,72],[163,75,147,73],[164,6,148,4],[164,10,148,8],[164,11,148,9,"view"],[164,15,148,13],[164,16,148,14,"addEventListener"],[164,32,148,30],[164,33,148,31],[164,53,148,51],[164,55,148,53],[164,59,148,57],[164,60,148,58,"lostPointerCaptureCallback"],[164,86,148,84],[164,87,148,85],[165,4,149,2],[166,4,150,2,"unregisterListeners"],[166,23,150,21,"unregisterListeners"],[166,24,150,21],[166,26,150,24],[167,6,151,4],[167,10,151,8],[167,11,151,9,"view"],[167,15,151,13],[167,16,151,14,"removeEventListener"],[167,35,151,33],[167,36,151,34],[167,49,151,47],[167,51,151,49],[167,55,151,53],[167,56,151,54,"pointerDownCallback"],[167,75,151,73],[167,76,151,74],[168,6,152,4],[168,10,152,8],[168,11,152,9,"view"],[168,15,152,13],[168,16,152,14,"removeEventListener"],[168,35,152,33],[168,36,152,34],[168,47,152,45],[168,49,152,47],[168,53,152,51],[168,54,152,52,"pointerUpCallback"],[168,71,152,69],[168,72,152,70],[169,6,153,4],[169,10,153,8],[169,11,153,9,"view"],[169,15,153,13],[169,16,153,14,"removeEventListener"],[169,35,153,33],[169,36,153,34],[169,49,153,47],[169,51,153,49],[169,55,153,53],[169,56,153,54,"pointerMoveCallback"],[169,75,153,73],[169,76,153,74],[170,6,154,4],[170,10,154,8],[170,11,154,9,"view"],[170,15,154,13],[170,16,154,14,"removeEventListener"],[170,35,154,33],[170,36,154,34],[170,51,154,49],[170,53,154,51],[170,57,154,55],[170,58,154,56,"pointerCancelCallback"],[170,79,154,77],[170,80,154,78],[171,6,155,4],[171,10,155,8],[171,11,155,9,"view"],[171,15,155,13],[171,16,155,14,"removeEventListener"],[171,35,155,33],[171,36,155,34],[171,50,155,48],[171,52,155,50],[171,56,155,54],[171,57,155,55,"pointerEnterCallback"],[171,77,155,75],[171,78,155,76],[172,6,156,4],[172,10,156,8],[172,11,156,9,"view"],[172,15,156,13],[172,16,156,14,"removeEventListener"],[172,35,156,33],[172,36,156,34],[172,50,156,48],[172,52,156,50],[172,56,156,54],[172,57,156,55,"pointerLeaveCallback"],[172,77,156,75],[172,78,156,76],[173,6,157,4],[173,10,157,8],[173,11,157,9,"view"],[173,15,157,13],[173,16,157,14,"removeEventListener"],[173,35,157,33],[173,36,157,34],[173,56,157,54],[173,58,157,56],[173,62,157,60],[173,63,157,61,"lostPointerCaptureCallback"],[173,89,157,87],[173,90,157,88],[174,4,158,2],[175,4,159,2,"mapEvent"],[175,12,159,10,"mapEvent"],[175,13,159,11,"event"],[175,18,159,16],[175,20,159,18,"eventType"],[175,29,159,27],[175,31,159,29],[176,6,160,4],[176,12,160,10,"rect"],[176,16,160,14],[176,19,160,17],[176,23,160,21],[176,24,160,22,"view"],[176,28,160,26],[176,29,160,27,"getBoundingClientRect"],[176,50,160,48],[176,51,160,49],[176,52,160,50],[177,6,161,4],[177,12,161,10],[178,8,162,6,"scaleX"],[178,14,162,12],[179,8,163,6,"scaleY"],[180,6,164,4],[180,7,164,5],[180,10,164,8],[180,14,164,8,"calculateViewScale"],[180,20,164,26],[180,21,164,26,"calculateViewScale"],[180,39,164,26],[180,41,164,27],[180,45,164,31],[180,46,164,32,"view"],[180,50,164,36],[180,51,164,37],[181,6,165,4],[181,13,165,11],[182,8,166,6,"x"],[182,9,166,7],[182,11,166,9,"event"],[182,16,166,14],[182,17,166,15,"clientX"],[182,24,166,22],[183,8,167,6,"y"],[183,9,167,7],[183,11,167,9,"event"],[183,16,167,14],[183,17,167,15,"clientY"],[183,24,167,22],[184,8,168,6,"offsetX"],[184,15,168,13],[184,17,168,15],[184,18,168,16,"event"],[184,23,168,21],[184,24,168,22,"clientX"],[184,31,168,29],[184,34,168,32,"rect"],[184,38,168,36],[184,39,168,37,"left"],[184,43,168,41],[184,47,168,45,"scaleX"],[184,53,168,51],[185,8,169,6,"offsetY"],[185,15,169,13],[185,17,169,15],[185,18,169,16,"event"],[185,23,169,21],[185,24,169,22,"clientY"],[185,31,169,29],[185,34,169,32,"rect"],[185,38,169,36],[185,39,169,37,"top"],[185,42,169,40],[185,46,169,44,"scaleY"],[185,52,169,50],[186,8,170,6,"pointerId"],[186,17,170,15],[186,19,170,17,"event"],[186,24,170,22],[186,25,170,23,"pointerId"],[186,34,170,32],[187,8,171,6,"eventType"],[187,17,171,15],[187,19,171,17,"eventType"],[187,28,171,26],[188,8,172,6,"pointerType"],[188,19,172,17],[188,21,172,19,"PointerTypeMapping"],[188,27,172,37],[188,28,172,37,"PointerTypeMapping"],[188,46,172,37],[188,47,172,38,"get"],[188,50,172,41],[188,51,172,42,"event"],[188,56,172,47],[188,57,172,48,"pointerType"],[188,68,172,59],[188,69,172,60],[188,73,172,64,"PointerType"],[188,85,172,75],[188,86,172,75,"PointerType"],[188,97,172,75],[188,98,172,76,"OTHER"],[188,103,172,81],[189,8,173,6,"button"],[189,14,173,12],[189,16,173,14],[189,20,173,18],[189,21,173,19,"mouseButtonsMapper"],[189,39,173,37],[189,40,173,38,"get"],[189,43,173,41],[189,44,173,42,"event"],[189,49,173,47],[189,50,173,48,"button"],[189,56,173,54],[189,57,173,55],[190,8,174,6,"time"],[190,12,174,10],[190,14,174,12,"event"],[190,19,174,17],[190,20,174,18,"timeStamp"],[190,29,174,27],[191,8,175,6,"stylusData"],[191,18,175,16],[191,20,175,18],[191,24,175,18,"tryExtractStylusData"],[191,30,175,38],[191,31,175,38,"tryExtractStylusData"],[191,51,175,38],[191,53,175,39,"event"],[191,58,175,44],[192,6,176,4],[192,7,176,5],[193,4,177,2],[194,4,178,2,"resetManager"],[194,16,178,14,"resetManager"],[194,17,178,14],[194,19,178,17],[195,6,179,4],[195,11,179,9],[195,12,179,10,"resetManager"],[195,24,179,22],[195,25,179,23],[195,26,179,24],[196,6,180,4],[196,10,180,8],[196,11,180,9,"trackedPointers"],[196,26,180,24],[196,27,180,25,"clear"],[196,32,180,30],[196,33,180,31],[196,34,180,32],[197,4,181,2],[198,2,182,0],[199,0,182,1],[199,3]],"functionMap":{"names":["<global>","PointerEventManager","constructor","pointerDownCallback","pointerUpCallback","pointerMoveCallback","pointerCancelCallback","pointerEnterCallback","pointerLeaveCallback","lostPointerCaptureCallback","registerListeners","unregisterListeners","mapEvent","resetManager"],"mappings":"AAA;eCQ;ECG;GDW;wBEC;GFoB;sBGC;GHqB;wBIC;GJ2C;0BKC;GLM;yBMC;GNG;yBOC;GPG;+BQC;GRS;ESC;GTa;EUC;GVQ;EWC;GXkB;EYC;GZG;CDC"},"hasCjsExports":false},"type":"js/module"}]}