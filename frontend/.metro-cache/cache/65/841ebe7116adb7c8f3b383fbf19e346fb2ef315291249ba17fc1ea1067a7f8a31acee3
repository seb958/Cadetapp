{"dependencies":[{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return InternetReachability;\n    }\n  });\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[0], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  /**\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * @format\n   */\n  var InternetReachability = /*#__PURE__*/(0, _createClass.default)(function InternetReachability(configuration, listener) {\n    (0, _classCallCheck.default)(this, InternetReachability);\n    this._isInternetReachable = undefined;\n    this._currentInternetReachabilityCheckHandler = null;\n    this._currentTimeoutHandle = null;\n    this._setIsInternetReachable = isInternetReachable => {\n      if (this._isInternetReachable === isInternetReachable) {\n        return;\n      }\n      this._isInternetReachable = isInternetReachable;\n      this._listener(this._isInternetReachable);\n    };\n    this._setExpectsConnection = expectsConnection => {\n      // Cancel any pending check\n      if (this._currentInternetReachabilityCheckHandler !== null) {\n        this._currentInternetReachabilityCheckHandler.cancel();\n        this._currentInternetReachabilityCheckHandler = null;\n      }\n      // Cancel any pending timeout\n      if (this._currentTimeoutHandle !== null) {\n        clearTimeout(this._currentTimeoutHandle);\n        this._currentTimeoutHandle = null;\n      }\n      if (expectsConnection && this._configuration.reachabilityShouldRun()) {\n        // If we expect a connection, start the process for finding if we have one\n        // Set the state to \"null\" if it was previously false\n        if (!this._isInternetReachable) {\n          this._setIsInternetReachable(null);\n        }\n        // Start a network request to check for internet\n        this._currentInternetReachabilityCheckHandler = this._checkInternetReachability();\n      } else {\n        // If we don't expect a connection or don't run reachability check, just change the state to \"false\"\n        this._setIsInternetReachable(false);\n      }\n    };\n    this._checkInternetReachability = () => {\n      var controller = new AbortController();\n      var responsePromise = fetch(this._configuration.reachabilityUrl, {\n        headers: this._configuration.reachabilityHeaders,\n        method: this._configuration.reachabilityMethod,\n        cache: 'no-cache',\n        signal: controller.signal\n      });\n\n      // Create promise that will reject after the request timeout has been reached\n      var timeoutHandle;\n      var timeoutPromise = new Promise((_, reject) => {\n        timeoutHandle = setTimeout(() => reject('timedout'), this._configuration.reachabilityRequestTimeout);\n      });\n\n      // Create promise that makes it possible to cancel a pending request through a reject\n      // eslint-disable-next-line @typescript-eslint/no-empty-function\n      var cancel = () => {};\n      var cancelPromise = new Promise((_, reject) => {\n        cancel = () => reject('canceled');\n      });\n      var promise = Promise.race([responsePromise, timeoutPromise, cancelPromise]).then(response => {\n        return this._configuration.reachabilityTest(response);\n      }).then(result => {\n        this._setIsInternetReachable(result);\n        var nextTimeoutInterval = this._isInternetReachable ? this._configuration.reachabilityLongTimeout : this._configuration.reachabilityShortTimeout;\n        this._currentTimeoutHandle = setTimeout(this._checkInternetReachability, nextTimeoutInterval);\n      }).catch(error => {\n        if ('canceled' === error) {\n          controller.abort();\n        } else {\n          if ('timedout' === error) {\n            controller.abort();\n          }\n          this._setIsInternetReachable(false);\n          this._currentTimeoutHandle = setTimeout(this._checkInternetReachability, this._configuration.reachabilityShortTimeout);\n        }\n      })\n      // Clear request timeout and propagate any errors\n      .then(() => {\n        clearTimeout(timeoutHandle);\n      }, error => {\n        clearTimeout(timeoutHandle);\n        throw error;\n      });\n      return {\n        promise,\n        cancel\n      };\n    };\n    this.update = state => {\n      if (typeof state.isInternetReachable === 'boolean' && this._configuration.useNativeReachability) {\n        this._setIsInternetReachable(state.isInternetReachable);\n      } else {\n        this._setExpectsConnection(state.isConnected);\n      }\n    };\n    this.currentState = () => {\n      return this._isInternetReachable;\n    };\n    this.tearDown = () => {\n      // Cancel any pending check\n      if (this._currentInternetReachabilityCheckHandler !== null) {\n        this._currentInternetReachabilityCheckHandler.cancel();\n        this._currentInternetReachabilityCheckHandler = null;\n      }\n\n      // Cancel any pending timeout\n      if (this._currentTimeoutHandle !== null) {\n        clearTimeout(this._currentTimeoutHandle);\n        this._currentTimeoutHandle = null;\n      }\n    };\n    this._configuration = configuration;\n    this._listener = listener;\n  });\n});","lineCount":142,"map":[[15,13,18,21,"InternetReachability"],[15,33,18,41],[16,4,18,41],[17,2,18,41],[18,2,18,41],[18,6,18,41,"_babelRuntimeHelpersCreateClass"],[18,37,18,41],[18,40,18,41,"require"],[18,47,18,41],[18,48,18,41,"_dependencyMap"],[18,62,18,41],[19,2,18,41],[19,6,18,41,"_createClass"],[19,18,18,41],[19,21,18,41,"_interopDefault"],[19,36,18,41],[19,37,18,41,"_babelRuntimeHelpersCreateClass"],[19,68,18,41],[20,2,18,41],[20,6,18,41,"_babelRuntimeHelpersClassCallCheck"],[20,40,18,41],[20,43,18,41,"require"],[20,50,18,41],[20,51,18,41,"_dependencyMap"],[20,65,18,41],[21,2,18,41],[21,6,18,41,"_classCallCheck"],[21,21,18,41],[21,24,18,41,"_interopDefault"],[21,39,18,41],[21,40,18,41,"_babelRuntimeHelpersClassCallCheck"],[21,74,18,41],[22,2,1,0],[23,0,2,0],[24,0,3,0],[25,0,4,0],[26,0,5,0],[27,0,6,0],[28,0,7,0],[29,0,8,0],[30,2,1,0],[30,6,18,21,"InternetReachability"],[30,26,18,41],[30,46,18,41,"_createClass"],[30,58,18,41],[30,59,18,41,"default"],[30,66,18,41],[30,68,25,2],[30,77,25,2,"InternetReachability"],[30,98,26,4,"configuration"],[30,111,26,45],[30,113,27,4,"listener"],[30,121,27,68],[30,123,28,4],[31,4,28,4],[31,8,28,4,"_classCallCheck"],[31,23,28,4],[31,24,28,4,"default"],[31,31,28,4],[31,39,28,4,"InternetReachability"],[31,59,28,4],[32,4,28,4],[32,9,21,10,"_isInternetReachable"],[32,29,21,30],[32,32,21,61,"undefined"],[32,41,21,70],[33,4,21,70],[33,9,22,10,"_currentInternetReachabilityCheckHandler"],[33,49,22,50],[33,52,22,94],[33,56,22,98],[34,4,22,98],[34,9,23,10,"_currentTimeoutHandle"],[34,30,23,31],[34,33,23,72],[34,37,23,76],[35,4,23,76],[35,9,33,10,"_setIsInternetReachable"],[35,32,33,33],[35,35,34,4,"isInternetReachable"],[35,54,34,39],[35,58,35,13],[36,6,36,4],[36,10,36,8],[36,14,36,12],[36,15,36,13,"_isInternetReachable"],[36,35,36,33],[36,40,36,38,"isInternetReachable"],[36,59,36,57],[36,61,36,59],[37,8,37,6],[38,6,38,4],[39,6,40,4],[39,10,40,8],[39,11,40,9,"_isInternetReachable"],[39,31,40,29],[39,34,40,32,"isInternetReachable"],[39,53,40,51],[40,6,41,4],[40,10,41,8],[40,11,41,9,"_listener"],[40,20,41,18],[40,21,41,19],[40,25,41,23],[40,26,41,24,"_isInternetReachable"],[40,46,41,44],[40,47,41,45],[41,4,42,2],[41,5,42,3],[42,4,42,3],[42,9,44,10,"_setExpectsConnection"],[42,30,44,31],[42,33,44,35,"expectsConnection"],[42,50,44,68],[42,54,44,79],[43,6,45,4],[44,6,46,4],[44,10,46,8],[44,14,46,12],[44,15,46,13,"_currentInternetReachabilityCheckHandler"],[44,55,46,53],[44,60,46,58],[44,64,46,62],[44,66,46,64],[45,8,47,6],[45,12,47,10],[45,13,47,11,"_currentInternetReachabilityCheckHandler"],[45,53,47,51],[45,54,47,52,"cancel"],[45,60,47,58],[45,61,47,59],[45,62,47,60],[46,8,48,6],[46,12,48,10],[46,13,48,11,"_currentInternetReachabilityCheckHandler"],[46,53,48,51],[46,56,48,54],[46,60,48,58],[47,6,49,4],[48,6,50,4],[49,6,51,4],[49,10,51,8],[49,14,51,12],[49,15,51,13,"_currentTimeoutHandle"],[49,36,51,34],[49,41,51,39],[49,45,51,43],[49,47,51,45],[50,8,52,6,"clearTimeout"],[50,20,52,18],[50,21,52,19],[50,25,52,23],[50,26,52,24,"_currentTimeoutHandle"],[50,47,52,45],[50,48,52,46],[51,8,53,6],[51,12,53,10],[51,13,53,11,"_currentTimeoutHandle"],[51,34,53,32],[51,37,53,35],[51,41,53,39],[52,6,54,4],[53,6,56,4],[53,10,56,8,"expectsConnection"],[53,27,56,25],[53,31,56,29],[53,35,56,33],[53,36,56,34,"_configuration"],[53,50,56,48],[53,51,56,49,"reachabilityShouldRun"],[53,72,56,70],[53,73,56,71],[53,74,56,72],[53,76,56,74],[54,8,57,6],[55,8,58,6],[56,8,59,6],[56,12,59,10],[56,13,59,11],[56,17,59,15],[56,18,59,16,"_isInternetReachable"],[56,38,59,36],[56,40,59,38],[57,10,60,8],[57,14,60,12],[57,15,60,13,"_setIsInternetReachable"],[57,38,60,36],[57,39,60,37],[57,43,60,41],[57,44,60,42],[58,8,61,6],[59,8,62,6],[60,8,63,6],[60,12,63,10],[60,13,63,11,"_currentInternetReachabilityCheckHandler"],[60,53,63,51],[60,56,63,54],[60,60,63,58],[60,61,63,59,"_checkInternetReachability"],[60,87,63,85],[60,88,63,86],[60,89,63,87],[61,6,64,4],[61,7,64,5],[61,13,64,11],[62,8,65,6],[63,8,66,6],[63,12,66,10],[63,13,66,11,"_setIsInternetReachable"],[63,36,66,34],[63,37,66,35],[63,42,66,40],[63,43,66,41],[64,6,67,4],[65,4,68,2],[65,5,68,3],[66,4,68,3],[66,9,70,10,"_checkInternetReachability"],[66,35,70,36],[66,38,70,39],[66,44,70,79],[67,6,71,4],[67,10,71,10,"controller"],[67,20,71,20],[67,23,71,23],[67,27,71,27,"AbortController"],[67,42,71,42],[67,43,71,43],[67,44,71,44],[68,6,73,4],[68,10,73,10,"responsePromise"],[68,25,73,25],[68,28,73,28,"fetch"],[68,33,73,33],[68,34,73,34],[68,38,73,38],[68,39,73,39,"_configuration"],[68,53,73,53],[68,54,73,54,"reachabilityUrl"],[68,69,73,69],[68,71,73,71],[69,8,74,6,"headers"],[69,15,74,13],[69,17,74,15],[69,21,74,19],[69,22,74,20,"_configuration"],[69,36,74,34],[69,37,74,35,"reachabilityHeaders"],[69,56,74,54],[70,8,75,6,"method"],[70,14,75,12],[70,16,75,14],[70,20,75,18],[70,21,75,19,"_configuration"],[70,35,75,33],[70,36,75,34,"reachabilityMethod"],[70,54,75,52],[71,8,76,6,"cache"],[71,13,76,11],[71,15,76,13],[71,25,76,23],[72,8,77,6,"signal"],[72,14,77,12],[72,16,77,14,"controller"],[72,26,77,24],[72,27,77,25,"signal"],[73,6,78,4],[73,7,78,5],[73,8,78,6],[75,6,80,4],[76,6,81,4],[76,10,81,8,"timeoutHandle"],[76,23,81,52],[77,6,82,4],[77,10,82,10,"timeoutPromise"],[77,24,82,24],[77,27,82,27],[77,31,82,31,"Promise"],[77,38,82,38],[77,39,82,49],[77,40,82,50,"_"],[77,41,82,51],[77,43,82,53,"reject"],[77,49,82,59],[77,54,82,70],[78,8,83,6,"timeoutHandle"],[78,21,83,19],[78,24,83,22,"setTimeout"],[78,34,83,32],[78,35,84,8],[78,41,84,20,"reject"],[78,47,84,26],[78,48,84,27],[78,58,84,37],[78,59,84,38],[78,61,85,8],[78,65,85,12],[78,66,85,13,"_configuration"],[78,80,85,27],[78,81,85,28,"reachabilityRequestTimeout"],[78,107,86,6],[78,108,86,7],[79,6,87,4],[79,7,87,5],[79,8,87,6],[81,6,89,4],[82,6,90,4],[83,6,91,4],[83,10,91,8,"cancel"],[83,16,91,26],[83,19,91,29,"cancel"],[83,20,91,29],[83,25,91,41],[83,26,91,42],[83,27,91,43],[84,6,92,4],[84,10,92,10,"cancelPromise"],[84,23,92,23],[84,26,92,26],[84,30,92,30,"Promise"],[84,37,92,37],[84,38,92,48],[84,39,92,49,"_"],[84,40,92,50],[84,42,92,52,"reject"],[84,48,92,58],[84,53,92,69],[85,8,93,6,"cancel"],[85,14,93,12],[85,17,93,15,"cancel"],[85,18,93,15],[85,23,93,27,"reject"],[85,29,93,33],[85,30,93,34],[85,40,93,44],[85,41,93,45],[86,6,94,4],[86,7,94,5],[86,8,94,6],[87,6,96,4],[87,10,96,10,"promise"],[87,17,96,17],[87,20,96,20,"Promise"],[87,27,96,27],[87,28,96,28,"race"],[87,32,96,32],[87,33,96,33],[87,34,97,6,"responsePromise"],[87,49,97,21],[87,51,98,6,"timeoutPromise"],[87,65,98,20],[87,67,99,6,"cancelPromise"],[87,80,99,19],[87,81,100,5],[87,82,100,6],[87,83,101,7,"then"],[87,87,101,11],[87,88,102,9,"response"],[87,96,102,17],[87,100,102,40],[88,8,103,10],[88,15,103,17],[88,19,103,21],[88,20,103,22,"_configuration"],[88,34,103,36],[88,35,103,37,"reachabilityTest"],[88,51,103,53],[88,52,103,54,"response"],[88,60,103,62],[88,61,103,63],[89,6,104,8],[89,7,105,6],[89,8,105,7],[89,9,106,7,"then"],[89,13,106,11],[89,14,107,9,"result"],[89,20,107,15],[89,24,107,26],[90,8,108,10],[90,12,108,14],[90,13,108,15,"_setIsInternetReachable"],[90,36,108,38],[90,37,108,39,"result"],[90,43,108,45],[90,44,108,46],[91,8,109,10],[91,12,109,16,"nextTimeoutInterval"],[91,31,109,35],[91,34,109,38],[91,38,109,42],[91,39,109,43,"_isInternetReachable"],[91,59,109,63],[91,62,110,14],[91,66,110,18],[91,67,110,19,"_configuration"],[91,81,110,33],[91,82,110,34,"reachabilityLongTimeout"],[91,105,110,57],[91,108,111,14],[91,112,111,18],[91,113,111,19,"_configuration"],[91,127,111,33],[91,128,111,34,"reachabilityShortTimeout"],[91,152,111,58],[92,8,112,10],[92,12,112,14],[92,13,112,15,"_currentTimeoutHandle"],[92,34,112,36],[92,37,112,39,"setTimeout"],[92,47,112,49],[92,48,113,12],[92,52,113,16],[92,53,113,17,"_checkInternetReachability"],[92,79,113,43],[92,81,114,12,"nextTimeoutInterval"],[92,100,115,10],[92,101,115,11],[93,6,116,8],[93,7,117,6],[93,8,117,7],[93,9,118,7,"catch"],[93,14,118,12],[93,15,119,9,"error"],[93,20,119,47],[93,24,119,58],[94,8,120,10],[94,12,120,14],[94,22,120,24],[94,27,120,29,"error"],[94,32,120,34],[94,34,120,36],[95,10,121,12,"controller"],[95,20,121,22],[95,21,121,23,"abort"],[95,26,121,28],[95,27,121,29],[95,28,121,30],[96,8,122,10],[96,9,122,11],[96,15,122,17],[97,10,123,12],[97,14,123,16],[97,24,123,26],[97,29,123,31,"error"],[97,34,123,36],[97,36,123,38],[98,12,124,14,"controller"],[98,22,124,24],[98,23,124,25,"abort"],[98,28,124,30],[98,29,124,31],[98,30,124,32],[99,10,125,12],[100,10,127,12],[100,14,127,16],[100,15,127,17,"_setIsInternetReachable"],[100,38,127,40],[100,39,127,41],[100,44,127,46],[100,45,127,47],[101,10,128,12],[101,14,128,16],[101,15,128,17,"_currentTimeoutHandle"],[101,36,128,38],[101,39,128,41,"setTimeout"],[101,49,128,51],[101,50,129,14],[101,54,129,18],[101,55,129,19,"_checkInternetReachability"],[101,81,129,45],[101,83,130,14],[101,87,130,18],[101,88,130,19,"_configuration"],[101,102,130,33],[101,103,130,34,"reachabilityShortTimeout"],[101,127,131,12],[101,128,131,13],[102,8,132,10],[103,6,133,8],[103,7,134,6],[104,6,135,6],[105,6,135,6],[105,7,136,7,"then"],[105,11,136,11],[105,12,137,8],[105,18,137,20],[106,8,138,10,"clearTimeout"],[106,20,138,22],[106,21,138,23,"timeoutHandle"],[106,34,138,36],[106,35,138,37],[107,6,139,8],[107,7,139,9],[107,9,140,9,"error"],[107,14,140,21],[107,18,140,32],[108,8,141,10,"clearTimeout"],[108,20,141,22],[108,21,141,23,"timeoutHandle"],[108,34,141,36],[108,35,141,37],[109,8,142,10],[109,14,142,16,"error"],[109,19,142,21],[110,6,143,8],[110,7,144,6],[110,8,144,7],[111,6,146,4],[111,13,146,11],[112,8,147,6,"promise"],[112,15,147,13],[113,8,148,6,"cancel"],[114,6,149,4],[114,7,149,5],[115,4,150,2],[115,5,150,3],[116,4,150,3],[116,9,152,9,"update"],[116,15,152,15],[116,18,152,19,"state"],[116,23,152,63],[116,27,152,74],[117,6,153,4],[117,10,154,6],[117,17,154,13,"state"],[117,22,154,18],[117,23,154,19,"isInternetReachable"],[117,42,154,38],[117,47,154,43],[117,56,154,52],[117,60,155,6],[117,64,155,10],[117,65,155,11,"_configuration"],[117,79,155,25],[117,80,155,26,"useNativeReachability"],[117,101,155,47],[117,103,156,6],[118,8,157,6],[118,12,157,10],[118,13,157,11,"_setIsInternetReachable"],[118,36,157,34],[118,37,157,35,"state"],[118,42,157,40],[118,43,157,41,"isInternetReachable"],[118,62,157,60],[118,63,157,61],[119,6,158,4],[119,7,158,5],[119,13,158,11],[120,8,159,6],[120,12,159,10],[120,13,159,11,"_setExpectsConnection"],[120,34,159,32],[120,35,159,33,"state"],[120,40,159,38],[120,41,159,39,"isConnected"],[120,52,159,50],[120,53,159,51],[121,6,160,4],[122,4,161,2],[122,5,161,3],[123,4,161,3],[123,9,163,9,"currentState"],[123,21,163,21],[123,24,163,24],[123,30,163,58],[124,6,164,4],[124,13,164,11],[124,17,164,15],[124,18,164,16,"_isInternetReachable"],[124,38,164,36],[125,4,165,2],[125,5,165,3],[126,4,165,3],[126,9,167,9,"tearDown"],[126,17,167,17],[126,20,167,20],[126,26,167,32],[127,6,168,4],[128,6,169,4],[128,10,169,8],[128,14,169,12],[128,15,169,13,"_currentInternetReachabilityCheckHandler"],[128,55,169,53],[128,60,169,58],[128,64,169,62],[128,66,169,64],[129,8,170,6],[129,12,170,10],[129,13,170,11,"_currentInternetReachabilityCheckHandler"],[129,53,170,51],[129,54,170,52,"cancel"],[129,60,170,58],[129,61,170,59],[129,62,170,60],[130,8,171,6],[130,12,171,10],[130,13,171,11,"_currentInternetReachabilityCheckHandler"],[130,53,171,51],[130,56,171,54],[130,60,171,58],[131,6,172,4],[133,6,174,4],[134,6,175,4],[134,10,175,8],[134,14,175,12],[134,15,175,13,"_currentTimeoutHandle"],[134,36,175,34],[134,41,175,39],[134,45,175,43],[134,47,175,45],[135,8,176,6,"clearTimeout"],[135,20,176,18],[135,21,176,19],[135,25,176,23],[135,26,176,24,"_currentTimeoutHandle"],[135,47,176,45],[135,48,176,46],[136,8,177,6],[136,12,177,10],[136,13,177,11,"_currentTimeoutHandle"],[136,34,177,32],[136,37,177,35],[136,41,177,39],[137,6,178,4],[138,4,179,2],[138,5,179,3],[139,4,29,4],[139,8,29,8],[139,9,29,9,"_configuration"],[139,23,29,23],[139,26,29,26,"configuration"],[139,39,29,39],[140,4,30,4],[140,8,30,8],[140,9,30,9,"_listener"],[140,18,30,18],[140,21,30,21,"listener"],[140,29,30,29],[141,2,31,2],[141,3,31,3],[142,0,31,3],[142,3]],"functionMap":{"names":["<global>","InternetReachability","InternetReachability#constructor","InternetReachability#_setIsInternetReachable","InternetReachability#_setExpectsConnection","InternetReachability#_checkInternetReachability","Promise$argument_0","setTimeout$argument_0","cancel","Promise.race.then$argument_0","Promise.race.then.then$argument_0","Promise.race.then.then._catch$argument_0","Promise.race..._catch.then$argument_0","Promise.race..._catch.then$argument_1","InternetReachability#update","InternetReachability#currentState","InternetReachability#tearDown"],"mappings":"AAA;eCiB;ECO;GDM;oCEE;GFS;kCGE;GHwB;uCIE;iDCY;QCE,8BD;KDG;6BGI,cH;gDCC;eEC,8BF;KDC;QIQ;SJE;QKG;SLS;QMG;SNc;QOI;SPE;QQC;SRG;GJO;kBaE;GbS;wBcE;GdE;oBeE;GfY;CDC"},"hasCjsExports":false},"type":"js/module"}]}