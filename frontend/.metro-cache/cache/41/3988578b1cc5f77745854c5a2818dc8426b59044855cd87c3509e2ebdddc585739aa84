{"dependencies":[{"name":"../../handlersRegistry","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":24,"index":146},"end":{"line":8,"column":57,"index":179}}],"key":"ZaQ44tMlNi0uwwL9WSHpSUsXoLw=","exportNames":["*"],"imports":1}},{"name":"../../../RNGestureHandlerModule","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":53,"index":235},"end":{"line":10,"column":95,"index":277}}],"key":"RCDdIknCoffiRx5ELXjRDwUd78Y=","exportNames":["*"],"imports":1}},{"name":"../../utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":12,"column":13,"index":294},"end":{"line":12,"column":35,"index":316}}],"key":"/gxgMVIBQIOS9WgzAWnJsYriGvM=","exportNames":["*"],"imports":1}},{"name":"../../../ActionType","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":14,"column":18,"index":337},"end":{"line":14,"column":48,"index":367}}],"key":"gYYgg0THnWXWh/2KlF2llIoqsgE=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/index","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"55efhPHw3gz2FoQtoN2yI1VuhbM=","exportNames":["*"],"imports":1}},{"name":"../../../ghQueueMicrotask","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":18,"column":24,"index":439},"end":{"line":18,"column":60,"index":475}}],"key":"bloXnJQHwqvTb0wIEM895i4Wj90=","exportNames":["*"],"imports":1}},{"name":"./utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":20,"column":14,"index":492},"end":{"line":20,"column":32,"index":510}}],"key":"Arg6QRuIuy5D/jfcnxX1qJiHjX8=","exportNames":["*"],"imports":1}},{"name":"../../../mountRegistry","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":22,"column":21,"index":534},"end":{"line":22,"column":54,"index":567}}],"key":"EgFtYEHVZph/u3n2IoKpGlRcNgQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.attachHandlers = attachHandlers;\n  var _handlersRegistry = require(_dependencyMap[0], \"../../handlersRegistry\");\n  var _RNGestureHandlerModule = _interopRequireDefault(require(_dependencyMap[1], \"../../../RNGestureHandlerModule\"));\n  var _utils = require(_dependencyMap[2], \"../../utils\");\n  var _ActionType = require(_dependencyMap[3], \"../../../ActionType\");\n  var _reactNative = require(_dependencyMap[4], \"react-native-web/dist/index\");\n  var _ghQueueMicrotask = require(_dependencyMap[5], \"../../../ghQueueMicrotask\");\n  var _utils2 = require(_dependencyMap[6], \"./utils\");\n  var _mountRegistry = require(_dependencyMap[7], \"../../../mountRegistry\");\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n  function attachHandlers({\n    preparedGesture,\n    gestureConfig,\n    gesturesToAttach,\n    viewTag,\n    webEventHandlersRef\n  }) {\n    gestureConfig.initialize(); // Use queueMicrotask to extract handlerTags, because all refs should be initialized\n    // when it's ran\n\n    (0, _ghQueueMicrotask.ghQueueMicrotask)(() => {\n      if (!preparedGesture.isMounted) {\n        return;\n      }\n      gestureConfig.prepare();\n    });\n    for (const handler of gesturesToAttach) {\n      (0, _utils2.checkGestureCallbacksForWorklets)(handler);\n      _RNGestureHandlerModule.default.createGestureHandler(handler.handlerName, handler.handlerTag, (0, _utils.filterConfig)(handler.config, _utils2.ALLOWED_PROPS));\n      (0, _handlersRegistry.registerHandler)(handler.handlerTag, handler, handler.config.testId);\n    } // Use queueMicrotask to extract handlerTags, because all refs should be initialized\n    // when it's ran\n\n    (0, _ghQueueMicrotask.ghQueueMicrotask)(() => {\n      if (!preparedGesture.isMounted) {\n        return;\n      }\n      for (const handler of gesturesToAttach) {\n        _RNGestureHandlerModule.default.updateGestureHandler(handler.handlerTag, (0, _utils.filterConfig)(handler.config, _utils2.ALLOWED_PROPS, (0, _utils2.extractGestureRelations)(handler)));\n      }\n      (0, _utils.scheduleFlushOperations)();\n    });\n    for (const gesture of gesturesToAttach) {\n      const actionType = gesture.shouldUseReanimated ? _ActionType.ActionType.REANIMATED_WORKLET : _ActionType.ActionType.JS_FUNCTION_NEW_API;\n      if (_reactNative.Platform.OS === 'web') {\n        _RNGestureHandlerModule.default.attachGestureHandler(gesture.handlerTag, viewTag, _ActionType.ActionType.JS_FUNCTION_OLD_API,\n        // Ignored on web\n        webEventHandlersRef);\n      } else {\n        _RNGestureHandlerModule.default.attachGestureHandler(gesture.handlerTag, viewTag, actionType);\n      }\n      _mountRegistry.MountRegistry.gestureWillMount(gesture);\n    }\n    preparedGesture.attachedGestures = gesturesToAttach;\n    if (preparedGesture.animatedHandlers) {\n      const isAnimatedGesture = g => g.shouldUseReanimated;\n      preparedGesture.animatedHandlers.value = gesturesToAttach.filter(isAnimatedGesture).map(g => g.handlers);\n    }\n  }\n});","lineCount":70,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"attachHandlers"],[7,24,6,22],[7,27,6,25,"attachHandlers"],[7,41,6,39],[8,2,8,0],[8,6,8,4,"_handlersRegistry"],[8,23,8,21],[8,26,8,24,"require"],[8,33,8,31],[8,34,8,31,"_dependencyMap"],[8,48,8,31],[8,77,8,56],[8,78,8,57],[9,2,10,0],[9,6,10,4,"_RNGestureHandlerModule"],[9,29,10,27],[9,32,10,30,"_interopRequireDefault"],[9,54,10,52],[9,55,10,53,"require"],[9,62,10,60],[9,63,10,60,"_dependencyMap"],[9,77,10,60],[9,115,10,94],[9,116,10,95],[9,117,10,96],[10,2,12,0],[10,6,12,4,"_utils"],[10,12,12,10],[10,15,12,13,"require"],[10,22,12,20],[10,23,12,20,"_dependencyMap"],[10,37,12,20],[10,55,12,34],[10,56,12,35],[11,2,14,0],[11,6,14,4,"_ActionType"],[11,17,14,15],[11,20,14,18,"require"],[11,27,14,25],[11,28,14,25,"_dependencyMap"],[11,42,14,25],[11,68,14,47],[11,69,14,48],[12,2,14,49],[12,6,14,49,"_reactNative"],[12,18,14,49],[12,21,14,49,"require"],[12,28,14,49],[12,29,14,49,"_dependencyMap"],[12,43,14,49],[13,2,18,0],[13,6,18,4,"_ghQueueMicrotask"],[13,23,18,21],[13,26,18,24,"require"],[13,33,18,31],[13,34,18,31,"_dependencyMap"],[13,48,18,31],[13,80,18,59],[13,81,18,60],[14,2,20,0],[14,6,20,4,"_utils2"],[14,13,20,11],[14,16,20,14,"require"],[14,23,20,21],[14,24,20,21,"_dependencyMap"],[14,38,20,21],[14,52,20,31],[14,53,20,32],[15,2,22,0],[15,6,22,4,"_mountRegistry"],[15,20,22,18],[15,23,22,21,"require"],[15,30,22,28],[15,31,22,28,"_dependencyMap"],[15,45,22,28],[15,74,22,53],[15,75,22,54],[16,2,24,0],[16,11,24,9,"_interopRequireDefault"],[16,33,24,31,"_interopRequireDefault"],[16,34,24,32,"obj"],[16,37,24,35],[16,39,24,37],[17,4,24,39],[17,11,24,46,"obj"],[17,14,24,49],[17,18,24,53,"obj"],[17,21,24,56],[17,22,24,57,"__esModule"],[17,32,24,67],[17,35,24,70,"obj"],[17,38,24,73],[17,41,24,76],[18,6,24,78,"default"],[18,13,24,85],[18,15,24,87,"obj"],[19,4,24,91],[19,5,24,92],[20,2,24,94],[21,2,26,0],[21,11,26,9,"attachHandlers"],[21,25,26,23,"attachHandlers"],[21,26,26,24],[22,4,27,2,"preparedGesture"],[22,19,27,17],[23,4,28,2,"gestureConfig"],[23,17,28,15],[24,4,29,2,"gesturesToAttach"],[24,20,29,18],[25,4,30,2,"viewTag"],[25,11,30,9],[26,4,31,2,"webEventHandlersRef"],[27,2,32,0],[27,3,32,1],[27,5,32,3],[28,4,33,2,"gestureConfig"],[28,17,33,15],[28,18,33,16,"initialize"],[28,28,33,26],[28,29,33,27],[28,30,33,28],[28,31,33,29],[28,32,33,30],[29,4,34,2],[31,4,36,2],[31,5,36,3],[31,6,36,4],[31,8,36,6,"_ghQueueMicrotask"],[31,25,36,23],[31,26,36,24,"ghQueueMicrotask"],[31,42,36,40],[31,44,36,42],[31,50,36,48],[32,6,37,4],[32,10,37,8],[32,11,37,9,"preparedGesture"],[32,26,37,24],[32,27,37,25,"isMounted"],[32,36,37,34],[32,38,37,36],[33,8,38,6],[34,6,39,4],[35,6,41,4,"gestureConfig"],[35,19,41,17],[35,20,41,18,"prepare"],[35,27,41,25],[35,28,41,26],[35,29,41,27],[36,4,42,2],[36,5,42,3],[36,6,42,4],[37,4,44,2],[37,9,44,7],[37,15,44,13,"handler"],[37,22,44,20],[37,26,44,24,"gesturesToAttach"],[37,42,44,40],[37,44,44,42],[38,6,45,4],[38,7,45,5],[38,8,45,6],[38,10,45,8,"_utils2"],[38,17,45,15],[38,18,45,16,"checkGestureCallbacksForWorklets"],[38,50,45,48],[38,52,45,50,"handler"],[38,59,45,57],[38,60,45,58],[39,6,47,4,"_RNGestureHandlerModule"],[39,29,47,27],[39,30,47,28,"default"],[39,37,47,35],[39,38,47,36,"createGestureHandler"],[39,58,47,56],[39,59,47,57,"handler"],[39,66,47,64],[39,67,47,65,"handlerName"],[39,78,47,76],[39,80,47,78,"handler"],[39,87,47,85],[39,88,47,86,"handlerTag"],[39,98,47,96],[39,100,47,98],[39,101,47,99],[39,102,47,100],[39,104,47,102,"_utils"],[39,110,47,108],[39,111,47,109,"filterConfig"],[39,123,47,121],[39,125,47,123,"handler"],[39,132,47,130],[39,133,47,131,"config"],[39,139,47,137],[39,141,47,139,"_utils2"],[39,148,47,146],[39,149,47,147,"ALLOWED_PROPS"],[39,162,47,160],[39,163,47,161],[39,164,47,162],[40,6,49,4],[40,7,49,5],[40,8,49,6],[40,10,49,8,"_handlersRegistry"],[40,27,49,25],[40,28,49,26,"registerHandler"],[40,43,49,41],[40,45,49,43,"handler"],[40,52,49,50],[40,53,49,51,"handlerTag"],[40,63,49,61],[40,65,49,63,"handler"],[40,72,49,70],[40,74,49,72,"handler"],[40,81,49,79],[40,82,49,80,"config"],[40,88,49,86],[40,89,49,87,"testId"],[40,95,49,93],[40,96,49,94],[41,4,50,2],[41,5,50,3],[41,6,50,4],[42,4,51,2],[44,4,54,2],[44,5,54,3],[44,6,54,4],[44,8,54,6,"_ghQueueMicrotask"],[44,25,54,23],[44,26,54,24,"ghQueueMicrotask"],[44,42,54,40],[44,44,54,42],[44,50,54,48],[45,6,55,4],[45,10,55,8],[45,11,55,9,"preparedGesture"],[45,26,55,24],[45,27,55,25,"isMounted"],[45,36,55,34],[45,38,55,36],[46,8,56,6],[47,6,57,4],[48,6,59,4],[48,11,59,9],[48,17,59,15,"handler"],[48,24,59,22],[48,28,59,26,"gesturesToAttach"],[48,44,59,42],[48,46,59,44],[49,8,60,6,"_RNGestureHandlerModule"],[49,31,60,29],[49,32,60,30,"default"],[49,39,60,37],[49,40,60,38,"updateGestureHandler"],[49,60,60,58],[49,61,60,59,"handler"],[49,68,60,66],[49,69,60,67,"handlerTag"],[49,79,60,77],[49,81,60,79],[49,82,60,80],[49,83,60,81],[49,85,60,83,"_utils"],[49,91,60,89],[49,92,60,90,"filterConfig"],[49,104,60,102],[49,106,60,104,"handler"],[49,113,60,111],[49,114,60,112,"config"],[49,120,60,118],[49,122,60,120,"_utils2"],[49,129,60,127],[49,130,60,128,"ALLOWED_PROPS"],[49,143,60,141],[49,145,60,143],[49,146,60,144],[49,147,60,145],[49,149,60,147,"_utils2"],[49,156,60,154],[49,157,60,155,"extractGestureRelations"],[49,180,60,178],[49,182,60,180,"handler"],[49,189,60,187],[49,190,60,188],[49,191,60,189],[49,192,60,190],[50,6,61,4],[51,6,63,4],[51,7,63,5],[51,8,63,6],[51,10,63,8,"_utils"],[51,16,63,14],[51,17,63,15,"scheduleFlushOperations"],[51,40,63,38],[51,42,63,40],[51,43,63,41],[52,4,64,2],[52,5,64,3],[52,6,64,4],[53,4,66,2],[53,9,66,7],[53,15,66,13,"gesture"],[53,22,66,20],[53,26,66,24,"gesturesToAttach"],[53,42,66,40],[53,44,66,42],[54,6,67,4],[54,12,67,10,"actionType"],[54,22,67,20],[54,25,67,23,"gesture"],[54,32,67,30],[54,33,67,31,"shouldUseReanimated"],[54,52,67,50],[54,55,67,53,"_ActionType"],[54,66,67,64],[54,67,67,65,"ActionType"],[54,77,67,75],[54,78,67,76,"REANIMATED_WORKLET"],[54,96,67,94],[54,99,67,97,"_ActionType"],[54,110,67,108],[54,111,67,109,"ActionType"],[54,121,67,119],[54,122,67,120,"JS_FUNCTION_NEW_API"],[54,141,67,139],[55,6,69,4],[55,10,69,8,"_reactNative"],[55,22,69,20],[55,23,69,21,"Platform"],[55,31,69,29],[55,32,69,30,"OS"],[55,34,69,32],[55,39,69,37],[55,44,69,42],[55,46,69,44],[56,8,70,6,"_RNGestureHandlerModule"],[56,31,70,29],[56,32,70,30,"default"],[56,39,70,37],[56,40,70,38,"attachGestureHandler"],[56,60,70,58],[56,61,70,59,"gesture"],[56,68,70,66],[56,69,70,67,"handlerTag"],[56,79,70,77],[56,81,70,79,"viewTag"],[56,88,70,86],[56,90,70,88,"_ActionType"],[56,101,70,99],[56,102,70,100,"ActionType"],[56,112,70,110],[56,113,70,111,"JS_FUNCTION_OLD_API"],[56,132,70,130],[57,8,70,132],[58,8,71,6,"webEventHandlersRef"],[58,27,71,25],[58,28,71,26],[59,6,72,4],[59,7,72,5],[59,13,72,11],[60,8,73,6,"_RNGestureHandlerModule"],[60,31,73,29],[60,32,73,30,"default"],[60,39,73,37],[60,40,73,38,"attachGestureHandler"],[60,60,73,58],[60,61,73,59,"gesture"],[60,68,73,66],[60,69,73,67,"handlerTag"],[60,79,73,77],[60,81,73,79,"viewTag"],[60,88,73,86],[60,90,73,88,"actionType"],[60,100,73,98],[60,101,73,99],[61,6,74,4],[62,6,76,4,"_mountRegistry"],[62,20,76,18],[62,21,76,19,"MountRegistry"],[62,34,76,32],[62,35,76,33,"gestureWillMount"],[62,51,76,49],[62,52,76,50,"gesture"],[62,59,76,57],[62,60,76,58],[63,4,77,2],[64,4,79,2,"preparedGesture"],[64,19,79,17],[64,20,79,18,"attachedGestures"],[64,36,79,34],[64,39,79,37,"gesturesToAttach"],[64,55,79,53],[65,4,81,2],[65,8,81,6,"preparedGesture"],[65,23,81,21],[65,24,81,22,"animatedHandlers"],[65,40,81,38],[65,42,81,40],[66,6,82,4],[66,12,82,10,"isAnimatedGesture"],[66,29,82,27],[66,32,82,30,"g"],[66,33,82,31],[66,37,82,35,"g"],[66,38,82,36],[66,39,82,37,"shouldUseReanimated"],[66,58,82,56],[67,6,84,4,"preparedGesture"],[67,21,84,19],[67,22,84,20,"animatedHandlers"],[67,38,84,36],[67,39,84,37,"value"],[67,44,84,42],[67,47,84,45,"gesturesToAttach"],[67,63,84,61],[67,64,84,62,"filter"],[67,70,84,68],[67,71,84,69,"isAnimatedGesture"],[67,88,84,86],[67,89,84,87],[67,90,84,88,"map"],[67,93,84,91],[67,94,84,92,"g"],[67,95,84,93],[67,99,84,97,"g"],[67,100,84,98],[67,101,84,99,"handlers"],[67,109,84,107],[67,110,84,108],[68,4,85,2],[69,2,86,0],[70,0,86,1],[70,3]],"functionMap":{"names":["<global>","_interopRequireDefault","attachHandlers","<anonymous>","isAnimatedGesture","gesturesToAttach.filter.map$argument_0"],"mappings":"AAA;ACuB,+FD;AEE;0CCU;GDM;0CCY;GDU;8BEkB,0BF;4FGE,eH;CFE"},"hasCjsExports":true},"type":"js/module"}]}